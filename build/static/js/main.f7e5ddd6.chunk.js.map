{"version":3,"sources":["common/ScrollToTop.js","firebase.js","common/Title.js","img/noimage.jpg","volunteer/detail/Map.js","common/ModalItem.js","volunteer/detail/Rikkouho.js","volunteer/detail/RikkouhoCansel.js","volunteer/detail/Touchaku.js","volunteer/detail/Kanryou.js","volunteer/detail/DetailItem.js","volunteer/detail/Detail.js","guest/request/GuestRequest.js","guest/mylist/RequestItem.js","guest/mylist/AcceptedReq.js","guest/mylist/WaitingReq.js","guest/mylist/FinishedReq.js","guest/mylist/MylistTab.js","guest/mylist/GuestMylist.js","chat/ChatList.js","chat/ForumList.js","chat/ChatTab.js","chat/ChatTop.js","guest/notice/GuestNoticeItem.js","guest/notice/GuestNotice.js","guest/profile/ProfileItem.js","guest/profile/GuestProfile.js","guest/nav/ChatBudge.js","guest/nav/NoticeBudge.js","guest/nav/GuestNav.js","volunteer/detail/GuestInfoItem.js","volunteer/detail/GuestInfo.js","chat/ForumItem.js","chat/ChatItem.js","TitleOffline.js","App.js","Register.js","Userflg.js","volunteer/request/RequestItem.js","volunteer/request/RealtimeRequest.js","volunteer/request/RecentRequest.js","volunteer/request/AllRequest.js","volunteer/request/WantedRequest.js","volunteer/request/Coverimage.js","img/realtime.jpg","img/pretime.jpg","volunteer/request/RequestTab.js","volunteer/request/Request.js","volunteer/mylist/AcceptedVol.js","volunteer/mylist/WaitingVol.js","volunteer/mylist/FinishedVol.js","volunteer/mylist/MylistTab.js","volunteer/mylist/Mylist.js","volunteer/notice/NoticeItem.js","volunteer/notice/Notice.js","volunteer/profile/ProfileItem.js","volunteer/profile/ReviewItem.js","volunteer/profile/Review.js","volunteer/profile/Profile.js","volunteer/nav/ChatBudge.js","volunteer/nav/NoticeBudge.js","volunteer/nav/Nav.js","guest/detail/Done.js","guest/detail/GuestDetailItem.js","guest/detail/GuestDetail.js","guest/detail/VolunteerInfoItem.js","guest/detail/VolunteerInfo.js","guest/detail/SelectItem.js","guest/detail/VolunteerSelect.js","common/Router.js","index.js"],"names":["ScrollToTop","prevProps","this","props","location","pathname","window","scrollTo","children","Component","withRouter","db","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","auth","storage","useStyles","makeStyles","theme","title","bottom","top","boxShadow","root","flexGrow","text","Title","history","classes","useEffect","unSub","onAuthStateChanged","user","push","className","AppBar","position","color","Toolbar","Typography","variant","IconButton","edge","onClick","a","signOut","alert","message","map","maxWidth","height","backgroundColor","marginBottom","marginTop","Map","departure_lat","departure_lon","destination_lat","destination_lon","paper","palette","background","shadows","padding","spacing","textAlign","close","right","ModalItem","buttonText","onSubmit","handleClose","Button","size","modal","display","alignItems","justifyContent","button","margin","Rikkouho","id","guest_id","myId","mynickname","rikkouho_id","mypic","useState","open","setOpen","rikkouho","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","collection","doc","update","add","escort_id","user_id","icon","notice","already_read","created_at","FieldValue","serverTimestamp","RikkouhoCansel","index","indexOf","splice","Touchaku","status_2","Kanryou","box","pointerEvents","image","width","img","objectFit","guestList","guestInfo","paddingLeft","guest","paddingTop","paddingBottom","button2","marginLeft","picture","nickname","es_date","start_time","departure","destination","number","lan_1","lan_2","lan_3","status","emergency","includes","src","alt","Img","state","guestId","escortId","Detail","volunteer_id","request","setRequest","firebaseData","onSnapshot","snapshot","data","guest_pic","guest_nickname","area","input","minWidth","select","labelarea","lineHeight","GuestRequest","esdate","setEsdate","date","setDate","newDate","setNewDate","time","setTime","disabled","setDisabled","setNumber","language1","setLanguage1","language2","setLanguage2","language3","setLanguage3","setDeparture","setDestination","setUser","where","docs","e","preventDefault","FormControl","component","RadioGroup","aria-label","name","value","onChange","target","FormControlLabel","control","Radio","label","TextField","type","newstr","replace","required","InputLabelProps","shrink","inputProps","step","InputLabel","Select","labelId","displayEmpty","MenuItem","set","item","large","avatar","paddingRight","list","flexDirection","list2","Paper","ListItem","ListItemAvatar","Avatar","ListItemText","primary","secondary","align","length","AcceptedReq","volunteer_nickname","volunteer_pic","orderBy","requestItem","end_time","WaitingReq","FinishedReq","TabPanel","other","role","hidden","a11yProps","tab","MylistTab","useTheme","setValue","Tabs","event","newValue","indicatorColor","textColor","Tab","axis","direction","onChangeIndex","dir","Box","p","GuestMylist","ChatList","List","ForumList","ChatTab","ChatTop","green","blue","red","yellow","black","Divider","GuestNotice","setNotice","revise","backgroundImage","backgroundSize","cursor","verticalAlign","inputFile","imgIcon","left","reviewarea","account","description","ProfileItem","updated_at","newpicture","setNewpicture","newnickname","setNewnickname","newaccount","setNewaccount","newdescription","setNewdescription","S","fileName","Array","from","crypto","getRandomValues","Uint32Array","n","join","ref","put","on","TaskEvent","STATE_CHANGED","err","child","getDownloadURL","then","url","files","reader","FileReader","onload","document","getElementById","setAttribute","result","readAsDataURL","multiline","rows","Date","toDate","toLocaleString","GuestProfile","user_flg","profile","setProfile","ChatBudge","Badge","invisible","NoticeBudge","appBar","fontSize","GuestNav","GuestInfoItem","href","GuestInfo","accout","ForumItem","console","log","ChatItem","TitleOffline","link","textDecoration","email","setEmail","password","setPassword","signInWithEmailAndPassword","lastname","setLastname","firstname","setFirstname","userflg","setUserflg","setNickname","register","createUserWithEmailAndPassword","first_name","last_name","Userflg","RealtimeRequest","limit","RecentRequest","AllRequest","WantedRequest","maxHeight","subtitle","Coverimage","RequestTab","src1","src2","Request","AcceptedVol","WaitingVol","FinishedVol","Mylist","Notice","line","borderBottom","ReviewItem","evaluate","comment","Review","setEvaluate","Profile","Nav","now","getFullYear","getMonth","slice","getDate","Done","setComment","volList","volInfo","vol","margin2","StyledMenu","withStyles","border","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","main","common","white","anchorEl","setAnchorEl","handleClick","currentTarget","endIcon","keepMounted","Boolean","delete","goBack","volunteerId","GuestDetail","VolunteerInfoItem","VolunteerInfo","flex","marginRight","volpic","VolunteerSelect","Router","exact","path","App","Register","createMuiTheme","light","dark","contrastText","ReactDOM","render","ThemeProvider"],"mappings":"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","file":"static/js/main.f7e5ddd6.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass ScrollToTop extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import firebase from \"firebase/app\";\nimport \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\n// .envに書いたファイルを参照している\nconst firebaseApp = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const db = firebaseApp.firestore();\nexport const auth = firebase.auth();\nexport const storage = firebase.storage();","import React,{useEffect} from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { AppBar, IconButton, Toolbar } from '@material-ui/core';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport { auth } from \"../firebase\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        bottom: 'auto',\r\n        top: 0,\r\n        boxShadow: \"none\",\r\n      },\r\n      root: {\r\n        flexGrow: 1,\r\n      },\r\n      text:{\r\n        flexGrow: 1,\r\n      },\r\n  }));\r\n\r\nconst Title = ({title, history}) => {\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        // onAuthStateChanged→何らかのユーザー認証変化があったら実行される\r\n        // その際に[user]内に格納される＝空だったら何も起こらない→つまりログインされていない状態\r\n        const unSub = auth.onAuthStateChanged((user) => {\r\n          // !user = falseとなる、つまりユーザーがログインしていない状態の時はログインページに飛ばす\r\n          !user && history.push(\"/\");\r\n        });\r\n        return () => unSub();\r\n      });    \r\n\r\n    return (\r\n        <>\r\n        <div className={classes.root}>\r\n        <AppBar position=\"fixed\" color=\"primary\" className={classes.title}>\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" className={classes.text}>\r\n                 {title}\r\n            </Typography>\r\n            <IconButton color=\"inherit\" edge=\"end\" \r\n                onClick={async () => {\r\n                    try {\r\n                    await auth.signOut();\r\n                    history.push(\"/\");\r\n                    } catch (error) {\r\n                    alert(error.message);\r\n                    }\r\n                }}>\r\n            <ExitToAppIcon />\r\n            </IconButton>\r\n        </Toolbar>\r\n        </AppBar>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Title\r\n","export default \"data:image/jpeg;base64,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\"","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    map: {\r\n        maxWidth: 500,\r\n        height:200,\r\n        backgroundColor: \"gray\",\r\n        color:\"white\",\r\n        marginBottom: 20,\r\n        marginTop: 10,\r\n      },\r\n  }));\r\nconst Map = ({departure_lat, departure_lon, destination_lat, destination_lon}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            <div className={classes.map}>\r\n            ここにmapが入る予定\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Map","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    //   border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n      textAlign: \"center\",\r\n      position: \"relative\",\r\n    },\r\n    close:{\r\n      color: \"gray\",\r\n      position: \"absolute\",\r\n      top: 10,\r\n      right: 10,\r\n    }\r\n  }));\r\n\r\nconst ModalItem = ({title, text, buttonText, onSubmit, handleClose}) => {\r\n    const classes = useStyles();\r\n    return (\r\n          <div className={classes.paper}>\r\n            <h3 >{title}</h3>\r\n            <p >{text}</p>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={onSubmit}>\r\n                {buttonText}\r\n            </Button>\r\n            <HighlightOffIcon variant=\"outlined\" size=\"large\" onClick={handleClose} className={classes.close}/>\r\n          </div>\r\n    )\r\n}\r\n \r\nexport default ModalItem\r\n","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, Modal } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n          display: \"block\",\r\n          margin: \"0 auto\",\r\n          marginBottom: 30,\r\n      }\r\n  }));\r\n\r\nconst Rikkouho = ({id, guest_id, myId, mynickname, mypic, rikkouho_id}) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n\r\n      let rikkouho =\"\";\r\n      if(!rikkouho_id){\r\n          rikkouho = [];\r\n      }if(rikkouho_id){\r\n          rikkouho =rikkouho_id;\r\n      };  \r\n\r\n    // 登録処理\r\n    const onSubmit = () => {\r\n        // ここに書く\r\n        // (1)escortsのrikkouho_idの中の配列に（myid）を追加して更新\r\n        rikkouho.push(myId);\r\n        db.collection(\"escorts\").doc(id).update({\r\n            rikkouho_id: rikkouho,\r\n          });\r\n        \r\n        // (2)guestのお知らせに「nicknameさんがボランティアに立候補しました」と追加される。\r\n        db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: guest_id,\r\n            icon: 0,\r\n            notice:`${mynickname}さんがボランティアに立候補しました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={handleOpen} className={classes.button}>\r\n                ボランティアに立候補する\r\n            </Button>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"ボランティア立候補\"\r\n                    text=\"このボランティアに立候補しますか？\"\r\n                    buttonText=\"立候補する\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Rikkouho\r\n","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, Modal } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n        display: \"block\",\r\n        margin: \"0 auto\",\r\n        marginBottom: 30,\r\n    }\r\n  }));\r\n\r\nconst RikkouhoCansel = ({id, guest_id, myId, mynickname, rikkouho_id,mypic}) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n\r\n    // キャンセル処理\r\n    const onSubmit = () => {\r\n        // ここに書く\r\n        // (1)escortsのrikkouho_idの中の配列から（myid）を削除して更新\r\n        var index = rikkouho_id.indexOf(myId);\r\n        rikkouho_id.splice(index, 1)\r\n        db.collection(\"escorts\").doc(id).update({\r\n          rikkouho_id: rikkouho_id,\r\n        });\r\n        // (2)guestのお知らせに「nicknameさんが立候補をキャンセルしました」と追加される。\r\n        db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: guest_id,\r\n            icon: 1,\r\n            notice:`${mynickname}さんが立候補をキャンセルしました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        setOpen(false);\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={handleOpen} className={classes.button}>\r\n                立候補をキャンセルする\r\n            </Button>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"立候補キャンセル\"\r\n                    text=\"このボランティアへの立候補をキャンセルしますか？\"\r\n                    buttonText=\"キャンセルする\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RikkouhoCansel","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, Modal } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n        display: \"block\",\r\n        margin: \"0 auto\",\r\n        marginBottom: 30,\r\n    }\r\n  }));\r\n\r\nconst Touchaku = ({id, guest_id, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    \r\n    // 登録処理\r\n    const onSubmit = () => {\r\n        // (1)escortsのstatus_2を\"到着\"に更新\r\n        db.collection(\"escorts\").doc(id).update({\r\n          status_2: \"到着\",\r\n        });\r\n\r\n        // (2)guestのお知らせに「nicknameさんが出発地点に到着しました」と追加される。\r\n        db.collection(\"notices\").add({\r\n          escort_id: id,\r\n          user_id: guest_id,\r\n          icon: 2,\r\n          notice:`${mynickname}さんが出発地点に到着しました。`,\r\n          already_read: 0,\r\n          created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={handleOpen} className={classes.button}>\r\n                出発地点への到着を報告する\r\n            </Button>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"到着報告\"\r\n                    text=\"出発地点への到着をゲストに報告しますか？\"\r\n                    buttonText=\"報告する\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Touchaku","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, Modal } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n        display: \"block\",\r\n        margin: \"0 auto\",\r\n        marginBottom: 30,\r\n    }\r\n  }));\r\n\r\nconst Kanryou = ({id, guest_id, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    \r\n    // 登録処理\r\n    const onSubmit = () => {\r\n        // ここに書く\r\n        // (1)escortsのstatus_2を\"完了報告\"に更新\r\n        db.collection(\"escorts\").doc(id).update({\r\n          status_2: \"完了報告\",\r\n        });\r\n        // (2)guestのお知らせに「nicknameさんがボランティアを完了しました」と追加される。\r\n        db.collection(\"notices\").add({\r\n          escort_id: id,\r\n          user_id: guest_id,\r\n          icon: 3,\r\n          notice:`${mynickname}さんがボランティアを完了しました。`,\r\n          already_read: 0,\r\n          created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={handleOpen} className={classes.button}>\r\n                ボランティアの完了を報告する\r\n            </Button>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"完了報告\"\r\n                    text=\"このボランティアの完了をゲストに報告しますか？\"\r\n                    buttonText=\"報告する\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n                    \r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Kanryou\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport Map from \"./Map\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Rikkouho from \"./Rikkouho\";\r\nimport RikkouhoCansel from \"./RikkouhoCansel\";\r\nimport Touchaku from \"./Touchaku\";\r\nimport Kanryou from \"./Kanryou\";\r\n\r\n// detailで取得したデータを表示させるコンポーネント\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    button:{\r\n        boxShadow: \"none\",\r\n        pointerEvents: \"none\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        right: 5,\r\n    },\r\n    image: {\r\n        width: \"6rem\",\r\n        height: \"6rem\",\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    guestList:{\r\n        display: \"flex\",\r\n    },\r\n    guestInfo:{\r\n        paddingLeft: \"10px\",\r\n    },\r\n    guest:{\r\n        paddingTop: 10,\r\n        paddingBottom: 10,\r\n    },\r\n    button2:{\r\n        marginLeft: 10,\r\n    },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n  }));\r\n\r\nconst DetailItem = ({\r\n    id, picture, nickname, guest_id, rikkouho_id, es_date, start_time,\r\n    departure, departure_lat, departure_lon, destination, destination_lat, destination_lon,               \r\n    number, lan_1, lan_2, lan_3, status, status_2, emergency, history, myId, mynickname, mypic}) => {\r\n\r\n    const classes = useStyles();\r\n    \r\n    //ゲスト紹介ページへ遷移\r\n    const gotoGuest=()=>{\r\n        history.push({\r\n            // detailに遷移。idを渡す。\r\n            pathname: '/volunteer/guestprofile',\r\n            state: { guestId: guest_id }\r\n        });\r\n    }\r\n\r\n    // 掲示板へ遷移\r\n    const gotoForum=()=>{\r\n        history.push({\r\n            //forumに遷移。値を渡す。\r\n            pathname: '/forum',\r\n            state: {escortId: id,\r\n                    myId: myId,\r\n                    }\r\n        })\r\n    }\r\n\r\n    //チャットへ遷移\r\n    const gotoChat=()=>{\r\n        history.push({\r\n            //forumに遷移。値を渡す。\r\n            pathname: '/chat',\r\n            state: {escortId: id,\r\n                    myId: myId,\r\n                    }\r\n        })\r\n    }\r\n    \r\n    // rikkouho_idの中身を取得\r\n    let rikkouho =\"\";\r\n    if (rikkouho_id) {\r\n        rikkouho = rikkouho_id.includes(myId);\r\n    }if(!rikkouho_id){\r\n        rikkouho = false;\r\n    };\r\n\r\n    return (\r\n        <>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n                {nickname}さんのリクエスト\r\n            </Typography>\r\n\r\n            { status===\"募集中\" ? (\r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"large\">\r\n                      {status}\r\n                  </Button>\r\n                </>):(\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"large\">\r\n                    {status}\r\n                </Button>\r\n                </>)}\r\n\r\n            <Typography variant=\"subtitle2\" display=\"block\">\r\n            ■日時：{emergency===1 ? (`今すぐ`):(`${es_date} ${start_time}～`)}\r\n            </Typography>\r\n             \r\n            <Typography variant=\"subtitle2\" display=\"block\">\r\n            ＜コース＞\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■出発地：{departure} \r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■目的地：{destination}\r\n            </Typography>\r\n\r\n            {/* mapコンポーネントを読み込み */}\r\n            <Map\r\n                departure_lat={departure_lat}\r\n                departure_lon={departure_lon}\r\n                destination_lat={destination_lat}\r\n                destination_lon={destination_lon}\r\n            />\r\n            <div className={classes.guest}>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ＜ゲスト情報＞\r\n            </Typography>\r\n            <div className={classes.guestList}>\r\n            <div>\r\n            { picture ? (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={picture} alt={`${nickname}のプロフィール画像`} className={classes.img}/>\r\n                </div>\r\n                </>\r\n                ) : (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={Img} alt=\"画像はありません\" className={classes.img}/>\r\n                </div>\r\n                </>\r\n                )\r\n            }\r\n            </div>\r\n            <div className={classes.guestInfo}>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■ニックネーム：{nickname}\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■言語：{lan_1}{ lan_2 && `、${lan_2}`}{ lan_3 && `、${lan_3}`}\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■人数：{number}人\r\n            </Typography>\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={gotoGuest}>\r\n                紹介ページ\r\n            </Button>\r\n            {status === \"募集中\" &&\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoForum} className={classes.button2}>\r\n                掲示板\r\n            </Button>\r\n            }\r\n            {status === \"成立済\" &&\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoChat} className={classes.button2}>\r\n                チャット\r\n            </Button>\r\n            }\r\n            </div>\r\n            </div>\r\n            </div>\r\n\r\n            {/* ボタンと登録等の処理はコンポーネントを分ける */}\r\n            {/* まだ立候補していない時は、立候補できるボタンを表示 */}\r\n            { status === \"募集中\" && rikkouho === false && \r\n            <Rikkouho \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic} \r\n                rikkouho_id={rikkouho_id}\r\n                />\r\n            }\r\n\r\n            {/* 立候補済みの時は、キャンセルボタンに */}\r\n            { status === \"募集中\" && rikkouho === true && \r\n            <RikkouhoCansel \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                rikkouho_id={rikkouho_id} />\r\n            }\r\n\r\n            {/* 到着前の時は、到着報告ボタンに */}\r\n            { status === \"成立済\" && status_2 === \"待機中\" &&\r\n            <Touchaku \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic} />\r\n            }\r\n\r\n            {/* 到着後は、完了報告ボタンに */}\r\n            { status === \"成立済\" && status_2 === \"到着\" &&\r\n            <Kanryou \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic} />\r\n            }\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(DetailItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport DetailItem from './DetailItem'\r\nimport { db } from \"../../firebase\";\r\n\r\n// detailのデータを取得するコンポーネント\r\n\r\nconst Detail = (props) => {\r\n    // idを前ページから受け取る。\r\n    const escortId = props.location.state.escortId;\r\n    const myId = props.location.state.myId;\r\n    const mynickname = props.location.state.mynickname;\r\n    const mypic = props.location.state.mypic;\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id: \"\",\r\n        volunteer_id: \"\",\r\n        rikkouho_id: \"\",\r\n        es_date: \"\",\r\n        start_time: \"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        picture: \"\",\r\n        nickname: \"\",\r\n      },\r\n      ]);\r\n\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"escorts\")\r\n          .doc(escortId)\r\n          .onSnapshot((snapshot) =>\r\n              setRequest(\r\n                {\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: snapshot.id,\r\n                  guest_id: snapshot.data().guest_id,\r\n                  volunteer_id: snapshot.data().volunteer_id,\r\n                  rikkouho_id: snapshot.data().rikkouho_id,\r\n                  es_date: snapshot.data().es_date,\r\n                  start_time: snapshot.data().start_time,\r\n                  departure: snapshot.data().departure,\r\n                  destination:snapshot.data().destination,\r\n                  number:snapshot.data().number,\r\n                  lan_1:snapshot.data().lan_1,\r\n                  lan_2:snapshot.data().lan_2,\r\n                  lan_3:snapshot.data().lan_3,\r\n                  status: snapshot.data().status,\r\n                  status_2: snapshot.data().status_2,\r\n                  emergency: snapshot.data().emergency,\r\n                  picture: snapshot.data().guest_pic,\r\n                  nickname: snapshot.data().guest_nickname,\r\n                }\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []); \r\n\r\n    return (\r\n        <>\r\n        <Title title=\"詳細\" history={props.history}/>        \r\n            {/* コンポーネントに各プロパティを渡す */}\r\n            <DetailItem\r\n                key={request.id}\r\n                id={request.id}\r\n                picture={request.picture}\r\n                nickname= {request.nickname}\r\n                rikkouho_id={request.rikkouho_id}\r\n                guest_id={request.guest_id}\r\n                volunteer_id={request.volunteer_id}\r\n                es_date= {request.es_date}\r\n                start_time= {request.start_time}\r\n                departure= {request.departure}\r\n                departure_lat={request.departure_lat}\r\n                departure_lon={request.departure_lon}\r\n                destination={request.destination}\r\n                destination_lat={request.destination_lat}\r\n                destination_lon={request.destination_lon}\r\n                number={request.number}                \r\n                lan_1={request.lan_1}\r\n                lan_2={request.lan_2}\r\n                lan_3={request.lan_3}\r\n                status= {request.status}\r\n                status_2={request.status_2}\r\n                emergency={request.emergency}\r\n                history={props.history}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Detail\r\n","import React , {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Backdrop, Button, Fade, Modal, FormControl, FormControlLabel, InputLabel, MenuItem, Radio, RadioGroup, Select, TextField, Typography } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    area:{\r\n      marginBottom:20,\r\n    },\r\n    input:{\r\n      display: \"block\",\r\n      minWidth: 150,\r\n    },\r\n    select:{\r\n      paddingLeft: 30,\r\n      minWidth: 150,\r\n    },\r\n    labelarea:{\r\n      backgroundColor: \"#f5f5f5\",\r\n      width: \"100%\",\r\n      lineHeight: \"40px\",\r\n  },\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  }));\r\n\r\n\r\nconst GuestRequest = ({myId, mynickname, mypic, history}) => {\r\n    const classes = useStyles();\r\n    // 日時ラジオボタンを監視\r\n    const [esdate, setEsdate] = useState('');\r\n\r\n    // 日セレクトボックスの中身を監視\r\n    const [date, setDate] = useState('');\r\n    // dbに入れるのはnewDateの方。\r\n    const [newDate, setNewDate] = useState('');\r\n\r\n    // 時間セレクトボックスの中身を監視\r\n    const [time, setTime] = useState(''); \r\n\r\n    // 日時指定のdisableを管理\r\n    const [disabled, setDisabled] = useState(false); \r\n\r\n    //人数を管理\r\n    const [number, setNumber] = useState(''); \r\n\r\n    // 言語選択を管理\r\n    const [language1, setLanguage1] = useState('');\r\n    const [language2, setLanguage2] = useState('');\r\n    const [language3, setLanguage3] = useState('');\r\n\r\n    // 出発地点を管理\r\n    const [departure, setDeparture] = useState(''); \r\n\r\n    // 出発地点を管理\r\n    const [destination, setDestination] = useState(''); \r\n\r\n    // modal\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const [user, setUser] = useState([{id: \"\",},]);\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"users\")\r\n          .where(\"user_flg\", \"==\", \"1\")\r\n          .onSnapshot((snapshot) =>\r\n              setUser(\r\n                snapshot.docs.map((doc) => ({\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: doc.id,\r\n                }))\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []);\r\n\r\n  // 日セレクトの中身を取得\r\n  const handleDateChange=(e)=>{\r\n    // -を/に変える処理を入れる\r\n    var str = e.target.value;\r\n    var newstr = str.replace(/-/g, \"/\");\r\n    setDate(e.target.value);\r\n    setNewDate(newstr);\r\n  };\r\n\r\n  // 日時ラジオボックスの中身を取得\r\n  const handleEsdate = (e) => {\r\n    setEsdate(e.target.value);\r\n    if(e.target.value === \"今すぐ\" )\r\n    {setDisabled(true)};\r\n    if(e.target.value !== \"今すぐ\" )\r\n    {setDisabled(false)};\r\n  };\r\n\r\n  //登録処理\r\n  const handleSubmit=()=>{\r\n    // 送信した内容が届いているか確認\r\n    // console.log(esdate, \"日程\");\r\n    // console.log(newDate, \"日にち\");\r\n    // console.log(time, \"時間\");\r\n    // console.log(number, \"人数\");\r\n    // console.log(language1, \"言語1\");\r\n    // console.log(language2, \"言語2\");\r\n    // console.log(language3, \"言語3\");\r\n    // console.log(departure, \"出発\");\r\n    // console.log(destination, \"目的地\");\r\n    const id =db.collection('escorts').doc().id;\r\n  // dbに入れる処理を書く\r\n  if(esdate===\"今すぐ\"){\r\n    db.collection(\"escorts\").doc(id).set({\r\n      guest_id: myId,\r\n      es_date: esdate,\r\n      departure: departure,\r\n      destination: destination,\r\n      number: number,\r\n      lan_1: language1,\r\n      lan_2: language2,\r\n      lan_3: language3,\r\n      status: \"募集中\",\r\n      emergency: 1,\r\n      guest_nickname: mynickname,\r\n      guest_pic: mypic,\r\n      created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    // 全てのvolのnoticesに入れる\r\n      user.map((item) => (\r\n          db.collection(\"notices\").add({\r\n              escort_id: id,\r\n              user_id: item.id,\r\n              icon: 4,\r\n              notice: `${mynickname}さんがリアルタイムリクエストを出しました！`,\r\n              already_read: 0,\r\n              created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n            })\r\n            ));\r\n      }\r\n  if(esdate===\"その他\"){\r\n    db.collection(\"escorts\").doc(id).set({\r\n      guest_id: myId,\r\n      es_date: newDate,\r\n      start_time: time,\r\n      departure: departure,\r\n      destination: destination,\r\n      number: number,\r\n      lan_1: language1,\r\n      lan_2: language2,\r\n      lan_3: language3,\r\n      status: \"募集中\",\r\n      emergency: 0,\r\n      guest_nickname: mynickname,\r\n      guest_pic: mypic,\r\n      created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n  }\r\n  setEsdate(\"\");\r\n  setDate(\"\");\r\n  setNewDate(\"\");\r\n  setTime(\"\");\r\n  setNumber(\"\");\r\n  setDestination(\"\");\r\n  setDeparture(\"\");\r\n  setLanguage1(\"\");\r\n  setLanguage2(\"\");\r\n  setLanguage3(\"\");\r\n  setDisabled(false);\r\n  setOpen(false);\r\n  // 詳細に遷移させる\r\n  history.push({\r\n    // detailに遷移。idを渡す。\r\n    pathname: '/guest/detail',\r\n    state: { escortId: id ,\r\n             myId: myId,\r\n             mynickname: mynickname,\r\n             mypic: mypic}\r\n  });\r\n};\r\n\r\nconst handleClose = () => {\r\n  setOpen(false);\r\n};\r\nconst handleOpen = (e) => {\r\n  // 画面が遷移しないようにpreventDefault\r\n  e.preventDefault();\r\n  setOpen(true);\r\n};\r\n\r\n    return (\r\n        <>\r\n        <Title title=\"リクエスト\" history={history}/>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n        <form onSubmit={handleOpen}>\r\n          <div className={classes.area}>\r\n          <Typography variant=\"subtitle1\" display=\"block\" className={classes.labelarea}>\r\n           日時\r\n          </Typography>\r\n          <FormControl component=\"fieldset\" className={classes.input}>\r\n            <RadioGroup aria-label=\"time\" name=\"time\" value={esdate} onChange={handleEsdate}>\r\n              <FormControlLabel value=\"今すぐ\" control={<Radio color=\"primary\"/>} label=\"今すぐリクエスト\"/>\r\n              <FormControlLabel value=\"その他\" control={<Radio color=\"primary\"/>} label=\"出発日時を指定してリクエスト\" />\r\n            </RadioGroup>\r\n          </FormControl>\r\n          <FormControl component=\"fieldset\" className={classes.select}>\r\n            <TextField \r\n                type=\"date\"\r\n                label=\"日程\"\r\n                value={date}\r\n                onChange={handleDateChange}\r\n                required\r\n                margin=\"normal\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                disabled={disabled}\r\n                />\r\n              <TextField \r\n                type=\"time\"\r\n                label=\"時間\"\r\n                value={time}\r\n                required\r\n                margin=\"normal\"\r\n                onChange={e => setTime(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                inputProps={{\r\n                  step: 300, // 5 min\r\n                }}\r\n                disabled={disabled}\r\n              />\r\n          </FormControl>\r\n          </div>\r\n\r\n          <div className={classes.area}>\r\n          <Typography variant=\"subtitle1\" display=\"block\" className={classes.labelarea}>\r\n            基本情報\r\n          </Typography>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"人数\"\r\n                type=\"number\"\r\n                required\r\n                value={number}\r\n                onChange={e => setNumber(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <InputLabel shrink id=\"language\" required>\r\n                言語1\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"language1\"\r\n                id=\"language1\"\r\n                value={language1}\r\n                onChange={e => setLanguage1(e.target.value)}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em>使える言語を選択してください</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"英語\">英語</MenuItem>\r\n                <MenuItem value=\"中国語\">中国語</MenuItem>\r\n                <MenuItem value=\"フランス語\">フランス語</MenuItem>\r\n              </Select>\r\n              </FormControl>\r\n              <FormControl component=\"fieldset\" className={classes.input}>\r\n              <InputLabel shrink id=\"language2\">\r\n                言語2\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"language2\"\r\n                id=\"language2\"\r\n                value={language2}\r\n                onChange={e => setLanguage2(e.target.value)}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em>使える言語を選択してください</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"英語\">英語</MenuItem>\r\n                <MenuItem value=\"中国語\">中国語</MenuItem>\r\n                <MenuItem value=\"フランス語\">フランス語</MenuItem>\r\n              </Select>\r\n              </FormControl>\r\n              <FormControl component=\"fieldset\" className={classes.input}>\r\n              <InputLabel shrink id=\"language3\">\r\n                言語3\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"language3\"\r\n                id=\"language3\"\r\n                value={language3}\r\n                onChange={e => setLanguage3(e.target.value)}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em>使える言語を選択してください</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"英語\">英語</MenuItem>\r\n                <MenuItem value=\"中国語\">中国語</MenuItem>\r\n                <MenuItem value=\"フランス語\">フランス語</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n\r\n          <div className={classes.area}>\r\n            <Typography variant=\"subtitle1\" display=\"block\" className={classes.labelarea}>\r\n            出発地点\r\n            </Typography>\r\n            <FormControl component=\"fieldset\" >\r\n            <TextField\r\n                label=\"出発地点\"\r\n                value={departure}\r\n                onChange={e => setDeparture(e.target.value)}\r\n                required\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                />\r\n          </FormControl>\r\n          </div>\r\n\r\n          <div className={classes.area}>\r\n            <Typography variant=\"subtitle1\" display=\"block\" className={classes.labelarea}>\r\n            目的地\r\n            </Typography>\r\n            <TextField\r\n                label=\"目的地\"\r\n                value={destination}\r\n                onChange={e => setDestination(e.target.value)}\r\n                required\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                />\r\n          </div>\r\n\r\n              <Button variant=\"contained\" color=\"primary\" className={classes.button} type=\"submit\">リクエスト送信</Button>\r\n              </form>        \r\n        </div>\r\n\r\n        {/* modal */}\r\n        <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n        <Fade in={open}>\r\n        <ModalItem\r\n          title=\"リクエスト確認\"\r\n          text=\"この内容でリクエストしますか？\"\r\n          buttonText=\"リクエストする\"\r\n          handleClose={handleClose}\r\n          onSubmit={handleSubmit}\r\n          />\r\n        </Fade>\r\n        </Modal>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default GuestRequest\r\n","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Avatar, Button, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { withRouter } from 'react-router-dom';\r\nimport \"../../style.css\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        marginBottom: 8,\r\n      },\r\n      paper: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n      large: {\r\n        width: theme.spacing(8),\r\n        height: theme.spacing(8),\r\n      },\r\n      avatar:{\r\n        paddingRight:\"10px\",\r\n      },\r\n      list:{\r\n        flexDirection: \"column\",\r\n        padding: \"0 0 0 0\",\r\n      },\r\n      list2:{\r\n        padding: \"0 0 0 0\",\r\n        position:\"relative\",\r\n        marginBottom: \"0\",\r\n      },\r\n      button:{\r\n        boxShadow: \"none\",\r\n        position: \"absolute\",\r\n        right: \"0\",\r\n        bottom: \"0\",\r\n        pointerEvents: \"none\",\r\n    },\r\n      image: {\r\n        width: \"5rem\",\r\n        height: \"5rem\",\r\n      },\r\n      img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n      rikkouho: {\r\n        marginBottom:35,\r\n      },\r\n  }));\r\n\r\n  const RequestItem = ({myId, mynickname, mypic, history, id, picture, nickname, es_date, start_time, departure, destination, number, lan_1, lan_2, lan_3, status, status_2, rikkouho_id, emergency}) => {\r\n    const classes = useStyles();\r\n\r\n    // clickイベント\r\n    const handleClick=()=>{\r\n      history.push({\r\n        // detailに遷移。idを渡す。\r\n        pathname: '/guest/detail',\r\n        state: { \r\n          escortId: id,\r\n          myId: myId,\r\n          mynickname: mynickname,\r\n          mypic: mypic,\r\n                }\r\n      });\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div key={id} className={classes.root}>\r\n  \r\n            {/* 外枠 */}\r\n            <Paper className={classes.paper}>\r\n            <ListItem button className={classes.list} onClick={handleClick}>\r\n              {/* 成立済ならボランティアの画像を出す */}\r\n                {status===\"成立済\" &&  \r\n                <ListItem className={classes.list2}>\r\n                    <ListItemAvatar className={classes.avatar}>\r\n                    { picture ? (\r\n                    <>\r\n                        <Avatar variant=\"rounded\" src={picture} alt={`${nickname}のプロフィール画像`}  className={classes.large}/>\r\n                    </>\r\n                    ) : (\r\n                    <>\r\n                        <Avatar variant=\"rounded\" src={Img} alt=\"画像はありません\"  className={classes.large}/>\r\n                    </>\r\n                    )}\r\n                    </ListItemAvatar>\r\n                <ListItemText \r\n                className={classes.text}\r\n                primary={`ボランティア：${nickname}さん`}\r\n                secondary={\r\n                    <>\r\n                    <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                    ■日時：{emergency===1 ? (`今すぐ`):(`${es_date} ${start_time}～`)}\r\n                    </Typography>\r\n                    </>\r\n                }/>\r\n                 </ListItem>                \r\n                }\r\n              <ListItem  className={classes.list2}>\r\n              <ListItemText\r\n              secondary={\r\n                <>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■日時：{emergency===1 ? (`今すぐ`):(`${es_date} ${start_time}～`)}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■出発地：{departure} \r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■目的地：{destination}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■言語：{lan_1}{ lan_2 && `、${lan_2}`}{ lan_3 && `、${lan_3}`}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■人数：{number}人\r\n                  </Typography>\r\n                </>\r\n              }/>\r\n              {/* 募集中なら立候補の数を出す */}\r\n              {status===\"募集中\" &&\r\n                <div>\r\n                 <Typography component=\"span\" variant=\"caption\" display=\"block\" align=\"center\">\r\n                  立候補\r\n                  </Typography>\r\n                    <Avatar variant=\"rounded\" className={classes.rikkouho}>\r\n                        {rikkouho_id && rikkouho_id.length}\r\n                        {!rikkouho_id && 0}\r\n                    </Avatar>\r\n                </div>\r\n                }               \r\n              </ListItem>\r\n\r\n                {/* 募集中なら募集中マーク。成立済なら状況に応じたマークに。 */}\r\n              { status===\"募集中\" && \r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"small\">\r\n                      {status}\r\n                  </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"完了\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"small\">\r\n                {status_2}\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"待機中\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"small\">\r\n                {status_2}\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"到着\" &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                 進行中\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"完了報告\" &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                 進行中\r\n                </Button>\r\n                </>\r\n              }              \r\n            </ListItem>\r\n            </Paper>\r\n        </div>\r\n        </>\r\n    )\r\n  }\r\n\r\nexport default withRouter(RequestItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// 成立済みで、未実施のものが入る\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n}));\r\n\r\nconst AcceptedReq = ({history, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n\r\n    // escortsの中で、guest_idにmyIdが入っていて、成立済みのものを日時順に表示\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        volunteer_nickname: \"\",\r\n        volunteer_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  // 成立済みで完了してないもの（完了しているのは履歴に）\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"guest_id\", \"==\", myId)\r\n        .where(\"status\", \"==\", \"成立済\")\r\n        .where(\"status_2\", \"in\", [\"待機中\", \"到着\", \"完了報告\"])\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                volunteer_nickname: doc.data().volunteer_nickname,\r\n                volunteer_pic: doc.data().volunteer_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.volunteer_pic}\r\n                    nickname= {requestItem.volunteer_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname}\r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AcceptedReq\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// 募集中のものが入る\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n}));\r\n\r\nconst WaitingReq = ({history, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n    // escortsの中で、募集中で、guest_idにmyIdが入っているものを日時順に表示\r\n      // firebaseに作成した項目を受け取るための変数＝useState\r\n      const [request, setRequest] = useState([\r\n          {\r\n            id: \"\",\r\n            guest_id:\"\",\r\n            volunteer_id:\"\",\r\n            rikkouho_id:\"\",\r\n            es_date: \"\",\r\n            start_time:\"\",\r\n            departure: \"\",\r\n            destination:\"\",\r\n            number:\"\",\r\n            lan_1:\"\",\r\n            lan_2:\"\",\r\n            lan_3:\"\",\r\n            status: \"\",\r\n            status_2: \"\",\r\n            emergency: \"\",\r\n          },\r\n          ]);\r\n  \r\n      // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n      useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"escorts\")\r\n            .where(\"guest_id\", \"==\", myId)\r\n            .where(\"status\", \"==\", \"募集中\")\r\n            .onSnapshot((snapshot) =>\r\n                setRequest(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、更新\r\n                    id: doc.id,\r\n                    guest_id: doc.data().guest_id,\r\n                    rikkouho_id: doc.data().rikkouho_id,\r\n                    es_date: doc.data().es_date,\r\n                    start_time: doc.data().start_time,\r\n                    departure: doc.data().departure,\r\n                    destination: doc.data().destination,\r\n                    number: doc.data().number,\r\n                    lan_1: doc.data().lan_1,\r\n                    lan_2: doc.data().lan_2,\r\n                    lan_3: doc.data().lan_3,\r\n                    status: doc.data().status,\r\n                    status_2: doc.data().status_2,\r\n                    emergency: doc.data().emergency,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    picture={requestItem.picture}\r\n                    nickname= {requestItem.nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname}\r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WaitingReq\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// escortsの中で、volunteer_idにmyIdが入っていて、さらにstatus_2が\"完了\"になっているもの\r\n\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n}));\r\n\r\n\r\nconst FinishedReq = ({history, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n    \r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        volunteer_nickname: \"\",\r\n        volunteer_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  // escortsの中で、guest_idにmyIdが入っていて、さらにstatus_2が\"完了\"になっているもの\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"guest_id\", \"==\", myId)\r\n        .where(\"status_2\", \"==\", \"完了\")\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                volunteer_nickname: doc.data().volunteer_nickname,\r\n                volunteer_pic: doc.data().volunteer_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.volunteer_pic}\r\n                    nickname= {requestItem.volunteer_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname}\r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FinishedReq\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport AcceptedReq from './AcceptedReq';\r\nimport WaitingReq from './WaitingReq';\r\nimport FinishedReq from './FinishedReq';\r\n\r\n// タブ下の画面の表示処理\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  // valueとindexが一致したときに、中身が表示される仕組み。\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          // ここに表示させたいものを書く。childrenにはTabpanelの中身が表示される\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `full-width-tab-${index}`,\r\n      'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    tab: {\r\n      bottom: 'auto',\r\n      top: 55,\r\n    },\r\n    margin:{\r\n        top: 55,\r\n        marginBottom: 120,\r\n    }\r\n  }));\r\n  \r\nconst MylistTab = ({myId, mynickname, mypic, history}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n  \r\n    const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n    };\r\n  \r\n    const handleChangeIndex = (index) => {\r\n      setValue(index);\r\n    };\r\n    return (\r\n      <>\r\n     <div className={classes.margin}></div>\r\n     <div className={classes.root}>\r\n      <AppBar position=\"fixed\" color=\"default\" className={classes.tab}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label=\"成立済\" {...a11yProps(0)} />\r\n          <Tab label=\"募集中\" {...a11yProps(1)} />\r\n          <Tab label=\"履歴\" {...a11yProps(2)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <AcceptedReq \r\n            myId={myId}\r\n            mynickname={mynickname}\r\n            mypic={mypic}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <WaitingReq \r\n           myId={myId}\r\n           mynickname={mynickname}\r\n           mypic={mypic}\r\n           history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={2} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <FinishedReq \r\n            myId={myId}\r\n            mynickname={mynickname}\r\n            mypic={mypic}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default MylistTab\r\n","import React from 'react'\r\nimport Title from '../../common/Title'\r\nimport MylistTab from './MylistTab'\r\n\r\nconst GuestMylist = ({myId, mypic, mynickname, history}) => {\r\n    return (\r\n        <>\r\n            <Title title=\"マイリスト\" history={history}/>\r\n            <MylistTab \r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                history={history}/>    \r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestMylist\r\n","import React from 'react'\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// チャットの一覧。\r\n// chatsの中からescorts_idのデータを取得。日付順に並べて、nicknameとcommentと日付、アイコンを一緒に表示させる\r\n\r\n// const chats =[\r\n//     {\r\n//      id: 0,\r\n//      escorts_id: 1,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/21 13:00\",\r\n//      already_read: 1,\r\n//      comment:\"Im so excited to see you, dude!\",\r\n//     },\r\n//     {\r\n//      id: 1,\r\n//      escorts_id: 1,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/21 13:00\",\r\n//      already_read: 0,\r\n//      comment:\"hahaha\",\r\n//     },\r\n//     {\r\n//      id: 2,\r\n//      escorts_id: 3,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/23\",\r\n//      already_read: 0,\r\n//      comment:\"Im so excited to see you, dude!aaaaaaaaaaaaaaaa\",\r\n//     },\r\n//     {\r\n//      id: 3,\r\n//      escorts_id: 4,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/24\",\r\n//      already_read: 0,\r\n//      comment:\"Ok see you later.\",\r\n//     },\r\n//     {\r\n//      id: 4,\r\n//      escorts_id: 5,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/25\",\r\n//      already_read: 0,\r\n//      comment:\"頑張ります！\",\r\n//     },\r\n//     {\r\n//      id: 5,\r\n//      escorts_id: 3,\r\n//      user_id: \"bbb\",\r\n//      date: \"2021/07/25\",\r\n//      already_read: 0,\r\n//      comment:\"Im so excited to see you, dude!\",\r\n//     },\r\n\r\n// ];\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '500px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        margin: \"0 auto\",\r\n      },\r\n  }));\r\n\r\nconst ChatList = ({myId, history}) => {\r\n    const classes = useStyles();\r\n\r\n    // dbの中からuser_idがmyIdに一致するものを取得\r\n    // const filtered = chats.filter((filtereditem) => (filtereditem.user_id === myId));\r\n\r\n    return (\r\n        <div>\r\n        <List className={classes.root}>\r\n            工事中\r\n        {/* requestの中身をrequestItemに入れて表示処理 */}\r\n        {/* {filtered.map((item) => (\r\n            // requestItemコンポーネントに各プロパティを渡す\r\n            <ChatItem\r\n                key={item.id}\r\n                id={item.id}\r\n                escorts_id={item.escorts_id}\r\n                notice={item.notice}\r\n                date={item.date}\r\n                already_read={item.already_read ===0 ? (\"colored\"):(\"\")}\r\n                icon={item.icon}\r\n                history={props.history}\r\n                myId={myId}\r\n            />\r\n            ))} */}\r\n        </List> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatList\r\n","import React from 'react'\r\n\r\nconst ForumList = ({myId, history}) => {\r\n    return (\r\n        <div>\r\n            工事中\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForumList\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport ChatList from './ChatList';\r\nimport ForumList from './ForumList';\r\n\r\n// ChatTopのTab。\r\n\r\n// タブ下の画面の表示処理\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  // valueとindexが一致したときに、中身が表示される仕組み。\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          // ここに表示させたいものを書く。childrenにはTabpanelの中身が表示される\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `full-width-tab-${index}`,\r\n      'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    tab: {\r\n      bottom: 'auto',\r\n      top: 55,\r\n    },\r\n    margin:{\r\n        top: 55,\r\n        marginBottom: 120,\r\n    }\r\n  }));\r\n\r\nconst ChatTab = ({myId, history}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n  \r\n    const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n    };\r\n  \r\n    const handleChangeIndex = (index) => {\r\n      setValue(index);\r\n    };\r\n    return (\r\n      <>\r\n     <div className={classes.margin}></div>\r\n     <div className={classes.root}>\r\n      <AppBar position=\"fixed\" color=\"default\" className={classes.tab}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label=\"個別チャット\" {...a11yProps(0)} />\r\n          <Tab label=\"掲示板\" {...a11yProps(1)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <ChatList myId={myId} history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <ForumList myId={myId} history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default ChatTab\r\n","import React from 'react'\r\nimport Title from '../common/Title'\r\nimport ChatTab from './ChatTab'\r\n\r\nconst ChatTop = ({myId, history}) => {\r\n    return (\r\n        <>\r\n        <Title title=\"チャット\" history={history}/>\r\n        <ChatTab myId={myId} history={history}/>           \r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatTop\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport { green, blue } from '@material-ui/core/colors';\r\nimport \"../../style.css\";\r\nimport { db } from \"../../firebase\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    green: {\r\n        color: '#fff',\r\n        backgroundColor: green[500],\r\n      },\r\n    blue: {\r\n        color: '#fff',\r\n        backgroundColor: blue[500],\r\n      },\r\n    red: {\r\n        color: '#fff',\r\n        backgroundColor: \"#f44336\",\r\n      },\r\n    yellow: {\r\n        color: '#fff',\r\n        backgroundColor: \"#ffc400\",\r\n      },\r\n    black: {\r\n        color: '#fff',\r\n        backgroundColor: \"black\",\r\n      },\r\n  }));\r\n\r\nconst GuestNoticeItem = ({id, escort_id, notice, date, already_read, icon, history, myId, mypic, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    // clickイベント\r\n    const handleClick=()=>{\r\n        // already_readを1にして、dbを更新する処理を追加する\r\n        db.collection(\"notices\").doc(id).update({\r\n          already_read: 1,\r\n        });\r\n        history.push({\r\n          // detailに遷移。idを渡す。\r\n          pathname: '/guest/detail',\r\n          state: { escortId: escort_id ,\r\n                   myId: myId,\r\n                   mypic: mypic,\r\n                   mynickname: mynickname\r\n                  }\r\n        });\r\n        \r\n      }\r\n    return (\r\n        <div key={id} className={already_read}>\r\n            {/* already_readが0なら、色変える */}\r\n            <ListItem alignItems=\"center\" button onClick={handleClick}>\r\n                \r\n                    {/* 内容によって、アイコンを変える */}\r\n                    {/* 立候補した時 icon=0 */}\r\n                    {icon===0 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.red}><PersonAddIcon /></Avatar>\r\n                    </ListItemAvatar>}\r\n\r\n                    {/* 立候補キャンセルした時 icon=1 */}       \r\n                    {icon===1 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.black}><PersonAddDisabledIcon/></Avatar>\r\n                    </ListItemAvatar>}\r\n\r\n                    {/* 到着確認の時 icon=2*/} \r\n                    {icon===2 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.green}><RoomIcon /></Avatar>\r\n                    </ListItemAvatar>}       \r\n\r\n                    {/* 完了確認の時 icon=3*/} \r\n                    {icon===3 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.yellow}><AssignmentTurnedInIcon /></Avatar>\r\n                    </ListItemAvatar>}     \r\n                         \r\n                <ListItemText\r\n                primary={notice}\r\n                secondary={date}\r\n                />\r\n            </ListItem>\r\n            <Divider component=\"li\" /> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(GuestNoticeItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title';\r\nimport GuestNoticeItem from './GuestNoticeItem';\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// お知らせのトップ。\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '500px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        margin: \"0 auto\",\r\n      },\r\n    margin:{\r\n        marginBottom: 60,\r\n    },\r\n  }));\r\n\r\nconst GuestNotice = ({myId, mypic, mynickname, history}) => {\r\n    const classes = useStyles();\r\n\r\n       // firebaseに作成した項目を受け取るための変数＝useState\r\n    const [notice, setNotice] = useState([\r\n        {\r\n            id: \"\",\r\n            escort_id: \"\",\r\n            user_id: \"\",\r\n            icon:\"\",\r\n            notice: \"\",\r\n            already_read: \"\",\r\n            created_at: null,\r\n        },\r\n        ]);\r\n    \r\n    // noticesの中からuser_id=myIDのデータを取得。日付順に並べて、テキストと日付、アイコンを一緒に表示させる\r\n    useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"notices\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .orderBy(\"created_at\", \"desc\")\r\n            .onSnapshot((snapshot) =>\r\n                setNotice(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    escort_id: doc.data().escort_id,\r\n                    user_id: doc.data().user_id,\r\n                    icon: doc.data().icon,\r\n                    notice: doc.data().notice,\r\n                    already_read: doc.data().already_read,\r\n                    created_at: doc.data().created_at,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n\r\n    return (\r\n        <>\r\n        <Title title=\"お知らせ\" history={history}/>\r\n        <div className={classes.margin}></div>   \r\n        <List className={classes.root}>\r\n        {/* noticeの中身をitemに入れて表示処理 */}\r\n        {notice && \r\n        notice.map((item) => (\r\n            // コンポーネントに各プロパティを渡す\r\n            <GuestNoticeItem\r\n                key={item.id}\r\n                id={item.id}\r\n                escort_id={item.escort_id}\r\n                notice={item.notice}\r\n                date={item.date}\r\n                already_read={item.already_read ===0 ? (\"colored\"):(\"\")}\r\n                icon={item.icon}\r\n                history={history}\r\n                myId={myId}\r\n                mypic={mypic}\r\n                mynickname={mynickname}\r\n            />\r\n            ))}\r\n        </List>          \r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestNotice","import React, {useState, useEffect} from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\r\nimport { Button,  FormControl, TextField} from \"@material-ui/core\";\r\nimport { storage, db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    revise:{\r\n        position: \"absolute\",\r\n        top: 7,\r\n        right: 5,\r\n    },\r\n    image: {\r\n        width: \"8rem\",\r\n        height: \"8rem\",\r\n        marginBottom: \"10px\",\r\n        backgroundImage: `url(${Img})`,\r\n        backgroundSize: \"cover\",\r\n        cursor: \"pointer\",\r\n        position: \"relative\",\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"center\",\r\n        display: \"table-cell\",\r\n        '&:hover': {backgroundColor:'rgba(128,128,128,0.3)'},\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    inputFile: {\r\n        display: \"none\",\r\n      },\r\n    imgIcon:{\r\n        position: \"absolute\",\r\n        left: 50,\r\n        top: 52,\r\n        color: \"white\",\r\n      },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n    update:{\r\n        textAlign: \"right\",\r\n    },\r\n    account:{\r\n        minWidth: 300,\r\n    },\r\n    description:{\r\n        minWidth: \"100%\",\r\n    },\r\n  }));\r\n\r\nconst ProfileItem = ({id, user_id, nickname, picture, account, description, updated_at, created_at }) => {\r\n    const classes = useStyles();\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n      },\r\n      ]);\r\n\r\n// 全てを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .where(\"guest_id\", \"==\", user_id)\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れる\r\n              id: doc.id,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n    // 各項目を監視\r\n    const [newpicture, setNewpicture] = useState(null);\r\n    const [newnickname, setNewnickname] = useState(nickname);\r\n    const [newaccount, setNewaccount] = useState(account);\r\n    const [newdescription, setNewdescription] = useState(description);\r\n    // disableを管理\r\n    const [disabled, setDisabled] = useState(true); \r\n    const onDisabled = () => {\r\n        setDisabled(false);\r\n      };\r\n    const offDisabled = () => {\r\n        setDisabled(true);\r\n        setNewpicture(null);\r\n        setNewnickname(nickname);\r\n        setNewaccount(account);\r\n        setNewdescription(description);\r\n      };\r\n    \r\n    // 画像の処理\r\n    const onChangeImageHandler = (e) => {\r\n        if (e.target.files[0]) {\r\n          setNewpicture(e.target.files[0]);\r\n          // サムネイル表示処理\r\n          const reader = new FileReader();\r\n          reader.onload = function(e) {\r\n            document.getElementById('thumbnail').setAttribute('src', e.target.result);\r\n          };\r\n          reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n          e.target.value = \"\";        \r\n      };\r\n    // 登録処理\r\n    const handleSubmit=(e) =>{\r\n        e.preventDefault();\r\n        if(!newaccount){\r\n          setNewaccount(\" \");\r\n        }\r\n        if(!newdescription){\r\n          setNewdescription(\" \");\r\n        }\r\n\r\n        // ここに登録処理を書く\r\n        if(newpicture){\r\n          // firebaseの仕様で同じファイル名の画像を複数回アップしてしまうと元々あったファイルが削除される\r\n          // そのためにファイル名をランダムにする必要がある、それが下\r\n          const S =\r\n              \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\"; //ランダムな文字列を作るための候補、62文字\r\n          const N = 16; //16文字の文字列を作るという意味 生成したい文字数が１６の文字列になる\r\n          const randomMoji = Array.from(crypto.getRandomValues(new Uint32Array(N))) //乱数を生成してくれるもので0からランダムな数字が１６こ選ばれる\r\n              .map((n) => S[n % S.length])\r\n              .join(\"\");\r\n          const fileName = randomMoji + \"_\" + newpicture.name;\r\n          // firebase storageに登録\r\n          const uploadImg = storage.ref(`pictures/${fileName}`).put(newpicture);\r\n          \r\n          // firebase dbに登録\r\n          uploadImg.on(\r\n              firebase.storage.TaskEvent.STATE_CHANGED,\r\n              () => {},  //進捗度合\r\n              (err) => {  //エラーの時\r\n                alert(err.message);\r\n              },\r\n              async () => { //成功の時\r\n                await storage\r\n                  .ref(\"pictures\")\r\n                  .child(fileName)\r\n                  // storageのファイルURLにアクセスし、取得\r\n                  .getDownloadURL()\r\n                  .then(async (url) => {\r\n                    await db.collection(\"profiles\").doc(id).update({\r\n                      nickname: newnickname,\r\n                      description:newdescription,\r\n                      picture:url,\r\n                      account:newaccount,\r\n                      updated_at:firebase.firestore.FieldValue.serverTimestamp(),\r\n                    });\r\n                    // user_idがescortsの中にあるguest_idに一致するものの、guest_picとguest_nicknameを更新\r\n                    request.map((item) => (\r\n                      db.collection(\"escorts\").doc(item.id).update({\r\n                        guest_nickname: newnickname,\r\n                        guest_pic:url,\r\n                        })\r\n                        ));\r\n                  });\r\n              }\r\n            );\r\n          } else {\r\n              // テキストだけの処理\r\n        db.collection(\"profiles\").doc(id).update({\r\n          nickname: newnickname,\r\n          description:newdescription,\r\n          account:newaccount,\r\n          updated_at:firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        // user_idがescortsの中にあるguest_idに一致するものの、guest_nicknameを更新\r\n        request.map((item) => (\r\n          db.collection(\"escorts\").doc(item.id).update({\r\n            guest_nickname: newnickname,\r\n            })\r\n            ));\r\n      }\r\n        setDisabled(true);\r\n        setNewpicture(null);\r\n        setNewnickname(newnickname);\r\n        setNewaccount(newaccount);\r\n        setNewdescription(newdescription);\r\n    };\r\n\r\n    \r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n        {disabled===true &&\r\n            <Button variant=\"contained\" color=\"primary\" className={classes.revise} onClick={onDisabled}>\r\n                修正する\r\n            </Button>}\r\n        {disabled===false &&\r\n            <Button variant=\"outlined\" color=\"primary\" className={classes.revise} onClick={offDisabled}>\r\n                中断して元に戻す\r\n            </Button>}\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n            <div className={classes.image}>\r\n                {/* 画像を選択したら、サムネイル表示 */}\r\n                { newpicture &&\r\n                    <img id=\"thumbnail\" src=\"\" alt=\"選択中の画像\" className={classes.img} />\r\n                } \r\n                {/* 既に入っている画像があれば表示するが、新しいのが入ったら表示しない */} \r\n                {!newpicture && picture &&  \r\n                <img id=\"thumbnail\" src={picture} alt=\"選択中の画像\" className={classes.img}/>}\r\n                {disabled===false &&\r\n                    <AddAPhotoIcon className={classes.imgIcon}/>  }\r\n                    {/* 画像を入れる時は、type=file */}\r\n                    <input\r\n                    type=\"file\"\r\n                    onChange={onChangeImageHandler}\r\n                    className={classes.inputFile}\r\n                    disabled={disabled}\r\n                    /> \r\n            </div>\r\n            </label>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■ニックネーム\r\n            </Typography>\r\n            <FormControl>\r\n                  <TextField\r\n                    value={newnickname}\r\n                    onChange={(e) => setNewnickname(e.target.value)}\r\n                    disabled={disabled}\r\n                    required\r\n                  />\r\n            </FormControl>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■SNSアカウント\r\n            </Typography>\r\n            <FormControl className={classes.account}>\r\n                  <TextField\r\n                    value={newaccount}\r\n                    onChange={(e) => setNewaccount(e.target.value)}\r\n                    disabled={disabled}\r\n                  />\r\n            </FormControl>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n                ■その他（自由記述）\r\n            </Typography>\r\n            <FormControl className={classes.description}>\r\n                    <TextField\r\n                        value={newdescription}\r\n                        multiline\r\n                        rows={5}\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        //  外だしせずにここで書く方法\r\n                        onChange={(e) => setNewdescription(e.target.value)}\r\n                        disabled={disabled}\r\n                    />\r\n                    </FormControl>\r\n\r\n        <Typography variant=\"body2\" display=\"block\" className={classes.update}>\r\n        {updated_at &&\r\n         <>更新日：{new Date(updated_at?.toDate()).toLocaleString()}</>}\r\n        {!updated_at &&\r\n         <>作成日：{new Date(created_at?.toDate()).toLocaleString()}</>}\r\n        </Typography>\r\n        <Button variant=\"contained\" color=\"primary\" disabled={disabled} type=\"submit\">修正登録</Button>\r\n\r\n        </form>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileItem\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport ProfileItem from './ProfileItem'\r\nimport { db } from \"../../firebase\";\r\n\r\n// 自分の自己紹介を編集するページ。\r\n// profilesからmyidにuser_idが一致するものを取得\r\n\r\nconst GuestProfile = ({myId, history}) => {\r\n    // firebaseに作成した項目を受け取るための変数＝useState\r\n    const [profile, setProfile] = useState([\r\n        {\r\n            id: \"\",\r\n            user_id: \"\",\r\n            nickname:\"\",\r\n            user_flg: \"\",\r\n            picture: \"\",\r\n            description: \"\",\r\n            account: \"\",\r\n            created_at: null,\r\n            updated_at: null,\r\n        },\r\n        ]);\r\n\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"profiles\")\r\n          .where(\"user_id\", \"==\", myId)\r\n          .onSnapshot((snapshot) =>\r\n              setProfile(\r\n                snapshot.docs.map((doc) => ({\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: doc.id,\r\n                  user_id: doc.data().user_id,\r\n                  nickname: doc.data().nickname,\r\n                  user_flg: doc.data().user_flg,\r\n                  picture: doc.data().picture,\r\n                  description: doc.data().description,\r\n                  account: doc.data().account,\r\n                  created_at: doc.data().created_at,\r\n                  updated_at: doc.data().updated_at,\r\n                }))\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []);\r\n\r\n    return (\r\n      \r\n        <>\r\n        <Title title=\"自己紹介\" history={history}/>\r\n\r\n        {profile.map((item) => (\r\n        <ProfileItem\r\n            key={item.id}\r\n            id={item.id}\r\n            nickname={item.nickname}\r\n            picture={item.picture}\r\n            account={item.account}\r\n            description={item.description}\r\n            updated_at={item.updated_at}\r\n            created_at={item.created_at}\r\n            user_id={item.user_id}\r\n            />\r\n            ))}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestProfile\r\n","import React from 'react'\r\nimport { Badge } from '@material-ui/core';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\n\r\nconst ChatBudge = ({myId}) => {\r\n    // const [invisibleChat, setInvisibleChat] = useState(true);\r\n    \r\n    return (\r\n        <>\r\n            <Badge variant=\"dot\" color=\"secondary\" invisible>\r\n                <MessageIcon />\r\n            </Badge>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatBudge\r\n","import React from 'react'\r\nimport { Badge } from '@material-ui/core';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\n\r\n// const notices =[\r\n//     {\r\n//      id: 0,\r\n//      escorts_id: 1,\r\n//      user_id: \"aaa\",\r\n//      notice:\"Tomさんがあなたをボランティアに選びました！\",\r\n//      date: \"2021/07/25\",\r\n//      already_read: 0,\r\n//      icon:0,\r\n//     },\r\n//     {\r\n//      id: 1,\r\n//      escorts_id: 2,\r\n//      user_id: \"aaa\",\r\n//      notice:\"Bobさんのボランティアに選ばれませんでした。\",\r\n//      date: \"2021/07/24\",\r\n//      already_read: 1,\r\n//      icon:1,\r\n//     },\r\n// ];\r\n\r\n\r\nconst NoticeBudge = ({myId}) => {\r\n    // const [invisibleNotice, setInvisibleNotice] = useState(true);\r\n\r\n    // データ取得\r\n    // noticesの中にあるuser_idがmyIdと一致するものの中で、already_readが0のものがある場合\r\n    // const filtered = notices.filter((filtereditem) => (filtereditem.user_id === myId));\r\n    // const unread = filtered.filter((item) => (item.already_read === 0));\r\n\r\n    // budgeがつく条件を書く\r\n\r\n\r\n    return (\r\n        <>\r\n            <Badge variant=\"dot\" color=\"secondary\" invisible >\r\n                  <NotificationsIcon />\r\n            </Badge>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NoticeBudge\r\n","import React, {useState, useEffect}from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport RecentActorsIcon from '@material-ui/icons/RecentActors';\r\nimport \"../../style.css\";\r\nimport GuestRequest from \"../request/GuestRequest\";\r\nimport GuestMylist from \"../mylist/GuestMylist\";\r\nimport ChatTop from \"../../chat/ChatTop\";\r\nimport GuestNotice from \"../notice/GuestNotice\";\r\nimport GuestProfile from \"../profile/GuestProfile\";\r\nimport ChatBudge from \"./ChatBudge\";\r\nimport NoticeBudge from \"./NoticeBudge\";\r\nimport { db } from \"../../firebase\";\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`scrollable-prevent-tabpanel-${index}`}\r\n        aria-labelledby={`scrollable-prevent-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `scrollable-prevent-tab-${index}`,\r\n      'aria-controls': `scrollable-prevent-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      width: '100%',\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    appBar: {\r\n        top: 'auto',\r\n        bottom: 0,\r\n        paddingTop: \"10px\",\r\n      },\r\n    label:{\r\n        fontSize: \"8px\",\r\n        marginTop: \"0px\",\r\n    },\r\n    tab:{\r\n        padding: \"6px 9px\"\r\n    },\r\n    icon:{\r\n      marginBottom: \"0px\",\r\n    },\r\n    margin:{\r\n      bottom: 0,\r\n      marginBottom: 80,\r\n    }\r\n  }));\r\n  \r\n  \r\nconst GuestNav = (props) => {\r\n  const myId = props.location.state.myId;\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const [profile, setProfile] = useState([\r\n    {\r\n      id: \"\",\r\n      nickname:\"\",\r\n      picture:\"\",\r\n    },\r\n    ]);\r\n\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"profiles\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .onSnapshot((snapshot) =>\r\n                setProfile(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    nickname: doc.data().nickname,\r\n                    picture: doc.data().picture,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);   \r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n      <TabPanel value={value} index={0}>\r\n        <GuestRequest \r\n         myId={myId}\r\n         mynickname={profile[0].nickname}\r\n         mypic={profile[0].picture} \r\n         history={props.history}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <GuestMylist myId={myId}\r\n                    mynickname={profile[0].nickname}\r\n                    mypic={profile[0].picture}\r\n                    history={props.history} />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <ChatTop myId={myId}\r\n                 mynickname={profile[0].nickname}\r\n                 mypic={profile[0].picture}\r\n                 history={props.history}  />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        <GuestNotice \r\n         myId={myId} \r\n         history={props.history}\r\n         mynickname={profile[0].nickname}\r\n         mypic={profile[0].picture}  />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={4}>\r\n        <GuestProfile myId={myId}\r\n        history={props.history}/>\r\n      </TabPanel>\r\n      <div className={classes.margin}></div>\r\n      <AppBar position=\"fixed\" color=\"inherit\" className={classes.appBar}>\r\n        <Tabs\r\n          variant=\"fullWidth\"\r\n          value={value}\r\n          onChange={handleChange}\r\n          textColor=\"primary\"\r\n        >\r\n          <Tab icon={<PersonPinIcon />} \r\n           label={<p className={classes.label}>リクエスト</p>} \r\n           {...a11yProps(0)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<AssignmentIcon />} \r\n           label={<p className={classes.label}>マイリスト</p>} \r\n           {...a11yProps(1)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<ChatBudge myId={myId}/>} \r\n           label={<p className={classes.label}>チャット</p>} \r\n           {...a11yProps(2)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<NoticeBudge myId={myId}/>} \r\n           label={<p className={classes.label}>お知らせ</p>} \r\n           {...a11yProps(3)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<RecentActorsIcon />} \r\n           label={<p className={classes.label}>自己紹介</p>} \r\n           {...a11yProps(4)} \r\n           className={classes.tab}\r\n           />\r\n        </Tabs>\r\n      </AppBar>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default GuestNav\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n    image: {\r\n        width: \"8rem\",\r\n        height: \"8rem\",\r\n        margin: \"0 auto\",\r\n        marginBottom: \"10px\",\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n\r\n  }));\r\n\r\nconst GuestInfoItem = ({nickname, picture, account, description}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n            { picture ? (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={picture} alt={`${nickname}のプロフィール画像`} className={classes.img}/>\r\n                </div>\r\n                </>\r\n                ) : (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={Img} alt=\"画像はありません\" className={classes.img}/>\r\n                </div>\r\n                </>\r\n                )\r\n            }\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■ニックネーム：{nickname}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■SNSアカウント：\r\n            </Typography>\r\n            <a href={account}>{account}</a>\r\n\r\n        <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■自己紹介：\r\n        </Typography>\r\n        {description}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestInfoItem\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport GuestInfoItem from './GuestInfoItem'\r\nimport { db } from \"../../firebase\";\r\n\r\n\r\nconst GuestInfo = (props) => {\r\n    // guest_idを前ページから受け取る。\r\n    const guestId = props.location.state.guestId;\r\n    // profilesからデータ呼び出し\r\n\r\n        // firebaseに作成した項目を受け取るための変数＝useState\r\n        const [profile, setProfile] = useState([\r\n          {\r\n              id: \"\",\r\n              user_id: \"\",\r\n              nickname:\"\",\r\n              user_flg: \"\",\r\n              picture: \"\",\r\n              description: \"\",\r\n              accout: \"\",\r\n              created_at: null,\r\n              updated_at: null,\r\n          },\r\n          ]);\r\n\r\n // dbからguestIdに一致するuser_idの情報を取得\r\n// firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n     useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"profiles\")\r\n          .where(\"user_id\", \"==\", guestId)\r\n          .onSnapshot((snapshot) =>\r\n              setProfile(\r\n                snapshot.docs.map((doc) => ({\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: doc.id,\r\n                  user_id: doc.data().user_id,\r\n                  nickname: doc.data().nickname,\r\n                  user_flg: doc.data().user_flg,\r\n                  picture: doc.data().picture,\r\n                  description: doc.data().description,\r\n                  accout: doc.data().accout,\r\n                  created_at: doc.data().created_at,\r\n                  updated_at: doc.data().updated_at,\r\n                }))\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []);\r\n    \r\n    return (\r\n        <div>\r\n            <Title title=\"ゲストの自己紹介ページ\" history={props.history}/>\r\n            {/* guestinfoの中身をitemに入れて表示処理 */}\r\n            {profile.map((item) => (\r\n            // GuestInfoItemコンポーネントに各プロパティを渡す\r\n            <GuestInfoItem\r\n            key={item.id}\r\n            nickname={item.nickname}\r\n            picture={item.picture}\r\n            account={item.account}\r\n            description={item.description}\r\n            />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GuestInfo\r\n","import React from 'react'\r\nimport Title from '../common/Title'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n  }));\r\n\r\nconst ForumItem = (props) => {\r\n    const classes = useStyles();\r\n        // escort_idを前ページから受け取る。\r\n        const escortId = props.location.state.escortId;\r\n        const myId= props.location.state.myId;\r\n\r\n        console.log(escortId);\r\n        console.log(myId);\r\n        \r\n    return (\r\n        <div>\r\n            <Title title=\"掲示板\" history={props.history}/>\r\n            <div className={classes.margin}></div>\r\n            ここに掲示板が表示される\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForumItem\r\n","import React from 'react'\r\nimport Title from '../common/Title'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n  }));\r\n\r\nconst ChatItem = (props) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <Title title=\"個別チャット\" history={props.history}/>\r\n            <div className={classes.margin}></div>\r\n            ここにチャットが入る\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatItem\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { AppBar, Toolbar } from '@material-ui/core';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        bottom: 'auto',\r\n        top: 0,\r\n        boxShadow: \"none\",\r\n      },\r\n      root: {\r\n        flexGrow: 1,\r\n      },\r\n      text:{\r\n        flexGrow: 1,\r\n      },\r\n  }));\r\n\r\nconst TitleOffline = ({title}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n        <div className={classes.root}>\r\n        <AppBar position=\"fixed\" color=\"primary\" className={classes.title}>\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" className={classes.text}>\r\n                 {title}\r\n            </Typography>\r\n        </Toolbar>\r\n        </AppBar>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TitleOffline\r\n","import React,{useState, useEffect} from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport TitleOffline from './TitleOffline'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, FormControl, TextField} from '@material-ui/core';\nimport { auth } from \"./firebase\";\n\n\n// style\nconst useStyles = makeStyles((theme) => ({\n  margin:{\n      marginBottom: 150,\n  },\n  button:{\n    display: \"block\",\n    margin: \"0 auto\",\n    marginTop: 20,\n    marginBottom: 10,\n  },\n  text:{\n    textAlign: \"center\",\n  },\n  input:{\n    display:\"block\",\n    width: 260,\n    margin: \"0 auto\",\n    textAlign: \"center\",\n  },\n  link:{\n    display: \"block\",\n    width: 65,\n    margin: \"0 auto\",\n    marginTop: 20,\n    textDecoration: \"underline\",\n    cursor: \"pointer\",\n  },\n}));\n\nconst App = (props) => {\n  const classes = useStyles();\n  const [email, setEmail] = useState(''); \n  const [password, setPassword] = useState(''); \n\n  useEffect(() => {\n    // 認証関係に対して何かしらの変更があったときに実行されるfirebaseの機能\n    // onAuthStateChangedは→ログインしていたとか、ログアウトしたとかで呼び出される\n    // userというパラメーターがあり、これには「ログインが成功したときに」データが全部格納される\n    // userに何らかの情報がはいっていればログインに成功、入ってなければログイン失敗、ログインしていない\n    const unSub = auth.onAuthStateChanged((user) => {\n      // 判定の条件は何らかの情報が入っていた時→ルートの画面（App）に遷移させる(逆にuserにない場合は常にこの画面に止まり続ける)\n      !user && props.history.push(\"/\");\n    });\n    return () => unSub();\n  }, [props.history]);\n\n    // 新規登録へ遷移\n    const gotoRegister=()=>{\n        props.history.push({\n            pathname: '/register',\n        })\n    }\n\n  return (\n    <>\n      <TitleOffline title=\"ログイン\"/>\n      <div className={classes.margin}></div>\n            <FormControl component=\"fieldset\" className={classes.input}>\n              <TextField\n                label=\"メールアドレス\"\n                type=\"email\"\n                required\n                value={email}\n                onChange={e => setEmail(e.target.value)}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n               \n              />\n            </FormControl><br/>\n            <FormControl component=\"fieldset\" className={classes.input}>\n              <TextField\n                label=\"パスワード\"\n                type=\"password\"\n                required\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n                \n              />\n            </FormControl>   \n            <Button \n              variant=\"contained\" \n              color=\"primary\" \n              className={classes.button}\n              onClick={\n                async () => {\n                  try{\n                    await auth.signInWithEmailAndPassword(email, password);\n                    props.history.push({\n                      pathname: \"/userflg\",\n                      state: { email: email,}\n                    });\n                  }catch(error){\n                    // ログインに失敗したらエラー表示\n                    alert(error.message);\n                  }\n                }\n              }>\n              ログイン</Button>\n\n        <p className={classes.link} onClick={gotoRegister}>新規登録</p>\n    </>\n  );\n};\n\nexport default withRouter(App);\n","import React, {useState} from 'react'\r\nimport TitleOffline from './TitleOffline'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Backdrop, Button, Fade, Modal, FormControl, InputLabel, MenuItem, Select, TextField} from '@material-ui/core';\r\nimport ModalItem from \"./common/ModalItem\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { db } from \"./firebase\";\r\nimport firebase from \"firebase/app\";\r\nimport { auth } from \"./firebase\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    area:{\r\n      marginBottom:20,\r\n    },\r\n    input:{\r\n      display: \"block\",\r\n      minWidth: 150,\r\n    },\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button:{\r\n    display: \"block\",\r\n    margin: \"0 auto\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  }));\r\n\r\nconst Register = (props) => {\r\n    const classes = useStyles();\r\n\r\n    //各項目を管理\r\n    const [lastname, setLastname] = useState(''); \r\n    const [firstname, setFirstname] = useState(''); \r\n    const [email, setEmail] = useState(''); \r\n    const [password, setPassword] = useState(''); \r\n    const [userflg, setUserflg] = useState(''); \r\n    const [nickname, setNickname] = useState(''); \r\n    // modal\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n      };\r\n    const handleOpen = (e) => {\r\n        // 画面が遷移しないようにpreventDefault\r\n        e.preventDefault();\r\n        setOpen(true);\r\n      };\r\n\r\n  const register = async () => {\r\n    try {\r\n      // 作成時：firebaseに[createUserWithEmailAndPassword]というものがあるのでそれに\r\n      // email, passwordで保持した状態を送る\r\n      await auth.createUserWithEmailAndPassword(email, password);\r\n    } catch (error) {\r\n      // ログインできない、失敗したときはエラーで表示される\r\n      alert(error.message);\r\n    }};\r\n\r\n//登録処理\r\nconst handleSubmit=()=>{\r\n  // dbに入れる処理を書く\r\n  // 認証用のauthにuser情報をつくる\r\n  register();\r\n  // dbのusersに入れる\r\n  const id =db.collection('users').doc().id;\r\n  db.collection(\"users\").doc(id).set({\r\n    first_name: firstname,\r\n    last_name: lastname,\r\n    email: email,\r\n    password: password,\r\n    user_flg: userflg,\r\n    created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n  });\r\n  // profilesにnicknameとuser_idを入れる\r\n  db.collection(\"profiles\").add({\r\n    user_id: id,\r\n    nickname: nickname,\r\n    created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n  });\r\n\r\n  props.history.push({\r\n    // app.jsに遷移。\r\n    pathname: '/',\r\n});\r\n};      \r\n\r\n    return (\r\n        <div>\r\n        <TitleOffline title=\"新規登録\" />\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n        <form onSubmit={handleOpen}>\r\n          <div className={classes.area}>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"姓\"\r\n                required\r\n                value={lastname}\r\n                onChange={e => setLastname(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"名\"\r\n                required\r\n                value={firstname}\r\n                onChange={e => setFirstname(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"メールアドレス\"\r\n                type=\"email\"\r\n                required\r\n                value={email}\r\n                onChange={e => setEmail(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"パスワード\"\r\n                type=\"password\"\r\n                required\r\n                value={password}\r\n                onChange={e => setPassword(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>                                           \r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <InputLabel shrink id=\"userFlg\" required>\r\n                登録種別\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"userFlg\"\r\n                id=\"userFlg\"\r\n                value={userflg}\r\n                onChange={e => setUserflg(e.target.value)}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em>ゲスト/ボランティア</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"0\">ゲスト</MenuItem>\r\n                <MenuItem value=\"1\">ボランティア</MenuItem>\r\n              </Select>\r\n              </FormControl>\r\n            <FormControl component=\"fieldset\" >\r\n            <TextField\r\n                label=\"ニックネーム\"\r\n                value={nickname}\r\n                onChange={e => setNickname(e.target.value)}\r\n                required\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                />\r\n          </FormControl>\r\n          </div>\r\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\">登録</Button>\r\n              </form>        \r\n        </div>\r\n\r\n        {/* modal */}\r\n        <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n        <Fade in={open}>\r\n        <ModalItem\r\n          title=\"登録確認\"\r\n          text=\"この内容で登録しますか？\"\r\n          buttonText=\"登録する\"\r\n          handleClose={handleClose}\r\n          onSubmit={handleSubmit}\r\n          />\r\n        </Fade>\r\n        </Modal>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Register)\r\n","import React,{useState, useEffect} from \"react\";\r\nimport { db } from \"./firebase\";\r\n\r\nconst Userflg = (props) => {\r\n// ログイン時に取得したemailをもとに、user_idを取得\r\nconst email = props.location.state.email;\r\nconst [user, setUser] = useState([\r\n    {\r\n      id: \"\",\r\n      user_flg:\"\",\r\n    },\r\n    ]);\r\n\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"users\")\r\n            .where(\"email\", \"==\", email)\r\n            .onSnapshot((snapshot) =>\r\n                setUser(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    user_flg: doc.data().user_flg,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);    \r\n    return (\r\n        <> \r\n        {/* user_flgが0ならゲストページへ */}\r\n        {user[0].user_flg === \"0\" && \r\n        props.history.push({\r\n            pathname: \"/guest\",\r\n            state: { myId : user[0].id,}\r\n          })\r\n        }\r\n\r\n        {/* user_flgが1ならボランティアページへ */}         \r\n        {user[0].user_flg === \"1\" && \r\n        props.history.push({\r\n            pathname: \"/volunteer\",\r\n            state: { myId : user[0].id,}\r\n          })\r\n        }        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Userflg;\r\n","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Avatar, Button, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { withRouter } from 'react-router-dom';\r\nimport \"../../style.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        marginBottom: 8,\r\n      },\r\n      paper: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n      large: {\r\n        width: theme.spacing(8),\r\n        height: theme.spacing(8),\r\n      },\r\n      avatar:{\r\n        paddingRight:\"10px\",\r\n      },\r\n      list:{\r\n        flexDirection: \"column\",\r\n        padding: \"0 0 0 0\",\r\n      },\r\n      list2:{\r\n        padding: \"0 0 0 0\",\r\n        position:\"relative\",\r\n        marginBottom: \"0\",\r\n      },\r\n      button:{\r\n        boxShadow: \"none\",\r\n        position: \"absolute\",\r\n        right: \"0\",\r\n        bottom: \"0\",\r\n        pointerEvents: \"none\",\r\n    },\r\n      image: {\r\n        width: \"5rem\",\r\n        height: \"5rem\",\r\n      },\r\n      img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n  }));\r\n\r\n  const RequestItem = ({myId, mynickname, mypic, history, id, volunteer_id, picture, nickname, es_date, start_time, departure, destination, number, lan_1, lan_2, lan_3, status, status_2, rikkouho_id, emergency}) => {\r\n    const classes = useStyles();\r\n\r\n    // clickイベント\r\n    const handleClick=()=>{\r\n      history.push({\r\n        // detailに遷移。idを渡す。\r\n        pathname: '/volunteer/detail',\r\n        state: { escortId: id,\r\n                 myId: myId,\r\n                 mynickname: mynickname,\r\n                 mypic: mypic,\r\n                }\r\n      });\r\n    }\r\n\r\n    // rikkouho_idの中身を取得\r\n    let rikkouho =\"\";\r\n      if (rikkouho_id) {\r\n         rikkouho = rikkouho_id.includes(myId);\r\n     }if(!rikkouho_id){\r\n          rikkouho = false;\r\n    };\r\n  \r\n    // volunteer_idの中身がmyIdと一致するかを確認\r\n      let disabled = null;\r\n      if (status===\"成立済\" && volunteer_id === myId) {\r\n         disabled = false;\r\n     }if(status===\"成立済\" && volunteer_id !== myId){\r\n         disabled = true;\r\n    };\r\n    \r\n\r\n    return (\r\n        <>\r\n        <div key={id} className={classes.root}>\r\n  \r\n            {/* 外枠 */}\r\n            <Paper className={classes.paper}>\r\n            <ListItem button className={classes.list} onClick={handleClick} disabled={disabled}>\r\n              <ListItem className={classes.list2}>\r\n                <ListItemAvatar className={classes.avatar}>\r\n                { picture ? (\r\n                <>\r\n                    <Avatar variant=\"rounded\" src={picture} alt={`${nickname}のプロフィール画像`}  className={classes.large}/>\r\n              </>\r\n                ) : (\r\n                <>\r\n                    <Avatar variant=\"rounded\" src={Img} alt=\"画像はありません\"  className={classes.large}/>\r\n                </>\r\n                )}\r\n                </ListItemAvatar>\r\n                <ListItemText \r\n                    className={classes.text}\r\n                    primary={`${nickname}さんのリクエスト`}\r\n                    secondary={\r\n                        <>\r\n                        <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                        ■日時：{emergency===1 ? (`今すぐ`):(`${es_date} ${start_time}～`)}\r\n                        </Typography>\r\n                        </>\r\n                    }/>\r\n              </ListItem>\r\n              <ListItem  className={classes.list2}>\r\n              <ListItemText\r\n              secondary={\r\n                <>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■出発地：{departure} \r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■目的地：{destination}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■言語：{lan_1}{ lan_2 && `、${lan_2}`}{ lan_3 && `、${lan_3}`}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■人数：{number}人\r\n                  </Typography>\r\n                </>\r\n              }/>\r\n              </ListItem>\r\n              {/* 募集中なら募集中マーク */}\r\n              { status===\"募集中\" && rikkouho=== false &&\r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"small\">\r\n                      {status}\r\n                  </Button>\r\n                </>\r\n              }\r\n              {/* 立候補済なら立候補済マーク */}\r\n              { status===\"募集中\" && rikkouho=== true &&\r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"small\">\r\n                      立候補済\r\n                  </Button>\r\n                </>\r\n              }              \r\n              {status===\"成立済\" && status_2===\"完了\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"small\">\r\n                {status_2}\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"待機中\" && disabled===false &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                {status_2}\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"到着\" && disabled===false &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                 進行中\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"完了報告\" && disabled===false &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                 進行中\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2!==\"完了\" && disabled===true && \r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"small\">\r\n                 {status}\r\n                </Button>\r\n                </>\r\n              }         \r\n\r\n            </ListItem>\r\n            </Paper>\r\n        </div>\r\n        </>\r\n    )\r\n  }\r\n\r\nexport default withRouter(RequestItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport RequestItem from './RequestItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// ここにdbからrealtime Requestのデータを取得するコードを書く（ひとまずはダミーのオブジェクト）\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n}));\r\n\r\n// RequestTopのリアルタイム部分\r\nconst RealtimeRequest = ({history, myId, mynickname, mypic}) => {\r\n  const classes = useStyles();\r\n\r\n  const [request, setRequest] = useState([\r\n    {\r\n      id: \"\",\r\n      guest_id:\"\",\r\n      volunteer_id:\"\",\r\n      rikkouho_id:\"\",\r\n      es_date: \"\",\r\n      start_time:\"\",\r\n      departure: \"\",\r\n      destination:\"\",\r\n      number:\"\",\r\n      lan_1:\"\",\r\n      lan_2:\"\",\r\n      lan_3:\"\",\r\n      status: \"\",\r\n      status_2: \"\",\r\n      emergency: \"\",\r\n      volunteer_pic:\"\",\r\n      volunteer_nickname:\"\",\r\n      guest_pic:\"\",\r\n      guest_nickname:\"\",\r\n    },\r\n    ]);\r\n\r\n// firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n// emergencyに指定の値が入っていて、statusが募集中のデータのうち、日時順（DB内で設定？）に上から3つ取得する\r\n\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .where(\"emergency\", \"==\", 1)\r\n      .where(\"status\", \"==\", \"募集中\")\r\n      .orderBy(\"created_at\", \"desc\")\r\n      .limit(3)\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れて、\r\n              // 各プロパティに入れて、更新\r\n              id: doc.id,\r\n              guest_id: doc.data().guest_id,\r\n              volunteer_id: doc.data().volunteer_id,\r\n              rikkouho_id: doc.data().rikkouho_id,\r\n              es_date: doc.data().es_date,\r\n              start_time: doc.data().start_time,\r\n              departure: doc.data().departure,\r\n              destination: doc.data().destination,\r\n              number: doc.data().number,\r\n              lan_1: doc.data().lan_1,\r\n              lan_2: doc.data().lan_2,\r\n              lan_3: doc.data().lan_3,\r\n              status: doc.data().status,\r\n              status_2: doc.data().status_2,\r\n              emergency: doc.data().emergency,\r\n              guest_nickname:doc.data().guest_nickname,\r\n              guest_pic:doc.data().guest_pic,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n  \r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname} \r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RealtimeRequest\r\n","import React, {useState, useEffect} from 'react'\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// ここにdbからRequestのデータを取得するコードを書く\r\n\r\n// RequestTopの直近部分\r\nconst RecentRequest = ({history, myId, mynickname, mypic}) => {\r\n  const [request, setRequest] = useState([\r\n    {\r\n      id: \"\",\r\n      guest_id:\"\",\r\n      volunteer_id:\"\",\r\n      rikkouho_id:\"\",\r\n      es_date: \"\",\r\n      start_time:\"\",\r\n      departure: \"\",\r\n      destination:\"\",\r\n      number:\"\",\r\n      lan_1:\"\",\r\n      lan_2:\"\",\r\n      lan_3:\"\",\r\n      status: \"\",\r\n      status_2: \"\",\r\n      emergency: \"\",\r\n      volunteer_pic:\"\",\r\n      volunteer_nickname:\"\",\r\n      guest_pic:\"\",\r\n      guest_nickname:\"\",\r\n    },\r\n    ]);\r\n\r\n// emergencyに0がついてるやつだけを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .where(\"emergency\", \"==\", 0)\r\n      .where(\"status\", \"==\", \"募集中\")\r\n      .orderBy(\"es_date\", \"asc\")\r\n      .limit(3)\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れて、\r\n              // 各プロパティに入れて、更新\r\n              id: doc.id,\r\n              guest_id: doc.data().guest_id,\r\n              volunteer_id: doc.data().volunteer_id,\r\n              rikkouho_id: doc.data().rikkouho_id,\r\n              es_date: doc.data().es_date,\r\n              start_time: doc.data().start_time,\r\n              departure: doc.data().departure,\r\n              destination: doc.data().destination,\r\n              number: doc.data().number,\r\n              lan_1: doc.data().lan_1,\r\n              lan_2: doc.data().lan_2,\r\n              lan_3: doc.data().lan_3,\r\n              status: doc.data().status,\r\n              status_2: doc.data().status_2,\r\n              emergency: doc.data().emergency,\r\n              guest_nickname:doc.data().guest_nickname,\r\n              guest_pic:doc.data().guest_pic,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n    return (\r\n        <div>\r\n            { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}                    \r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname} \r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RecentRequest\r\n","import React, {useState, useEffect} from 'react'\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// Requestのすべての部分（データ取得）\r\n\r\nconst AllRequest = ({history, myId, mynickname, mypic}) => {\r\n\r\n  const [request, setRequest] = useState([\r\n    {\r\n      id: \"\",\r\n      guest_id:\"\",\r\n      volunteer_id:\"\",\r\n      rikkouho_id:\"\",\r\n      es_date: \"\",\r\n      start_time:\"\",\r\n      departure: \"\",\r\n      destination:\"\",\r\n      number:\"\",\r\n      lan_1:\"\",\r\n      lan_2:\"\",\r\n      lan_3:\"\",\r\n      status: \"\",\r\n      status_2: \"\",\r\n      emergency: \"\",\r\n      volunteer_pic:\"\",\r\n      volunteer_nickname:\"\",\r\n      guest_pic:\"\",\r\n      guest_nickname:\"\",\r\n    },\r\n    ]);\r\n\r\n// 全てを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .orderBy(\"es_date\", \"asc\")\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れて、\r\n              // 各プロパティに入れて、更新\r\n              id: doc.id,\r\n              guest_id: doc.data().guest_id,\r\n              volunteer_id: doc.data().volunteer_id,\r\n              rikkouho_id: doc.data().rikkouho_id,\r\n              es_date: doc.data().es_date,\r\n              start_time: doc.data().start_time,\r\n              departure: doc.data().departure,\r\n              destination: doc.data().destination,\r\n              number: doc.data().number,\r\n              lan_1: doc.data().lan_1,\r\n              lan_2: doc.data().lan_2,\r\n              lan_3: doc.data().lan_3,\r\n              status: doc.data().status,\r\n              status_2: doc.data().status_2,\r\n              emergency: doc.data().emergency,\r\n              guest_nickname:doc.data().guest_nickname,\r\n              guest_pic:doc.data().guest_pic,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n    return (\r\n        <>\r\n           { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}                    \r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname} \r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AllRequest\r\n","import React, {useState, useEffect} from 'react'\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// Requestの募集中の部分 (データ取得)\r\n\r\nconst WantedRequest = ({myId, history, mynickname, mypic}) => {\r\n\r\n  const [request, setRequest] = useState([\r\n    {\r\n      id: \"\",\r\n      guest_id:\"\",\r\n      volunteer_id:\"\",\r\n      rikkouho_id:\"\",\r\n      es_date: \"\",\r\n      start_time:\"\",\r\n      departure: \"\",\r\n      destination:\"\",\r\n      number:\"\",\r\n      lan_1:\"\",\r\n      lan_2:\"\",\r\n      lan_3:\"\",\r\n      status: \"\",\r\n      status_2: \"\",\r\n      emergency: \"\",\r\n      volunteer_pic:\"\",\r\n      volunteer_nickname:\"\",\r\n      guest_pic:\"\",\r\n      guest_nickname:\"\",\r\n    },\r\n    ]);\r\n\r\n// statusに\"募集中\"が入っているやつだけを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .where(\"status\", \"==\", \"募集中\")\r\n      .orderBy(\"es_date\", \"asc\")\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れて、\r\n              // 各プロパティに入れて、更新\r\n              id: doc.id,\r\n              guest_id: doc.data().guest_id,\r\n              volunteer_id: doc.data().volunteer_id,\r\n              rikkouho_id: doc.data().rikkouho_id,\r\n              es_date: doc.data().es_date,\r\n              start_time: doc.data().start_time,\r\n              departure: doc.data().departure,\r\n              destination: doc.data().destination,\r\n              number: doc.data().number,\r\n              lan_1: doc.data().lan_1,\r\n              lan_2: doc.data().lan_2,\r\n              lan_3: doc.data().lan_3,\r\n              status: doc.data().status,\r\n              status_2: doc.data().status_2,\r\n              emergency: doc.data().emergency,\r\n              guest_nickname:doc.data().guest_nickname,\r\n              guest_pic:doc.data().guest_pic,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n\r\n    return (\r\n      <>\r\n           { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}                    \r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname} \r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n      </>\r\n    )\r\n}\r\n\r\nexport default WantedRequest\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Typography } from '@material-ui/core';\r\nimport \"../../style.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n      image: {\r\n        width: \"600\",\r\n        height: \"100\",\r\n        paddingTop: 10,\r\n      },\r\n      img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        maxWidth: '100%',\r\n        maxHeight: '100%',\r\n      },\r\n      subtitle:{\r\n        paddingTop: 8,\r\n      },\r\n      text:{\r\n        margin: \"0 auto\",\r\n        maxWidth: \"600px\",\r\n      },\r\n  }));\r\nconst Coverimage = ({title, text, src, alt, color}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n        <div className={classes.text}>\r\n        <Typography variant=\"h6\" className={classes.subtitle}>{title}</Typography>\r\n        <div className={color}></div>\r\n        <Typography variant=\"body2\" >{text}</Typography>\r\n        </div>\r\n        <div className={classes.image}>\r\n            <img src={src} alt={alt} className={classes.img}/>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Coverimage\r\n\r\n","export default __webpack_public_path__ + \"static/media/realtime.003c699d.jpg\";","export default __webpack_public_path__ + \"static/media/pretime.d57eca61.jpg\";","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport RealtimeRequest from './RealtimeRequest';\r\nimport RecentRequest from './RecentRequest';\r\nimport AllRequest from './AllRequest';\r\nimport WantedRequest from './WantedRequest';\r\nimport Coverimage from './Coverimage';\r\nimport src1 from \"../../img/realtime.jpg\";\r\nimport src2 from \"../../img/pretime.jpg\";\r\n\r\n// VolunteerのTab。\r\n\r\n// タブ下の画面の表示処理\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  // valueとindexが一致したときに、中身が表示される仕組み。\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          // ここに表示させたいものを書く。childrenにはTabpanelの中身が表示される\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `full-width-tab-${index}`,\r\n      'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    tab: {\r\n      bottom: 'auto',\r\n      top: 55,\r\n    },\r\n    margin:{\r\n        top: 55,\r\n        marginBottom: 120,\r\n    },\r\n  }));\r\n  \r\nconst RequestTab = ({myId, mynickname, mypic, history}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n  \r\n    const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n    };\r\n  \r\n    const handleChangeIndex = (index) => {\r\n      setValue(index);\r\n    };\r\n    return (\r\n      <>\r\n     <div className={classes.margin}></div>\r\n     <div className={classes.root}>\r\n      <AppBar position=\"fixed\" color=\"default\" className={classes.tab}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label=\"トップ\" {...a11yProps(0)} />\r\n          <Tab label=\"すべて\" {...a11yProps(1)} />\r\n          <Tab label=\"募集中\" {...a11yProps(2)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n          <Coverimage\r\n            title=\"リアルタイムリクエスト\"\r\n            text=\"今すぐあなたを必要としているゲストさんがいます。早速リクエストを確認してみましょう！\"\r\n            src={src1}\r\n            color=\"borderRed\"\r\n            alt=\"リアルタイムリクエストのカバー画像\"/>\r\n          <Box p={1}>\r\n            <RealtimeRequest myId={myId} mynickname={mynickname} mypic={mypic} history={history}/>\r\n          </Box>\r\n          <Coverimage\r\n            title=\"事前リクエスト\"\r\n            text=\"実施日が近づいている事前リクエストがあります。\"\r\n            src={src2}\r\n            color=\"borderYellow\"\r\n            alt=\"事前リクエストのカバー画像\"/>\r\n            <Box p={1}>\r\n              <RecentRequest myId={myId} mynickname={mynickname} mypic={mypic} history={history}/>\r\n            </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n          <Box p={1}>\r\n            <AllRequest myId={myId} mynickname={mynickname} mypic={mypic} history={history}/>\r\n          </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={2} dir={theme.direction}>\r\n          <Box p={1}>\r\n            <WantedRequest myId={myId} mynickname={mynickname} mypic={mypic} history={history}/>\r\n          </Box>\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default RequestTab\r\n","import React from 'react'\r\nimport Title from '../../common/Title'\r\nimport RequestTab from './RequestTab'\r\n\r\n// VolunteerのTop画面。\r\nconst Request = ({myId, mynickname, mypic, history}) => {\r\n    return (\r\n        <>\r\n            <Title title=\"リクエスト\" history={history}/>\r\n            <RequestTab \r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                history={history}\r\n                />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Request\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from '../request/RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// 成立済みで、未実施のものが入る\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n}));\r\n\r\nconst AcceptedVol = ({history, myId, mypic, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        guest_nickname: \"\",\r\n        guest_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"volunteer_id\", \"==\", myId)\r\n        .where(\"status\", \"==\", \"成立済\")\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                guest_nickname: doc.data().guest_nickname,\r\n                guest_pic: doc.data().guest_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mypic={mypic}\r\n                    mynickname={mynickname}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AcceptedVol\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from '../request/RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// 募集中で、立候補中（rikkouho_idの中にmyIdが入っている）のものが入る\r\n\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n}));\r\n\r\nconst WaitingVol = ({history, myId, mypic, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        guest_nickname: \"\",\r\n        guest_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n    // escortsの中で、募集中で、rikkouho_idにmyIdが入っているものを日時順に表示\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"rikkouho_id\", \"array-contains\", myId)\r\n        .where(\"status\", \"==\", \"募集中\")\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                guest_nickname: doc.data().guest_nickname,\r\n                guest_pic: doc.data().guest_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2={requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mypic={mypic}\r\n                    mynickname={mynickname}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WaitingVol\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from '../request/RequestItem';\r\nimport { db } from \"../../firebase\";\r\n\r\n// escortsの中で、volunteer_idにmyIdが入っていて、さらにstatus_2が\"完了\"になっているもの\r\n\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n}));\r\n\r\nconst FinishedVol = ({history, myId, mypic, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        guest_nickname: \"\",\r\n        guest_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n    // escortsの中で、volunteer_idにmyIdが入っていて、さらにstatus_2が\"完了\"になっているもの\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"volunteer_id\", \"==\", myId)\r\n        .where(\"status_2\", \"==\", \"完了\")\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                guest_nickname: doc.data().guest_nickname,\r\n                guest_pic: doc.data().guest_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FinishedVol\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport AcceptedVol from './AcceptedVol';\r\nimport WaitingVol from './WaitingVol';\r\nimport FinishedVol from './FinishedVol';\r\n\r\n// MylistのTab。\r\n\r\n// タブ下の画面の表示処理\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  // valueとindexが一致したときに、中身が表示される仕組み。\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          // ここに表示させたいものを書く。childrenにはTabpanelの中身が表示される\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `full-width-tab-${index}`,\r\n      'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    tab: {\r\n      bottom: 'auto',\r\n      top: 55,\r\n    },\r\n    margin:{\r\n        top: 55,\r\n        marginBottom: 120,\r\n    }\r\n  }));\r\n  \r\nconst MylistTab = ({myId, mypic, mynickname, history}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n  \r\n    const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n    };\r\n  \r\n    const handleChangeIndex = (index) => {\r\n      setValue(index);\r\n    };\r\n    return (\r\n      <>\r\n     <div className={classes.margin}></div>\r\n     <div className={classes.root}>\r\n      <AppBar position=\"fixed\" color=\"default\" className={classes.tab}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label=\"成立済\" {...a11yProps(0)} />\r\n          <Tab label=\"承認待ち\" {...a11yProps(1)} />\r\n          <Tab label=\"履歴\" {...a11yProps(2)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <AcceptedVol \r\n            myId={myId}\r\n            mypic={mypic}\r\n            mynickname={mynickname}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <WaitingVol \r\n            myId={myId}\r\n            mypic={mypic}\r\n            mynickname={mynickname}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={2} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <FinishedVol \r\n            myId={myId}\r\n            mypic={mypic}\r\n            mynickname={mynickname}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default MylistTab\r\n","import React from 'react'\r\nimport Title from '../../common/Title'\r\nimport MylistTab from './MylistTab'\r\n\r\nconst Mylist = ({myId, mypic, mynickname, history}) => {\r\n    return (\r\n        <>\r\n        <Title title=\"マイリスト\" history={history}/>\r\n        <MylistTab \r\n            myId={myId}\r\n            mypic={mypic}\r\n            mynickname={mynickname}\r\n            history={history}\r\n            />           \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Mylist","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\r\nimport { green, blue } from '@material-ui/core/colors';\r\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\r\nimport \"../../style.css\";\r\nimport { db } from \"../../firebase\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    green: {\r\n        color: '#fff',\r\n        backgroundColor: green[500],\r\n      },\r\n    blue: {\r\n        color: '#fff',\r\n        backgroundColor: blue[500],\r\n      },\r\n    red: {\r\n        color: '#fff',\r\n        backgroundColor: \"#f44336\",\r\n      },\r\n    yellow: {\r\n        color: '#fff',\r\n        backgroundColor: \"#ffc400\",\r\n      },\r\n    black: {\r\n        color: '#fff',\r\n        backgroundColor: \"black\",\r\n      },\r\n  }));\r\n\r\nconst NoticeItem = ({id, mypic, mynickname, escort_id, notice, date, already_read, icon, history, myId}) => {\r\n    const classes = useStyles();\r\n\r\n    // clickイベント\r\n    const handleClick=()=>{\r\n        // already_readを1にして、dbを更新する処理を追加する\r\n        db.collection(\"notices\").doc(id).update({\r\n          already_read: 1,\r\n        });\r\n        history.push({\r\n          // detailに遷移。idを渡す。\r\n          pathname: '/volunteer/detail',\r\n          state: { escortId: escort_id ,\r\n                    myId: myId,\r\n                    mypic: mypic,\r\n                    mynickname: mynickname\r\n                  }\r\n        });\r\n        \r\n      }\r\n    return (\r\n        <div key={id} className={already_read}>\r\n            {/* already_readが0なら、色変える */}\r\n            <ListItem alignItems=\"center\" button onClick={handleClick}>\r\n                \r\n                    {/* 内容によって、アイコンを変える */}\r\n                    {/* ボランティアに選ばれた時 icon=0 */}\r\n                    {icon===0 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.red}><PersonAddIcon /></Avatar>\r\n                    </ListItemAvatar>}\r\n\r\n                    {/* 選ばれなかった時 icon=1*/}\r\n                    {icon===1 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.black}><PersonAddDisabledIcon/></Avatar>\r\n                    </ListItemAvatar>}\r\n\r\n                    {/* 到着確認の時 icon=2*/} \r\n                    {icon===2 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.green}><RoomIcon /></Avatar>\r\n                    </ListItemAvatar>}       \r\n\r\n                    {/* 完了確認の時 icon=3*/} \r\n                    {icon===3 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.yellow}><AssignmentTurnedInIcon /></Avatar>\r\n                    </ListItemAvatar>}     \r\n\r\n                    {/* リアルタイムリクエストを出した時 icon=4*/} \r\n                    {icon===4 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.blue}><WifiTetheringIcon /></Avatar>\r\n                    </ListItemAvatar>}                             \r\n                <ListItemText\r\n                primary={notice}\r\n                secondary={date}\r\n                />\r\n            </ListItem>\r\n            <Divider component=\"li\" /> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(NoticeItem)","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title';\r\nimport NoticeItem from './NoticeItem';\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// お知らせのトップ。\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '500px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        margin: \"0 auto\",\r\n      },\r\n    margin:{\r\n        marginBottom: 60,\r\n    },\r\n  }));\r\n\r\nconst Notice = ({myId, mypic, mynickname, history}) => {\r\n    const classes = useStyles();\r\n\r\n       // firebaseに作成した項目を受け取るための変数＝useState\r\n       const [notice, setNotice] = useState([\r\n        {\r\n            id: \"\",\r\n            escort_id: \"\",\r\n            user_id: \"\",\r\n            icon:\"\",\r\n            notice: \"\",\r\n            already_read: \"\",\r\n            created_at: null,\r\n        },\r\n        ]);\r\n    \r\n    // noticesの中からuser_id=myIDのデータを取得。日付順に並べて、テキストと日付、アイコンを一緒に表示させる\r\n    // dbの中からuser_idがmyIdに一致するものを取得\r\n    useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"notices\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .orderBy(\"created_at\", \"desc\")\r\n            .onSnapshot((snapshot) =>\r\n                setNotice(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    escort_id: doc.data().escort_id,\r\n                    user_id: doc.data().user_id,\r\n                    icon: doc.data().icon,\r\n                    notice: doc.data().notice,\r\n                    already_read: doc.data().already_read,\r\n                    created_at: doc.data().created_at,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n    return (\r\n        <>\r\n        <Title title=\"お知らせ\" history={history}/>\r\n        <div className={classes.margin}></div>   \r\n        <List className={classes.root}>\r\n        {/* noticeの中身をitemに入れて表示処理 */}\r\n        {notice && notice.map((item) => (\r\n            // コンポーネントに各プロパティを渡す\r\n            <NoticeItem\r\n                key={item.id}\r\n                id={item.id}\r\n                escort_id={item.escort_id}\r\n                notice={item.notice}\r\n                date={item.date}\r\n                already_read={item.already_read ===0 ? (\"colored\"):(\"\")}\r\n                icon={item.icon}\r\n                history={history}\r\n                myId={myId}\r\n            />\r\n            ))}\r\n        </List>          \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notice\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\r\nimport { Button,  FormControl, TextField} from \"@material-ui/core\";\r\nimport { storage, db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    revise:{\r\n        position: \"absolute\",\r\n        top: 7,\r\n        right: 5,\r\n    },\r\n    image: {\r\n        width: \"8rem\",\r\n        height: \"8rem\",\r\n        marginBottom: \"10px\",\r\n        backgroundImage: `url(${Img})`,\r\n        backgroundSize: \"cover\",\r\n        cursor: \"pointer\",\r\n        position: \"relative\",\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"center\",\r\n        display: \"table-cell\",\r\n        '&:hover': {backgroundColor:'rgba(128,128,128,0.3)'},\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    inputFile: {\r\n        display: \"none\",\r\n      },\r\n    imgIcon:{\r\n        position: \"absolute\",\r\n        left: 50,\r\n        top: 52,\r\n        color: \"white\",\r\n      },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n    update:{\r\n        textAlign: \"right\",\r\n    },\r\n    account:{\r\n        minWidth: 300,\r\n    },\r\n    description:{\r\n        minWidth: \"100%\",\r\n    },\r\n  }));\r\n\r\nconst ProfileItem = ({id, user_id, nickname, picture, account, description, updated_at, created_at }) => {\r\n    const classes = useStyles();\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n      },\r\n      ]);\r\n\r\n// 全てを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .where(\"volunteer_id\", \"==\", user_id)\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れる\r\n              id: doc.id,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n\r\n    // 各項目を監視\r\n    const [newpicture, setNewpicture] = useState(null);\r\n    const [newnickname, setNewnickname] = useState(nickname);\r\n    const [newaccount, setNewaccount] = useState(account);\r\n    const [newdescription, setNewdescription] = useState(description);\r\n    // disableを管理\r\n    const [disabled, setDisabled] = useState(true); \r\n    const onDisabled = () => {\r\n        setDisabled(false);\r\n      };\r\n    const offDisabled = () => {\r\n        setDisabled(true);\r\n        setNewpicture(null);\r\n        setNewnickname(nickname);\r\n        setNewaccount(account);\r\n        setNewdescription(description);\r\n      };\r\n    \r\n    // 画像の処理\r\n    const onChangeImageHandler = (e) => {\r\n        if (e.target.files[0]) {\r\n          setNewpicture(e.target.files[0]);\r\n          // サムネイル表示処理\r\n          const reader = new FileReader();\r\n          reader.onload = function(e) {\r\n            document.getElementById('thumbnail').setAttribute('src', e.target.result);\r\n          };\r\n          reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n          e.target.value = \"\";        \r\n      };\r\n    \r\n    // 登録処理\r\n    const handleSubmit=(e) =>{\r\n        e.preventDefault();\r\n        if(!newaccount){\r\n          setNewaccount(\" \");\r\n        }\r\n        if(!newdescription){\r\n          setNewdescription(\" \");\r\n        }\r\n        // ここに登録処理を書く\r\n        if(newpicture){\r\n          // firebaseの仕様で同じファイル名の画像を複数回アップしてしまうと元々あったファイルが削除される\r\n          // そのためにファイル名をランダムにする必要がある、それが下\r\n          const S =\r\n              \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\"; //ランダムな文字列を作るための候補、62文字\r\n          const N = 16; //16文字の文字列を作るという意味 生成したい文字数が１６の文字列になる\r\n          const randomMoji = Array.from(crypto.getRandomValues(new Uint32Array(N))) //乱数を生成してくれるもので0からランダムな数字が１６こ選ばれる\r\n              .map((n) => S[n % S.length])\r\n              .join(\"\");\r\n          const fileName = randomMoji + \"_\" + newpicture.name;\r\n  \r\n          // firebase storageに登録\r\n          const uploadImg = storage.ref(`pictures/${fileName}`).put(newpicture);\r\n          \r\n          // firebase dbに登録\r\n          uploadImg.on(\r\n              firebase.storage.TaskEvent.STATE_CHANGED,\r\n              () => {},  //進捗度合\r\n              (err) => {  //エラーの時\r\n                alert(err.message);\r\n              },\r\n              async () => { //成功の時\r\n                await storage\r\n                  .ref(\"pictures\")\r\n                  .child(fileName)\r\n                  // storageのファイルURLにアクセスし、取得\r\n                  .getDownloadURL()\r\n                  .then(async (url) => {\r\n                    await db.collection(\"profiles\").doc(id).update({\r\n                      nickname: newnickname,\r\n                      description:newdescription,\r\n                      picture:url,\r\n                      account:newaccount,\r\n                      updated_at:firebase.firestore.FieldValue.serverTimestamp(),\r\n                    });\r\n                    // user_idがescortsの中にあるvolunteer_idに一致するものの、volunteer_picとvolunteer_nicknameを更新\r\n                    request.map((item) => (\r\n                      db.collection(\"escorts\").doc(item.id).update({\r\n                        volunteer_nickname: newnickname,\r\n                        volunteer_pic:url,\r\n                        })\r\n                        ));\r\n                  });\r\n              }\r\n            );\r\n          } else {\r\n              // テキストだけの処理\r\n        db.collection(\"profiles\").doc(id).update({\r\n          nickname: newnickname,\r\n          description:newdescription,\r\n          account:newaccount,\r\n          updated_at:firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        // user_idがescortsの中にあるvolunteer_idに一致するものの、volunteer_nicknameを更新\r\n        request.map((item) => (\r\n          db.collection(\"escorts\").doc(item.id).update({\r\n            volunteer_nickname: newnickname,\r\n            })\r\n            ));\r\n      }\r\n        setDisabled(true);\r\n        setNewpicture(null);\r\n        setNewnickname(newnickname);\r\n        setNewaccount(newaccount);\r\n        setNewdescription(newdescription);\r\n    };\r\n\r\n    \r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n        {disabled===true &&\r\n            <Button variant=\"contained\" color=\"primary\" className={classes.revise} onClick={onDisabled}>\r\n                修正する\r\n            </Button>}\r\n        {disabled===false &&\r\n            <Button variant=\"outlined\" color=\"primary\" className={classes.revise} onClick={offDisabled}>\r\n                中断して元に戻す\r\n            </Button>}\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n            <div className={classes.image}>\r\n                {/* 画像を選択したら、サムネイル表示 */}\r\n                { newpicture &&\r\n                    <img id=\"thumbnail\" src=\"\" alt=\"選択中の画像\" className={classes.img} />\r\n                } \r\n                {/* 既に入っている画像があれば表示するが、新しいのが入ったら表示しない */} \r\n                {!newpicture && picture &&  \r\n                <img id=\"thumbnail\" src={picture} alt=\"選択中の画像\" className={classes.img}/>}\r\n                {disabled===false &&\r\n                    <AddAPhotoIcon className={classes.imgIcon}/>  }\r\n                    {/* 画像を入れる時は、type=file */}\r\n                    <input\r\n                    type=\"file\"\r\n                    onChange={onChangeImageHandler}\r\n                    className={classes.inputFile}\r\n                    disabled={disabled}\r\n                    /> \r\n            </div>\r\n            </label>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■ニックネーム\r\n            </Typography>\r\n            <FormControl required>\r\n                  <TextField\r\n                    value={newnickname}\r\n                    onChange={(e) => setNewnickname(e.target.value)}\r\n                    disabled={disabled}\r\n                  />\r\n            </FormControl>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■SNSアカウント\r\n            </Typography>\r\n            <FormControl className={classes.account}>\r\n                  <TextField\r\n                    value={newaccount}\r\n                    onChange={(e) => setNewaccount(e.target.value)}\r\n                    disabled={disabled}\r\n                  />\r\n            </FormControl>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n                ■その他（自由記述）\r\n            </Typography>\r\n            <FormControl className={classes.description}>\r\n                    <TextField\r\n                        value={newdescription}\r\n                        multiline\r\n                        rows={5}\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        //  外だしせずにここで書く方法\r\n                        onChange={(e) => setNewdescription(e.target.value)}\r\n                        disabled={disabled}\r\n                    />\r\n                    </FormControl>\r\n\r\n        <Typography variant=\"body2\" display=\"block\" className={classes.update}>\r\n        {updated_at &&\r\n         <>更新日：{new Date(updated_at?.toDate()).toLocaleString()}</>}\r\n        {!updated_at &&\r\n         <>作成日：{new Date(created_at?.toDate()).toLocaleString()}</>}\r\n        </Typography>\r\n        <Button variant=\"contained\" color=\"primary\" disabled={disabled} type=\"submit\">修正登録</Button>\r\n\r\n        </form>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileItem\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    line:{\r\n        borderBottom: \"solid 0.5px black\",\r\n    },\r\n  }));\r\n  \r\n\r\nconst ReviewItem = ({id, evaluate, comment, created_at}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div key={id}>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            評価：{evaluate}<br/>\r\n            コメント：{comment}<br/>\r\n            (投稿日：{new Date(created_at?.toDate()).toLocaleString()})\r\n            </Typography>\r\n            <div className={classes.line}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ReviewItem\r\n","import React, {useState, useEffect} from 'react'\r\nimport { db } from \"../../firebase\";\r\nimport ReviewItem from './ReviewItem'\r\n\r\nconst Review = ({myId}) => {\r\n\r\n      // firebaseに作成した項目を受け取るための変数＝useState\r\n      const [evaluate, setEvaluate] = useState([\r\n        {\r\n            id: \"\",\r\n            escort_id:\"\",\r\n            volunteer_id: \"\",\r\n            guest_id: \"\",\r\n            evaluate: \"\",\r\n            comment:\"\",\r\n            created_at: null,\r\n        },\r\n        ]);\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"evaluates\")\r\n            .where(\"volunteer_id\", \"==\", myId)\r\n            .orderBy(\"created_at\", \"asc\")\r\n            .onSnapshot((snapshot) =>\r\n                setEvaluate(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    escort_id:doc.data().escort_id,\r\n                    volunteer_id:doc.data().volunteer_id,\r\n                    guest_id:doc.data().guest_id,\r\n                    evaluate:doc.data().evaluate,\r\n                    comment:doc.data().comment,\r\n                    created_at: doc.data().created_at,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n\r\n    return (\r\n        <>\r\n            {evaluate && \r\n                evaluate.map((item) => (\r\n                <ReviewItem\r\n                    key={item.id}\r\n                    id={item.id}\r\n                    evaluate={item.evaluate}\r\n                    comment={item.comment}\r\n                    created_at={item.created_at}\r\n                />\r\n                ))}   \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Review\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport ProfileItem from './ProfileItem'\r\nimport Review from './Review'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// 自分の自己紹介を編集するページ。\r\n// profilesの情報とevaluatesの情報を取得して表示させる\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  reviewarea:{\r\n      backgroundColor: \"#f5f5f5\",\r\n      width: \"100%\",\r\n  },\r\n  box: {\r\n    padding: theme.spacing(1),\r\n    margin: 'auto',\r\n    maxWidth: 500,\r\n  },\r\n}));\r\n\r\nconst Profile = ({myId, history}) => {\r\n  const classes = useStyles();\r\n      // firebaseに作成した項目を受け取るための変数＝useState\r\n      const [profile, setProfile] = useState([\r\n        {\r\n            id: \"\",\r\n            user_id: \"\",\r\n            nickname:\"\",\r\n            user_flg: \"\",\r\n            picture: \"\",\r\n            description: \"\",\r\n            account: \"\",\r\n            created_at: null,\r\n            updated_at: null,\r\n        },\r\n        ]);\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"profiles\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .onSnapshot((snapshot) =>\r\n                setProfile(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    user_id: doc.data().user_id,\r\n                    nickname: doc.data().nickname,\r\n                    user_flg: doc.data().user_flg,\r\n                    picture: doc.data().picture,\r\n                    description: doc.data().description,\r\n                    account: doc.data().account,\r\n                    created_at: doc.data().created_at,\r\n                    updated_at: doc.data().updated_at,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n\r\n    return (\r\n      \r\n        <>\r\n        <Title title=\"自己紹介\" history={history}/>\r\n\r\n        {profile.map((item) => (\r\n        <ProfileItem\r\n            key={item.id}\r\n            id={item.id}\r\n            nickname={item.nickname}\r\n            picture={item.picture}\r\n            account={item.account}\r\n            description={item.description}\r\n            updated_at={item.updated_at}\r\n            created_at={item.created_at}\r\n            user_id={item.user_id}\r\n            />\r\n            ))}\r\n        <div className={classes.reviewarea}>\r\n          <div className={classes.box}>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■レビュー\r\n            </Typography>\r\n\r\n            <Review\r\n            myId={myId}\r\n            /> \r\n          </div>\r\n        </div>\r\n    \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport { Badge } from '@material-ui/core';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\n\r\nconst ChatBudge = ({myId}) => {\r\n    // const [invisibleChat, setInvisibleChat] = useState(true);\r\n    \r\n    return (\r\n        <>\r\n            <Badge variant=\"dot\" color=\"secondary\" invisible>\r\n                <MessageIcon />\r\n            </Badge>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatBudge\r\n","import React from 'react'\r\nimport { Badge } from '@material-ui/core';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\n\r\n// const notices =[\r\n//     {\r\n//      id: 0,\r\n//      escorts_id: 1,\r\n//      user_id: \"aaa\",\r\n//      notice:\"Tomさんがあなたをボランティアに選びました！\",\r\n//      date: \"2021/07/25\",\r\n//      already_read: 0,\r\n//      icon:0,\r\n//     },\r\n//     {\r\n//      id: 1,\r\n//      escorts_id: 2,\r\n//      user_id: \"aaa\",\r\n//      notice:\"Bobさんのボランティアに選ばれませんでした。\",\r\n//      date: \"2021/07/24\",\r\n//      already_read: 1,\r\n//      icon:1,\r\n//     },\r\n// ];\r\n\r\n\r\nconst NoticeBudge = ({myId}) => {\r\n    // const [invisibleNotice, setInvisibleNotice] = useState(true);\r\n\r\n    // データ取得\r\n    // noticesの中にあるuser_idがmyIdと一致するものの中で、already_readが0のものがある場合\r\n    // const filtered = notices.filter((filtereditem) => (filtereditem.user_id === myId));\r\n    // const unread = filtered.filter((item) => (item.already_read === 0));\r\n\r\n    // budgeがつく条件を書く\r\n\r\n\r\n    return (\r\n        <>\r\n            <Badge variant=\"dot\" color=\"secondary\" invisible>\r\n                  <NotificationsIcon />\r\n            </Badge>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NoticeBudge\r\n","import React, {useState, useEffect}from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport RecentActorsIcon from '@material-ui/icons/RecentActors';\r\nimport \"../../style.css\";\r\nimport Request from \"../request/Request\";\r\nimport Mylist from \"../mylist/Mylist\";\r\nimport ChatTop from \"../../chat/ChatTop\";\r\nimport Notice from \"../notice/Notice\";\r\nimport Profile from \"../profile/Profile\";\r\nimport ChatBudge from \"./ChatBudge\";\r\nimport NoticeBudge from \"./NoticeBudge\";\r\nimport { db } from \"../../firebase\";\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`scrollable-prevent-tabpanel-${index}`}\r\n        aria-labelledby={`scrollable-prevent-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `scrollable-prevent-tab-${index}`,\r\n      'aria-controls': `scrollable-prevent-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      width: '100%',\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    appBar: {\r\n        top: 'auto',\r\n        bottom: 0,\r\n        paddingTop: \"10px\",\r\n      },\r\n    label:{\r\n        fontSize: \"8px\",\r\n        marginTop: \"0px\",\r\n    },\r\n    tab:{\r\n        padding: \"6px 9px\"\r\n    },\r\n    icon:{\r\n      marginBottom: \"0px\",\r\n    },\r\n    margin:{\r\n      bottom: 0,\r\n      marginBottom: 80,\r\n    }\r\n  }));\r\n  \r\n  \r\nconst Nav = (props) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const myId = props.location.state.myId;\r\n\r\n  const [profile, setProfile] = useState([\r\n    {\r\n      id: \"\",\r\n      nickname:\"\",\r\n      picture:\"\",\r\n    },\r\n    ]);\r\n\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"profiles\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .onSnapshot((snapshot) =>\r\n                setProfile(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    nickname: doc.data().nickname,\r\n                    picture: doc.data().picture,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);   \r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n      <TabPanel value={value} index={0}>\r\n        <Request \r\n          myId={myId}\r\n          mynickname={profile[0].nickname}\r\n          mypic={profile[0].picture} \r\n          history={props.history}\r\n        />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <Mylist myId={myId} history={props.history}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <ChatTop myId={myId}\r\n          mynickname={profile[0].nickname}\r\n          mypic={profile[0].picture} \r\n          history={props.history}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        <Notice \r\n          myId={myId} \r\n          mynickname={profile[0].nickname}\r\n          mypic={profile[0].picture} \r\n          history={props.history}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={4}>\r\n        <Profile myId={myId}\r\n        history={props.history}/>\r\n      </TabPanel>\r\n      <div className={classes.margin}></div>\r\n      <AppBar position=\"fixed\" color=\"inherit\" className={classes.appBar}>\r\n        <Tabs\r\n          variant=\"fullWidth\"\r\n          value={value}\r\n          onChange={handleChange}\r\n          textColor=\"primary\"\r\n        >\r\n          <Tab icon={<PersonPinIcon />} \r\n           label={<p className={classes.label}>リクエスト</p>} \r\n           {...a11yProps(0)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<AssignmentIcon />} \r\n           label={<p className={classes.label}>マイリスト</p>} \r\n           {...a11yProps(1)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<ChatBudge myId={myId}/>} \r\n           label={<p className={classes.label}>チャット</p>} \r\n           {...a11yProps(2)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<NoticeBudge myId={myId}/>} \r\n           label={<p className={classes.label}>お知らせ</p>} \r\n           {...a11yProps(3)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<RecentActorsIcon />} \r\n           label={<p className={classes.label}>自己紹介</p>} \r\n           {...a11yProps(4)} \r\n           className={classes.tab}\r\n           />\r\n        </Tabs>\r\n      </AppBar>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Nav\r\n","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, FormControl, MenuItem, Modal, Select, TextField, Typography } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n        display: \"block\",\r\n        margin: \"0 auto\",\r\n        marginBottom: 10,\r\n        marginTop: 10,\r\n    },\r\n    input:{\r\n      display: \"block\",\r\n      minWidth: 150,\r\n    },\r\n  }));\r\n\r\n// 日付\r\nlet now = new Date();            //日付取得準備（必須）！！\r\nlet year = now.getFullYear();    //年\r\nlet m = (\"0\"+(now.getMonth() + 1)).slice(-2);    //月（2桁表示）\r\nlet d =  (\"0\"+now.getDate()).slice(-2);  //日（2桁表示）\r\nlet date = year + \"/\" + m + \"/\" + d;\r\n\r\nconst Done = ({id, volunteer_id, myId, mynickname, mypic, es_date, disabled}) => {\r\n    const classes = useStyles();\r\n\r\n    const [evaluate, setEvaluate] = useState(\"\");\r\n    const [comment, setComment] = useState(\"\");\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    \r\n    // 登録処理\r\n    const onSubmit = () => {\r\n        // ここに書く\r\n        // (1)escortsのstatus_2を\"完了\"に更新。今すぐなら、今の日付を入れる\r\n        if(es_date === \"今すぐ\"){\r\n          db.collection(\"escorts\").doc(id).update({\r\n            status_2: \"完了\",\r\n            es_date: date,\r\n          });\r\n        }if(es_date !== \"今すぐ\"){\r\n          db.collection(\"escorts\").doc(id).update({\r\n            status_2: \"完了\",\r\n          });\r\n        }\r\n        // (2)volのお知らせに「nicknameさんがあなたの完了報告を確認しました」と追加される。\r\n        db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: volunteer_id,\r\n            icon: 3,\r\n            notice:`${mynickname}さんがあなたの完了報告を確認しました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        // (3)evaluatesに評価が入る\r\n        db.collection(\"evaluates\").add({\r\n            escort_id: id,\r\n            volunteer_id: volunteer_id,\r\n            guest_id: myId,\r\n            evaluate: evaluate,\r\n            comment:comment,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" disabled={disabled} onClick={handleOpen} className={classes.button}>\r\n                完了確認・評価\r\n            </Button>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"完了確認・評価\"\r\n                    text={\r\n                        <div>\r\n                            <Typography variant=\"subtitle1\" display=\"block\">\r\n                            ■評価\r\n                            </Typography>\r\n                            <FormControl component=\"fieldset\" className={classes.input}>\r\n                            <Select\r\n                              labelId=\"evaluate\"\r\n                              id=\"evaluate\"\r\n                              value={evaluate}\r\n                              onChange={e => setEvaluate(e.target.value)}\r\n                              displayEmpty\r\n                              required\r\n                            >\r\n                              <MenuItem value=\"\">\r\n                                <em>評価</em>\r\n                              </MenuItem>\r\n                              <MenuItem value=\"1\">1(最低)</MenuItem>\r\n                              <MenuItem value=\"2\">2</MenuItem>\r\n                              <MenuItem value=\"3\">3</MenuItem>\r\n                              <MenuItem value=\"4\">4</MenuItem>\r\n                              <MenuItem value=\"5\">5(最大)</MenuItem>\r\n                            </Select>\r\n                            </FormControl>\r\n                            <Typography variant=\"subtitle1\" display=\"block\">\r\n                            ■コメント\r\n                            </Typography>\r\n                            <FormControl>\r\n                            <TextField\r\n                                value={comment}\r\n                                multiline\r\n                                rows={5}\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                //  外だしせずにここで書く方法\r\n                                onChange={(e) => setComment(e.target.value)}\r\n                            />\r\n                            </FormControl>\r\n\r\n                        </div>\r\n                    }\r\n                    buttonText=\"送信\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n                    \r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Done\r\n","import React, {useState} from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport Map from \"../../volunteer/detail/Map\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Done from \"./Done\";\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    button:{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        right: 5,\r\n    },\r\n    image: {\r\n        width: \"6rem\",\r\n        height: \"6rem\",\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    volList:{\r\n        display: \"flex\",\r\n    },\r\n    volInfo:{\r\n        paddingLeft: \"10px\",\r\n    },\r\n    vol:{\r\n        paddingTop: 10,\r\n        paddingBottom: 10,\r\n    },\r\n    button2:{\r\n        marginLeft: 10,\r\n    },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    margin2:{\r\n        marginBottom: 10,\r\n    },\r\n  }));\r\n\r\n//  開閉式メニューの部分\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n      border: '1px solid #d3d4d5',\r\n    },\r\n  })((props) => (\r\n    <Menu\r\n      elevation={0}\r\n      getContentAnchorEl={null}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'center',\r\n      }}\r\n      transformOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n      }}\r\n      {...props}\r\n    />\r\n  ));\r\n  const StyledMenuItem = withStyles((theme) => ({\r\n    root: {\r\n      '&:focus': {\r\n        backgroundColor: theme.palette.primary.main,\r\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n          color: theme.palette.common.white,\r\n        },\r\n      },\r\n    },\r\n  }))(MenuItem);\r\n\r\nconst GuestDetailItem = ({\r\n    id, picture, nickname, volunteer_id, rikkouho_id, es_date, start_time, \r\n    departure, departure_lat, departure_lon, destination, destination_lat, destination_lon,               \r\n    number, lan_1, lan_2, lan_3, status, status_2, emergency, history, myId, mynickname, mypic}) => {\r\n\r\n    const classes = useStyles();\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    // ボタンmenu\r\n    const handleClick = (e) => {\r\n      setAnchorEl(e.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n      };\r\n    \r\n    //リクエスト編集\r\n    const reviseRequest=()=>{\r\n    // statusを募集中に。status2を空に。volunteer_idとnickname,pic,rikkouho_idを空に。\r\n        db.collection(\"escorts\").doc(id).update({\r\n            status: \"募集中\",\r\n            status_2: \"\",\r\n            volunteer_id: \"\",\r\n            volunteer_pic:\"\",\r\n            volunteer_nickname:\"\",\r\n            rikkouho_id: \"\",\r\n          });\r\n        // noticeにリクエストがやり直されたのを追加\r\n        if(status=\"成立済\"){\r\n        db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: volunteer_id,\r\n            icon: 1,\r\n            notice:`${mynickname}さんがリクエストをやり直しました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        };\r\n    }\r\n\r\n    //リクエストキャンセル\r\n    const canselRequest=()=>{\r\n        // escortsからidの項目を削除。トップに遷移\r\n        db.collection(\"escorts\").doc(id).delete();\r\n         // noticeにリクエストがキャンセルされた\r\n        if(status=\"成立済\"){\r\n          db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: volunteer_id,\r\n            icon: 1,\r\n            notice:`${mynickname}さんがリクエストをキャンセルしました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        };\r\n        // 「戻る」\r\n        history.goBack()({\r\n            state: { myId: myId,\r\n                     mynickname: mynickname,\r\n                     mypic: mypic,\r\n                    }\r\n        })\r\n    }\r\n    \r\n    //ゲスト紹介ページへ遷移\r\n    const gotoVol=()=>{\r\n        history.push({\r\n            // 紹介ページに遷移。idを渡す。\r\n            pathname: '/guest/volunteerprofile',\r\n            state: { volunteerId: volunteer_id, }\r\n        });\r\n    }\r\n    //ボランティア選択画面へ遷移\r\n    const gotoSelectVol=()=>{\r\n        history.push({\r\n            // ボランティアセレクトに遷移。立候補idを渡す。\r\n            pathname: '/guest/volunteerselect',\r\n            state: { rikkouho_id: rikkouho_id, \r\n                     escortId: id,\r\n                     mynickname: mynickname,\r\n            }\r\n        });\r\n    }\r\n\r\n    // 掲示板へ遷移\r\n    const gotoForum=()=>{\r\n        history.push({\r\n            //forumに遷移。値を渡す。\r\n            pathname: '/forum',\r\n            state: {escortId: id,\r\n                    myId: myId,\r\n                    }\r\n        })\r\n    }\r\n\r\n    //チャットへ遷移\r\n    const gotoChat=()=>{\r\n        history.push({\r\n            //forumに遷移。値を渡す。\r\n            pathname: '/chat',\r\n            state: {escortId: id,\r\n                    myId: myId,\r\n                    }\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n\r\n            { status===\"募集中\" &&\r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"large\" endIcon={<ArrowDropDownIcon/>} onClick={handleClick}>\r\n                      {status}\r\n                  </Button>\r\n                </>\r\n            }\r\n            { status=== \"成立済\" && status_2!==\"完了\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"large\" endIcon={<ArrowDropDownIcon/>} onClick={handleClick}>\r\n                    {status}\r\n                </Button>\r\n                </>\r\n            }\r\n            { status_2===\"完了\" &&\r\n              <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"large\" >\r\n                  {status_2}\r\n              </Button>\r\n            }\r\n                <StyledMenu\r\n                id=\"customized-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n                >\r\n                <StyledMenuItem onClick={reviseRequest}>\r\n                <ListItemText primary=\"同じ内容でリクエストをやり直す\" />\r\n                </StyledMenuItem>\r\n                <StyledMenuItem onClick={canselRequest}>\r\n                <ListItemText primary=\"リクエストを削除する\" />\r\n                </StyledMenuItem>\r\n            </StyledMenu>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ＜基本情報＞\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" display=\"block\">\r\n            ■日時：{emergency===1 ? (`今すぐ`):(`${es_date} ${start_time}～`)}\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■言語：{lan_1}{ lan_2 && `、${lan_2}`}{ lan_3 && `、${lan_3}`}\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■人数：{number}人\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ＜コース＞\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■出発地：{departure} \r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■目的地：{destination}\r\n            </Typography>\r\n\r\n            {/* mapコンポーネントを読み込み */}\r\n            <Map\r\n                departure_lat={departure_lat}\r\n                departure_lon={departure_lon}\r\n                destination_lat={destination_lat}\r\n                destination_lon={destination_lon}\r\n            />\r\n\r\n            <div className={classes.vol}>\r\n            {/* ボランティア成立前はボランティア選択画面へのボタンを表示 */}\r\n            { status===\"募集中\" && \r\n            <>\r\n                <Button variant=\"contained\" onClick={gotoSelectVol}>ボランティア選択</Button>\r\n                <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoForum} className={classes.button2}>\r\n                    掲示板\r\n                </Button>\r\n            </>\r\n            }\r\n             {/* ボランティア成立後はボランティア情報 */}\r\n             { status===\"成立済\" && \r\n                <>\r\n                <Typography variant=\"subtitle1\" display=\"block\">\r\n                    ＜ボランティア情報＞\r\n                </Typography>\r\n                <div className={classes.volList}>\r\n                    <div>\r\n                    { picture ? (\r\n                        <>\r\n                        <div className={classes.image}>\r\n                            <img src={picture} alt={`${nickname}のプロフィール画像`} className={classes.img}/>\r\n                        </div>\r\n                        </>\r\n                        ) : (\r\n                        <>\r\n                        <div className={classes.image}>\r\n                            <img src={Img} alt=\"画像はありません\" className={classes.img}/>\r\n                        </div>\r\n                        </>\r\n                        )\r\n                    }\r\n                    </div>\r\n                    <div className={classes.volInfo}>\r\n                    <Typography variant=\"body2\" display=\"block\">\r\n                        ■ニックネーム：{nickname}\r\n                    </Typography>\r\n                    <div className={classes.margin2}></div>\r\n                    <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={gotoVol}>\r\n                        紹介ページ\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoChat} className={classes.button2}>\r\n                        チャット\r\n                    </Button>\r\n                    </div>\r\n                </div>                \r\n                </>\r\n            }\r\n            </div>\r\n\r\n            {/* ボタンと登録等の処理はコンポーネントを分ける */}\r\n            { status === \"成立済\" && status_2 !== \"完了報告\" && status_2 !== \"完了\" &&\r\n            <>\r\n            <Done\r\n                id={id} \r\n                volunteer_id={volunteer_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                disabled={true}\r\n                es_date={es_date}\r\n                />\r\n            <Typography variant=\"caption\" display=\"block\">\r\n                ※ボランティアが実施後に完了報告すると、完了確認・評価ができます。\r\n            </Typography>\r\n            </>\r\n            }\r\n            {/* 到着後に、完了確認・評価ボタンが表示される */}\r\n            { status === \"成立済\" && status_2 === \"完了報告\" &&\r\n            <Done\r\n                id={id} \r\n                volunteer_id={volunteer_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                disabled={false}\r\n                es_date={es_date}\r\n                />\r\n            }\r\n        </div>\r\n        { status_2 === \"完了\" &&\r\n        <Typography variant=\"caption\" display=\"block\">\r\n            ※完了済のリクエストです。\r\n        </Typography>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(GuestDetailItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport GuestDetailItem from './GuestDetailItem'\r\nimport { db } from \"../../firebase\";\r\n\r\n// detailのデータを取得するコンポーネント\r\n\r\nconst GuestDetail = (props) => {\r\n    // idを前ページから受け取る。\r\n    const myId = props.location.state.myId;\r\n    const mynickname = props.location.state.mynickname;\r\n    const mypic = props.location.state.mypic;\r\n    const escortId = props.location.state.escortId;\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id: \"\",\r\n        volunteer_id: \"\",\r\n        rikkouho_id: \"\",\r\n        es_date: \"\",\r\n        start_time: \"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        picture: \"\",\r\n        nickname: \"\",\r\n      },\r\n      ]);\r\n\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"escorts\")\r\n          .doc(escortId)\r\n          .onSnapshot((snapshot) =>\r\n              setRequest(\r\n                {\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id:snapshot.id,\r\n                  guest_id: snapshot.data().guest_id,\r\n                  volunteer_id: snapshot.data().volunteer_id,\r\n                  rikkouho_id: snapshot.data().rikkouho_id,\r\n                  es_date: snapshot.data().es_date,\r\n                  start_time: snapshot.data().start_time,\r\n                  departure: snapshot.data().departure,\r\n                  destination:snapshot.data().destination,\r\n                  number:snapshot.data().number,\r\n                  lan_1:snapshot.data().lan_1,\r\n                  lan_2:snapshot.data().lan_2,\r\n                  lan_3:snapshot.data().lan_3,\r\n                  status: snapshot.data().status,\r\n                  status_2: snapshot.data().status_2,\r\n                  emergency: snapshot.data().emergency,\r\n                  picture: snapshot.data().volunteer_pic,\r\n                  nickname: snapshot.data().volunteer_nickname,\r\n                }\r\n              )\r\n            );\r\n            console.log(request);\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []); \r\n\r\n    return (\r\n        <>\r\n        <Title title=\"詳細\" history={props.history}/>        \r\n            {/* // itemコンポーネントに各プロパティを渡す */}\r\n            <GuestDetailItem\r\n                key={request.id}\r\n                id={request.id}\r\n                picture={request.picture}\r\n                nickname= {request.nickname}\r\n                rikkouho_id={request.rikkouho_id}\r\n                guest_id={request.guest_id}\r\n                volunteer_id={request.volunteer_id}\r\n                es_date= {request.es_date}\r\n                start_time= {request.start_time}\r\n                departure= {request.departure}\r\n                departure_lat={request.departure_lat}\r\n                departure_lon={request.departure_lon}\r\n                destination={request.destination}\r\n                destination_lat={request.destination_lat}\r\n                destination_lon={request.destination_lon}\r\n                number={request.number}                \r\n                lan_1={request.lan_1}\r\n                lan_2={request.lan_2}\r\n                lan_3={request.lan_3}\r\n                status= {request.status}\r\n                status_2={request.status_2}\r\n                emergency={request.emergency}\r\n                history={props.history}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n            />\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestDetail\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n    image: {\r\n        width: \"8rem\",\r\n        height: \"8rem\",\r\n        margin: \"0 auto\",\r\n        marginBottom: \"10px\",\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n    update:{\r\n        textAlign: \"right\",\r\n    },\r\n\r\n  }));\r\n\r\nconst VolunteerInfoItem = ({id, nickname, picture, account, description, created_at, updated_at}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n            { picture ? (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={picture} alt={`${nickname}のプロフィール画像`} className={classes.img}/>\r\n                </div>\r\n                </>\r\n                ) : (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={Img} alt=\"画像はありません\" className={classes.img}/>\r\n                </div>\r\n                </>\r\n                )\r\n            }\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■ニックネーム：{nickname}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■SNSアカウント：\r\n            </Typography>\r\n            <a href={account}>{account}</a>\r\n\r\n        <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■自己紹介：\r\n        </Typography>\r\n        {description}\r\n\r\n        <Typography variant=\"body2\" display=\"block\" className={classes.update}>\r\n        {updated_at &&\r\n         <>更新日：{new Date(updated_at?.toDate()).toLocaleString()}</>}\r\n        {!updated_at &&\r\n         <>作成日：{new Date(created_at?.toDate()).toLocaleString()}</>}\r\n        </Typography>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VolunteerInfoItem\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport VolunteerInfoItem from './VolunteerInfoItem'\r\nimport Review from '../../volunteer/profile/Review'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n    box: {\r\n      padding: theme.spacing(1),\r\n      margin: 'auto',\r\n      maxWidth: 500,\r\n    },\r\n  }));\r\n\r\nconst VolunteerInfo = (props) => {\r\n    const classes = useStyles();\r\n    // volunteer_idを前ページから受け取る。\r\n    const volunteerId = props.location.state.volunteerId;\r\n\r\n        // firebaseに作成した項目を受け取るための変数＝useState\r\n        const [profile, setProfile] = useState([\r\n          {\r\n              id: \"\",\r\n              user_id: \"\",\r\n              nickname:\"\",\r\n              user_flg: \"\",\r\n              picture: \"\",\r\n              description: \"\",\r\n              accout: \"\",\r\n              created_at: null,\r\n              updated_at: null,\r\n          },\r\n          ]);\r\n\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"profiles\")\r\n          .where(\"user_id\", \"==\", volunteerId)\r\n          .onSnapshot((snapshot) =>\r\n              setProfile(\r\n                snapshot.docs.map((doc) => ({\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: doc.id,\r\n                  user_id: doc.data().user_id,\r\n                  nickname: doc.data().nickname,\r\n                  user_flg: doc.data().user_flg,\r\n                  picture: doc.data().picture,\r\n                  description: doc.data().description,\r\n                  accout: doc.data().accout,\r\n                  created_at: doc.data().created_at,\r\n                  updated_at: doc.data().updated_at,\r\n                }))\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Title title=\"ボランティアの自己紹介ページ\" history={props.history}/>\r\n            {/* guestinfoの中身をitemに入れて表示処理 */}\r\n            {profile.map((item) => (\r\n            // GuestInfoItemコンポーネントに各プロパティを渡す\r\n            <VolunteerInfoItem\r\n            key={item.id}\r\n            id={item.id}\r\n            nickname={item.nickname}\r\n            picture={item.picture}\r\n            account={item.account}\r\n            description={item.description}\r\n            created_at={item.created_at}\r\n            updated_at={item.updated_at}\r\n            />\r\n            ))}\r\n          <div className={classes.reviewarea}>\r\n          <div className={classes.box}>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■レビュー\r\n            </Typography>\r\n            <Review\r\n            myId={volunteerId}\r\n            /> \r\n          </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VolunteerInfo\r\n","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Avatar, Button, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { withRouter } from 'react-router-dom';\r\nimport \"../../style.css\";\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        marginBottom: 8,\r\n      },\r\n      paper: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n      large: {\r\n        width: theme.spacing(8),\r\n        height: theme.spacing(8),\r\n      },\r\n      avatar:{\r\n        paddingRight:\"10px\",\r\n      },\r\n      list:{\r\n        flexDirection: \"column\",\r\n        padding: \"0 0 0 0\",\r\n        alignItems: 'start',\r\n      },\r\n      image: {\r\n        width: \"5rem\",\r\n        height: \"5rem\",\r\n      },\r\n      img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n      flex: {\r\n        display: \"flex\",\r\n      },\r\n      button:{\r\n          marginRight: 10,\r\n      },\r\n  }));\r\n\r\nconst SelectItem = ({id, picture, user_id, nickname, history, escortId, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    //ボラ紹介ページへ遷移\r\n    const gotoVol=()=>{\r\n         history.push({\r\n            // 紹介ページに遷移。idを渡す。\r\n            pathname: '/guest/volunteerprofile',\r\n            state: { volunteerId: user_id }\r\n        });\r\n    }\r\n\r\n    console.log(picture);\r\n    let volpic =\"\";\r\n    if(!picture){\r\n        volpic = \"\";\r\n    }if(picture){\r\n        volpic =picture;\r\n    };  \r\n\r\n    // 決定処理\r\n    const selectVol=()=>{\r\n        // dbからescortsのidに対して、statusを\"成立済\"に、status_2に待機中、volunteer_idにuser_id、nicknameと画像を入れる\r\n        db.collection(\"escorts\").doc(escortId).update({\r\n          status: \"成立済\",\r\n          status_2: \"待機中\",\r\n          volunteer_id: user_id,\r\n          volunteer_pic: volpic,\r\n          volunteer_nickname: nickname,\r\n          rikkouho_id: null,\r\n        });\r\n      // noticeに選ばれたのを追加\r\n      db.collection(\"notices\").add({\r\n        escort_id: escortId,\r\n        user_id: user_id,\r\n        icon: 0,\r\n        notice:`${mynickname}さんがあなたをボランティアに選びました！`,\r\n        already_read: 0,\r\n        created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n    // 「戻る」\r\n    history.goBack()\r\n   }\r\n\r\n\r\n    return (\r\n        <div key={id}>\r\n            <div className={classes.root}>\r\n            {/* 外枠 */}\r\n            <Paper className={classes.paper}>\r\n            <div className={classes.flex}>\r\n                <ListItemAvatar className={classes.avatar}>\r\n                    { picture ? (\r\n                    <>\r\n                        <Avatar variant=\"rounded\" src={picture} alt={`${nickname}のプロフィール画像`}  className={classes.large}/>\r\n                    </>\r\n                    ) : (\r\n                    <>\r\n                        <Avatar variant=\"rounded\" src={Img} alt=\"画像はありません\"  className={classes.large}/>\r\n                    </>\r\n                    )}\r\n                </ListItemAvatar>\r\n                <ListItem className={classes.list}>\r\n                <ListItemText \r\n                primary={`${nickname}さん`}\r\n                /> \r\n                <ListItemText\r\n                    secondary={\r\n                    <>\r\n                    <Button variant=\"outlined\" color=\"primary\" size=\"small\" className={classes.button} onClick={gotoVol}>\r\n                        紹介ページ\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={selectVol}>\r\n                        この人に決定\r\n                    </Button>\r\n                    </>\r\n                    }/>         \r\n                </ListItem>\r\n            </div>\r\n            </Paper>\r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(SelectItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport SelectItem from './SelectItem'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n  }));\r\n\r\nconst VolunteerSelect = (props) => {\r\n    const classes = useStyles();\r\n    // escort_idと立候補idを前ページから受け取る。\r\n    const escortId = props.location.state.escortId;\r\n    const rikkouho_id= props.location.state.rikkouho_id;\r\n    const mynickname= props.location.state.mynickname;\r\n\r\n    const [profile, setProfile] = useState([\r\n      {\r\n          id: \"\",\r\n          user_id: \"\",\r\n          nickname:\"\",\r\n          user_flg: \"\",\r\n          picture: \"\",\r\n          description: \"\",\r\n          accout: \"\",\r\n          created_at: null,\r\n          updated_at: null,\r\n      },\r\n      ]);\r\n\r\n    // 立候補idに入っているidを取得して、profilesからuser_idと一致するものの、nicknameとpictureを取得する。\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n        useEffect(() => {\r\n          const firebaseData = db\r\n              .collection(\"profiles\")\r\n              .where(\"user_id\", \"in\", rikkouho_id)\r\n              .onSnapshot((snapshot) =>\r\n                  setProfile(\r\n                    snapshot.docs.map((doc) => ({\r\n                      // firebaseから読み込んだデータをdocに入れて、\r\n                      // 各プロパティに入れて、postを更新\r\n                      id: doc.id,\r\n                      user_id: doc.data().user_id,\r\n                      nickname: doc.data().nickname,\r\n                      user_flg: doc.data().user_flg,\r\n                      picture: doc.data().picture,\r\n                      description: doc.data().description,\r\n                      accout: doc.data().accout,\r\n                      created_at: doc.data().created_at,\r\n                      updated_at: doc.data().updated_at,\r\n                    }))\r\n                  )\r\n                );\r\n          //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n          return () => {\r\n              firebaseData();\r\n              };\r\n          }, []);      \r\n\r\n    return (\r\n        <div>\r\n            <Title title=\"ボランティア選択\" history={props.history}/> \r\n            <div className={classes.margin}></div> \r\n            {profile &&\r\n              profile.map((item) => (\r\n                <SelectItem\r\n                    key={item.id}\r\n                    id={item.id}\r\n                    picture={item.picture}\r\n                    nickname={item.nickname}\r\n                    user_id={item.user_id}\r\n                    history={props.history}\r\n                    escortId={escortId}\r\n                    mynickname={mynickname}\r\n                />\r\n              ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VolunteerSelect\r\n","import React from 'react'\r\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport ScrollToTop from \"./ScrollToTop\";\r\nimport Detail from \"../volunteer/detail/Detail\";\r\nimport GuestNav from \"../guest/nav/GuestNav\";\r\nimport GuestInfo from \"../volunteer/detail/GuestInfo\";\r\nimport ForumItem from \"../chat/ForumItem\";\r\nimport ChatItem from \"../chat/ChatItem.js\";\r\nimport App from \"../App\";\r\nimport Register from \"../Register\";\r\nimport Userflg from \"../Userflg\";\r\nimport Nav from \"../volunteer/nav/Nav\";\r\nimport GuestDetail from \"../guest/detail/GuestDetail\";\r\nimport VolunteerInfo from \"../guest/detail/VolunteerInfo\";\r\nimport VolunteerSelect from \"../guest/detail/VolunteerSelect\";\r\n\r\nconst Router = () => {\r\n    return (\r\n        <>\r\n        <BrowserRouter>\r\n            <ScrollToTop>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={App} />\r\n                <Route exact path=\"/register\" component={Register} />\r\n                <Route exact path=\"/userflg\" component={Userflg} />\r\n                <Route exact path=\"/volunteer\" component={Nav} />\r\n                <Route exact path=\"/volunteer/detail\" component={Detail} />\r\n                <Route exact path=\"/volunteer/guestprofile\" component={GuestInfo} />\r\n                <Route exact path=\"/guest\" component={GuestNav} />\r\n                <Route exact path=\"/guest/detail\" component={GuestDetail} />\r\n                <Route exact path=\"/guest/volunteerprofile\" component={VolunteerInfo} />\r\n                <Route exact path=\"/guest/volunteerselect\" component={VolunteerSelect} />\r\n                <Route exact path=\"/forum\" component={ForumItem} />\r\n                <Route exact path=\"/chat\" component={ChatItem} />\r\n            </Switch>\r\n            </ScrollToTop>\r\n        </BrowserRouter>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Router\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Router from \"./common/Router\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\n//全体テーマの設定\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#f6685e',\n      main: '#f44336',\n      dark: '#aa2e25',\n      contrastText: '#fff',\n    },\n    secondary: {\n      light: '#ffcf33',\n      main: '#ffc400',\n      dark: '#b28900',\n      contrastText: '#000',\n    },\n  },\n});\n\nReactDOM.render(\n    <ThemeProvider theme={theme}>\n        <Router />\n    </ThemeProvider>\n, document.getElementById(\"root\"));\n"],"sourceRoot":""}