(this["webpackJsonpreact-firebase"]=this["webpackJsonpreact-firebase"]||[]).push([[0],{176:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),c=a(17),r=a.n(c),s=a(42),o=a(18),d=a(116),l=a(117),u=a(127),m=a(125),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(i.Component),b=Object(o.f)(j),p=a(5),h=a(24),O=a.n(h),x=a(40),g=a(72),_=a(211),y=a(213),f=a(215),v=a(216),k=a(121),A=a.n(k),I=a(13),C=(a(178),a(155),a(179),I.a.initializeApp({apiKey:"AIzaSyCn9Oo-Shnob2XYMtqP8yu9ONO7r6EfTg0",authDomain:"oribora-d5e64.firebaseapp.com",databaseURL:"https://react-sample-e54df.firebaseio.com",projectId:"oribora-d5e64",storageBucket:"oribora-d5e64.appspot.com",messagingSenderId:"257293611213",appId:"1:257293611213:web:28a310e8a83e8acd0a7984"}).firestore()),N=I.a.auth(),w=I.a.storage(),B=Object(_.a)((function(e){return{title:{bottom:"auto",top:0,boxShadow:"none"},root:{flexGrow:1},text:{flexGrow:1}}})),S=function(e){var t=e.title,a=e.history,c=B();return Object(i.useEffect)((function(){var e=N.onAuthStateChanged((function(e){!e&&a.push("/")}));return function(){return e()}})),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:c.root,children:Object(n.jsx)(y.a,{position:"fixed",color:"primary",className:c.title,children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(g.a,{variant:"h6",className:c.text,children:t}),Object(n.jsx)(v.a,{color:"inherit",edge:"end",onClick:Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.signOut();case 3:a.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:Object(n.jsx)(A.a,{})})]})})})})},F="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAAAAADRE4smAAAKl0lEQVR4AezSgQAAAAACoP0pRxnkYii9hgACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIIAACIAACIAACIAACIAACIAAY+8uEB6F1SgMz/73dIJTpAot1kK+nVwZ9/mlkEDOs4W+SKxs3DgyAPfo4XYu0jj0FQAoP4zT4nwbNANwwL3KQ4XfUmFe3RnAho11EeAfgqIeGcAW6WuGF8qumgFsTFt6eAWvbBnAhtxivFp8YwDboOsIbxLVmgGsXx3izcKaAaxcH+Nd4p4BrNhUKryTKicGsFa1hyfwagawSlOGJ8knBrA+fYinCXsGsDYXhSdSFwawKjrHk+WaAazHlODpkokBrMUjwgyiBwNYh3uAWQR3BrAGvY+Z+D0DsN/dx2z8OwOw3SPAjIIHA7DbFGFW8cQAbKZTzCzVDMBiOWaXMwB7VVhAxQBsNSgsQA0MwE46xCLCiQFYKcdCcgZgoysWc2UA9pkCLCaYGIB1DljQgQHYPwJwaiTAABIsKmUAdrliYVcGYJUYC4sYgE0aLO7GACySYHExA7BHCwNaBmCNFAYkDMAWA4zoGYAlDjDiwADsoAMYEWgGYIUWhjQMwAoFDCkYgA0mD4Z4EwOwwA3GNAzAAgcYc2AAFohgTMwAzBthjhoZgHE3GHRjAMbtYdCeARgXw6CYARjnwSCPAZg2wqiJARjWwqiWARhWwaiKARh2gFEHBmBYBqMyBmDYDkbtGIBhMYyKGYBhEYyKGIBhAYwKGIBhHozyGYBhMIwBGKZglGIAhvl8BPAl0KCQARgWuz0MZAAJjEoYgGEpjEoZgGE5jMoZgGFHGHVkAIbVMKpmAIb1MKpjAIZNMIabQjkV6AsDcHoiIGEAbg8DDm4HwIMBDQNw+i1QTQzAvNTtiWAGcIIxJwZggc7taSAGoD0Y4msGYIM9B4FuB9DDkJ4B2CFyezsYAzjDiDMDsMRDwQD1YAC2yN3eDcYABhgwMACn/yZiJwzA6ZFgxwBsknIdyO0AWrdvAAxACg4B3A5g9LAgb2QATk8HXsQ2DEBHWEykGYB9OoWFqE4YgIWOPBHqdgA6xSJSzQDsNPpYgD8KA7BUozA71QgDsNbJ7RcABiCF218MZwB6h1llmgHYbUowo0QLA7DcGGE20SQMwHqP2QqIHsIAHH4KpJMwgFXQmdPvfwxAdIGnK7UwgPU4KTyVOokwgDVpfTyR3wkDWJlxh6dJR2EAq6NPyuXbPwMQ6WM8QdwLA1gpXfl4J78SYQDrNRZ4l3IUBrBuXYY3yzoRBrB6Q67wBiofRBjAJtwLhVdSxV2EAWzGWMV4haQaRRjAtgynEC8Snu4iwgA2aLjsPPyVt7sMIsIANkv35zxW+A0V5+deiwgD2Dz9aC/7ItvFURBE8S4r9pf2ocUYBkAMgBgAMQBiAMQAiAEQAyAGQAyAGAAxAGIAxACIARADIAZADIAYADEAYgDEAIgBEAMgBkAMgBgAMQBiAMQAiAEQAyAGQAyAGAAxAGIAxAD0+BiGvu+69n+6ru+H4TFqBrBh+tE31elQZEkUePgDL4iSrDicqqZ/aAawCfreXMos9hVeSflxVl6au2YAKzV29TGLFN5JRdmx7kYGsCK6uxSxj6fy4+LSaQZgOz3UZawwExWX9aAZgKUet2OqMDuVHm8PBmCZsS4CLCgo6pEBWEK3xxgGxIeWARg3XDIPxnjZZWAAxuimDGFcWDaaASxPd6UPS/hlpxnAovp9AKsE+54BLKU/hLBQeOwZwPzGUwRrRaeRAcyqzWG5vGMAc5mqCCsQVRMDmMFw8LAS3n5gAM+lbylWJb1pBvA0uo6wOlGtGcBT6DrEKoVPSIAB6GuI1QqvmgG8i75GWLXoPQkwgGuE1YuuDOCNuhibkHQM4A3GUmEjVDkygFfSlY8N8SvNAF6jS7AIPgc+8O5v23OAAVx9bJJ/ZQAvoAtsVqEZwL/0ITYs7BnAX+mTwqapk2YAf/ZIsHnpgwH8yc2DA/wbA/i9AxxxYAC/oXM4I9cM4GdjAockIwP40T2EU8I7A/he58MxfscAvrkqOEddGcAXNZxUM4BPbgpOUg0D+L9WwVGqZQAivQdneR0DGHw4zB9cD+AewGnBw+0AphCOCyenA8jgvMzlAE4gnN0NoFMgqM7VAKYABCCcHA2gBH1UuhlAi8+odTEAHeIzirSDAVzwFV3cC2D08BX5o3MBHEDfOboWwOSBvuNpxwI4g35wdisAHYB+EGinAmjxE2qcCiDHTyh3KYBJ4SekJocCaPALahwKYI9f0N6hAGL8gmJ3AtAKvyClnQlgwG/Q4EwAV/wGXZ0J4IzfoLMzARzwG3R0JoA9foP2zgRwhNN4B5hC/IJC7UwA0iuQHedDPvBMmCWO4lIAOgb9INZOBSB3D/QdbxC3ApAK9J1KXAtAdviKduJeAKOPz8gfHQxAGgX6SDXiYgByBn10FjcDkAwEIBNXA9ARCNHkagCcDfg/7y7uBiA3BnATlwPgyvBR3A5A7+C0nXY5AC4LxZp/Fz+GcFY4CgOQweMSoIsB8JMRXicM4KNGcQXAuQD42bBaXA6AewRP4nIAPCtyEAbwgwN/f3cC4KTwURjALw78/d0OQI78/d0OQE58/3c7ADny+nc7ADnx+nc7AKkVNk1dhQH8Vethw7xWGMA/DAE2KxiEAfzTGGOj4lEYwAtMO2zSbhIG8CK6xAaVWhjAS134aUC3A5AuwKYEvTgcAF8EdqMwgFfSR2zGUQsDeL3Gwyb4jbwFA5BHjA2IH8IA3kjvsXp7LQzg7doAqxa0Iu4GwEmhUgsDeK/Gx0oFjbwfA5AxxyrlkzCA57j6WB3/Js/CAGQqsTLlJAzgmfoEK5L0IgzgySofK+FV8nwMQKa9wgqo/SQMYB5DCuulgwgDmM01hNXCq8yJAYiuLU4grLUwgNlVAawUVLIEBiD64sM6/kULA1iKPluWgH/WIgxgQVMVwhphNYkwgKU1KayQNmICAxAZSgXDVDmIMABjxlMAg4LzKMIAzLplCkao7CbmMQCRsUqwuKQaRRiALe6nEAsKT3cRYQBW6Uofi/DLTkQYgIX6Y4KZJcdeRBiAtcY6U5iJyupRRBiA5XSzjxWeTMX7RosIA1iHqT2mHp7ES4/tJGvCAP5PD1UR4p3Couq1rBED+GjqqsMuwBsEu0PVTWIcA3iCqa8PWRwovIAK4uxQ95MYxgBmMA5Nfd7nuzSJwsD3PgahPD8IoyTd5ftz3QyjGMIADNDTpMVdDOC/7dKBDAAAAMAgf+t7fMUQAgiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiwJwACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAABGdwJVTp3O1sAAAAASUVORK5CYII=",D=a(217),E=Object(_.a)((function(e){return{map:{maxWidth:500,height:200,backgroundColor:"gray",color:"white",marginBottom:20,marginTop:10}}})),G=function(e){e.departure_lat,e.departure_lon,e.destination_lat,e.destination_lon;var t=E();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:t.map,children:"\u3053\u3053\u306bmap\u304c\u5165\u308b\u4e88\u5b9a"})})},T=a(233),z=a(218),M=a(182),W=a(122),Y=a.n(W),Q=Object(_.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3),textAlign:"center",position:"relative"},close:{color:"gray",position:"absolute",top:10,right:10}}})),L=function(e){var t=e.title,a=e.text,i=e.buttonText,c=e.onSubmit,r=e.handleClose,s=Q();return Object(n.jsxs)("div",{className:s.paper,children:[Object(n.jsx)("h3",{children:t}),Object(n.jsx)("p",{children:a}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",size:"large",onClick:c,children:i}),Object(n.jsx)(Y.a,{variant:"outlined",size:"large",onClick:r,className:s.close})]})},R=Object(_.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},button:{display:"block",margin:"0 auto",marginBottom:30}}})),V=function(e){var t=e.id,a=e.guest_id,c=e.myId,r=e.mynickname,s=(e.mypic,e.rikkouho_id),o=R(),d=Object(i.useState)(!1),l=Object(p.a)(d,2),u=l[0],m=l[1],j=function(){m(!1)},b="";s||(b=[]),s&&(b=s);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){m(!0)},className:o.button,children:"\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u306b\u7acb\u5019\u88dc\u3059\u308b"}),Object(n.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:u,onClose:j,closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(n.jsx)(M.a,{in:u,children:Object(n.jsx)(L,{title:"\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u7acb\u5019\u88dc",text:"\u3053\u306e\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u306b\u7acb\u5019\u88dc\u3057\u307e\u3059\u304b\uff1f",buttonText:"\u7acb\u5019\u88dc\u3059\u308b",handleClose:j,onSubmit:function(){b.push(c),C.collection("escorts").doc(t).update({rikkouho_id:b}),C.collection("notices").add({escort_id:t,user_id:a,icon:0,notice:"".concat(r,"\u3055\u3093\u304c\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u306b\u7acb\u5019\u88dc\u3057\u307e\u3057\u305f\u3002"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()}),m(!1)}})})})]})},P=Object(_.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},button:{display:"block",margin:"0 auto",marginBottom:30}}})),K=function(e){var t=e.id,a=e.guest_id,c=e.myId,r=e.mynickname,s=e.rikkouho_id,o=(e.mypic,P()),d=Object(i.useState)(!1),l=Object(p.a)(d,2),u=l[0],m=l[1],j=function(){m(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){m(!0)},className:o.button,children:"\u7acb\u5019\u88dc\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b"}),Object(n.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:u,onClose:j,closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(n.jsx)(M.a,{in:u,children:Object(n.jsx)(L,{title:"\u7acb\u5019\u88dc\u30ad\u30e3\u30f3\u30bb\u30eb",text:"\u3053\u306e\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u3078\u306e\u7acb\u5019\u88dc\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3059\u304b\uff1f",buttonText:"\u30ad\u30e3\u30f3\u30bb\u30eb\u3059\u308b",handleClose:j,onSubmit:function(){var e=s.indexOf(c);s.splice(e,1),C.collection("escorts").doc(t).update({rikkouho_id:s}),C.collection("notices").add({escort_id:t,user_id:a,icon:1,notice:"".concat(r,"\u3055\u3093\u304c\u7acb\u5019\u88dc\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3057\u305f\u3002"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()}),m(!1),m(!1)}})})})]})},q=Object(_.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},button:{display:"block",margin:"0 auto",marginBottom:30}}})),U=function(e){var t=e.id,a=e.guest_id,c=(e.myId,e.mynickname),r=(e.mypic,q()),s=Object(i.useState)(!1),o=Object(p.a)(s,2),d=o[0],l=o[1],u=function(){l(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){l(!0)},className:r.button,children:"\u51fa\u767a\u5730\u70b9\u3078\u306e\u5230\u7740\u3092\u5831\u544a\u3059\u308b"}),Object(n.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:r.modal,open:d,onClose:u,closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(n.jsx)(M.a,{in:d,children:Object(n.jsx)(L,{title:"\u5230\u7740\u5831\u544a",text:"\u51fa\u767a\u5730\u70b9\u3078\u306e\u5230\u7740\u3092\u30b2\u30b9\u30c8\u306b\u5831\u544a\u3057\u307e\u3059\u304b\uff1f",buttonText:"\u5831\u544a\u3059\u308b",handleClose:u,onSubmit:function(){C.collection("escorts").doc(t).update({status_2:"\u5230\u7740"}),C.collection("notices").add({escort_id:t,user_id:a,icon:2,notice:"".concat(c,"\u3055\u3093\u304c\u51fa\u767a\u5730\u70b9\u306b\u5230\u7740\u3057\u307e\u3057\u305f\u3002"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()}),l(!1)}})})})]})},H=Object(_.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},button:{display:"block",margin:"0 auto",marginBottom:30}}})),J=function(e){var t=e.id,a=e.guest_id,c=(e.myId,e.mynickname),r=(e.mypic,H()),s=Object(i.useState)(!1),o=Object(p.a)(s,2),d=o[0],l=o[1],u=function(){l(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){l(!0)},className:r.button,children:"\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u306e\u5b8c\u4e86\u3092\u5831\u544a\u3059\u308b"}),Object(n.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:r.modal,open:d,onClose:u,closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(n.jsx)(M.a,{in:d,children:Object(n.jsx)(L,{title:"\u5b8c\u4e86\u5831\u544a",text:"\u3053\u306e\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u306e\u5b8c\u4e86\u3092\u30b2\u30b9\u30c8\u306b\u5831\u544a\u3057\u307e\u3059\u304b\uff1f",buttonText:"\u5831\u544a\u3059\u308b",handleClose:u,onSubmit:function(){C.collection("escorts").doc(t).update({status_2:"\u5b8c\u4e86\u5831\u544a"}),C.collection("notices").add({escort_id:t,user_id:a,icon:3,notice:"".concat(c,"\u3055\u3093\u304c\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u3092\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()}),l(!1)}})})})]})},Z=Object(_.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",maxWidth:500,position:"relative"},button:{boxShadow:"none",pointerEvents:"none",position:"absolute",top:0,right:5},image:{width:"6rem",height:"6rem"},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"},guestList:{display:"flex"},guestInfo:{paddingLeft:"10px"},guest:{paddingTop:10,paddingBottom:10},button2:{marginLeft:10},margin:{marginBottom:70}}})),X=Object(o.f)((function(e){var t=e.id,a=e.picture,i=e.nickname,c=e.guest_id,r=e.rikkouho_id,s=e.es_date,o=e.start_time,d=e.departure,l=e.departure_lat,u=e.departure_lon,m=e.destination,j=e.destination_lat,b=e.destination_lon,p=e.number,h=e.lan_1,O=e.lan_2,x=e.lan_3,_=e.status,y=e.status_2,f=e.emergency,v=e.history,k=e.myId,A=e.mynickname,I=e.mypic,C=Z(),N="";return r&&(N=r.includes(k)),r||(N=!1),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:C.margin}),Object(n.jsxs)("div",{className:C.box,children:[Object(n.jsxs)(g.a,{variant:"h6",className:C.title,children:[i,"\u3055\u3093\u306e\u30ea\u30af\u30a8\u30b9\u30c8"]}),"\u52df\u96c6\u4e2d"===_?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:C.button,size:"large",children:_})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:C.button,size:"large",children:_})}),Object(n.jsxs)(g.a,{variant:"subtitle2",display:"block",children:["\u25a0\u65e5\u6642\uff1a",1===f?"\u4eca\u3059\u3050":"".concat(s," ").concat(o,"\uff5e")]}),Object(n.jsx)(g.a,{variant:"subtitle2",display:"block",children:"\uff1c\u30b3\u30fc\u30b9\uff1e"}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u51fa\u767a\u5730\uff1a",d]}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u76ee\u7684\u5730\uff1a",m]}),Object(n.jsx)(G,{departure_lat:l,departure_lon:u,destination_lat:j,destination_lon:b}),Object(n.jsxs)("div",{className:C.guest,children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\uff1c\u30b2\u30b9\u30c8\u60c5\u5831\uff1e"}),Object(n.jsxs)("div",{className:C.guestList,children:[Object(n.jsx)("div",{children:a?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:C.image,children:Object(n.jsx)("img",{src:a,alt:"".concat(i,"\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"),className:C.img})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:C.image,children:Object(n.jsx)("img",{src:F,alt:"\u753b\u50cf\u306f\u3042\u308a\u307e\u305b\u3093",className:C.img})})})}),Object(n.jsxs)("div",{className:C.guestInfo,children:[Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\uff1a",i]}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u8a00\u8a9e\uff1a",h,O&&"\u3001".concat(O),x&&"\u3001".concat(x)]}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u4eba\u6570\uff1a",p,"\u4eba"]}),Object(n.jsx)(D.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){v.push({pathname:"/volunteer/guestprofile",state:{guestId:c}})},children:"\u7d39\u4ecb\u30da\u30fc\u30b8"}),"\u52df\u96c6\u4e2d"===_&&Object(n.jsx)(D.a,{variant:"contained",color:"primary",size:"small",onClick:function(){v.push({pathname:"/forum",state:{escortId:t,myId:k}})},className:C.button2,children:"\u63b2\u793a\u677f"}),"\u6210\u7acb\u6e08"===_&&Object(n.jsx)(D.a,{variant:"contained",color:"primary",size:"small",onClick:function(){v.push({pathname:"/chat",state:{escortId:t,myId:k}})},className:C.button2,children:"\u30c1\u30e3\u30c3\u30c8"})]})]})]}),"\u52df\u96c6\u4e2d"===_&&!1===N&&Object(n.jsx)(V,{id:t,guest_id:c,myId:k,mynickname:A,mypic:I,rikkouho_id:r}),"\u52df\u96c6\u4e2d"===_&&!0===N&&Object(n.jsx)(K,{id:t,guest_id:c,myId:k,mynickname:A,mypic:I,rikkouho_id:r}),"\u6210\u7acb\u6e08"===_&&"\u5f85\u6a5f\u4e2d"===y&&Object(n.jsx)(U,{id:t,guest_id:c,myId:k,mynickname:A,mypic:I}),"\u6210\u7acb\u6e08"===_&&"\u5230\u7740"===y&&Object(n.jsx)(J,{id:t,guest_id:c,myId:k,mynickname:A,mypic:I})]})]})})),$=function(e){var t=e.location.state.escortId,a=e.location.state.myId,c=e.location.state.mynickname,r=e.location.state.mypic,s=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",picture:"",nickname:""}]),o=Object(p.a)(s,2),d=o[0],l=o[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").doc(t).onSnapshot((function(e){return l({id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,picture:e.data().guest_pic,nickname:e.data().guest_nickname})}));return function(){e()}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u8a73\u7d30",history:e.history}),Object(n.jsx)(X,{id:d.id,picture:d.picture,nickname:d.nickname,rikkouho_id:d.rikkouho_id,guest_id:d.guest_id,volunteer_id:d.volunteer_id,es_date:d.es_date,start_time:d.start_time,departure:d.departure,departure_lat:d.departure_lat,departure_lon:d.departure_lon,destination:d.destination,destination_lat:d.destination_lat,destination_lon:d.destination_lon,number:d.number,lan_1:d.lan_1,lan_2:d.lan_2,lan_3:d.lan_3,status:d.status,status_2:d.status_2,emergency:d.emergency,history:e.history,myId:a,mynickname:c,mypic:r},d.id)]})},ee=a(9),te=a(38),ae=a(232),ne=a(227),ie=a(94),ce=a.n(ie),re=a(95),se=a.n(re),oe=a(96),de=a.n(oe),le=(a(51),a(219)),ue=a(237),me=a(220),je=a(234),be=a(238),pe=a(240),he=a(235),Oe=a(224),xe=Object(_.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",maxWidth:500,position:"relative"},margin:{marginBottom:70},area:{marginBottom:20},input:{display:"block",minWidth:150},select:{paddingLeft:30,minWidth:150},labelarea:{backgroundColor:"#f5f5f5",width:"100%",lineHeight:"40px"},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}})),ge=function(e){var t=e.myId,a=e.mynickname,c=e.mypic,r=e.history,s=xe(),o=Object(i.useState)(""),d=Object(p.a)(o,2),l=d[0],u=d[1],m=Object(i.useState)(""),j=Object(p.a)(m,2),b=j[0],h=j[1],O=Object(i.useState)(""),x=Object(p.a)(O,2),_=x[0],y=x[1],f=Object(i.useState)(""),v=Object(p.a)(f,2),k=v[0],A=v[1],N=Object(i.useState)(!1),w=Object(p.a)(N,2),B=w[0],F=w[1],E=Object(i.useState)(""),G=Object(p.a)(E,2),W=G[0],Y=G[1],Q=Object(i.useState)(""),R=Object(p.a)(Q,2),V=R[0],P=R[1],K=Object(i.useState)(""),q=Object(p.a)(K,2),U=q[0],H=q[1],J=Object(i.useState)(""),Z=Object(p.a)(J,2),X=Z[0],$=Z[1],ee=Object(i.useState)(""),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],ie=Object(i.useState)(""),ce=Object(p.a)(ie,2),re=ce[0],se=ce[1],oe=Object(i.useState)(!1),de=Object(p.a)(oe,2),ge=de[0],_e=de[1],ye=Object(i.useState)([{id:""}]),fe=Object(p.a)(ye,2),ve=fe[0],ke=fe[1];Object(i.useEffect)((function(){var e=C.collection("users").where("user_flg","==","1").onSnapshot((function(e){return ke(e.docs.map((function(e){return{id:e.id}})))}));return function(){e()}}),[]);var Ae=function(){_e(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u30ea\u30af\u30a8\u30b9\u30c8",history:r}),Object(n.jsx)("div",{className:s.margin}),Object(n.jsx)("div",{className:s.box,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_e(!0)},children:[Object(n.jsxs)("div",{className:s.area,children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",className:s.labelarea,children:"\u65e5\u6642"}),Object(n.jsx)(le.a,{component:"fieldset",className:s.input,children:Object(n.jsxs)(ue.a,{"aria-label":"time",name:"time",value:l,onChange:function(e){u(e.target.value),"\u4eca\u3059\u3050"===e.target.value&&F(!0),"\u4eca\u3059\u3050"!==e.target.value&&F(!1)},children:[Object(n.jsx)(me.a,{value:"\u4eca\u3059\u3050",control:Object(n.jsx)(je.a,{color:"primary"}),label:"\u4eca\u3059\u3050\u30ea\u30af\u30a8\u30b9\u30c8"}),Object(n.jsx)(me.a,{value:"\u305d\u306e\u4ed6",control:Object(n.jsx)(je.a,{color:"primary"}),label:"\u51fa\u767a\u65e5\u6642\u3092\u6307\u5b9a\u3057\u3066\u30ea\u30af\u30a8\u30b9\u30c8"})]})}),Object(n.jsxs)(le.a,{component:"fieldset",className:s.select,children:[Object(n.jsx)(be.a,{type:"date",label:"\u65e5\u7a0b",value:b,onChange:function(e){var t=e.target.value.replace(/-/g,"/");h(e.target.value),y(t)},required:!0,margin:"normal",InputLabelProps:{shrink:!0},disabled:B}),Object(n.jsx)(be.a,{type:"time",label:"\u6642\u9593",value:k,required:!0,margin:"normal",onChange:function(e){return A(e.target.value)},InputLabelProps:{shrink:!0},inputProps:{step:300},disabled:B})]})]}),Object(n.jsxs)("div",{className:s.area,children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",className:s.labelarea,children:"\u57fa\u672c\u60c5\u5831"}),Object(n.jsx)(le.a,{component:"fieldset",className:s.input,children:Object(n.jsx)(be.a,{label:"\u4eba\u6570",type:"number",required:!0,value:W,onChange:function(e){return Y(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsxs)(le.a,{component:"fieldset",className:s.input,children:[Object(n.jsx)(pe.a,{shrink:!0,id:"language",required:!0,children:"\u8a00\u8a9e1"}),Object(n.jsxs)(he.a,{labelId:"language1",id:"language1",value:V,onChange:function(e){return P(e.target.value)},displayEmpty:!0,children:[Object(n.jsx)(Oe.a,{value:"",children:Object(n.jsx)("em",{children:"\u4f7f\u3048\u308b\u8a00\u8a9e\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})}),Object(n.jsx)(Oe.a,{value:"\u82f1\u8a9e",children:"\u82f1\u8a9e"}),Object(n.jsx)(Oe.a,{value:"\u4e2d\u56fd\u8a9e",children:"\u4e2d\u56fd\u8a9e"}),Object(n.jsx)(Oe.a,{value:"\u30d5\u30e9\u30f3\u30b9\u8a9e",children:"\u30d5\u30e9\u30f3\u30b9\u8a9e"})]})]}),Object(n.jsxs)(le.a,{component:"fieldset",className:s.input,children:[Object(n.jsx)(pe.a,{shrink:!0,id:"language2",children:"\u8a00\u8a9e2"}),Object(n.jsxs)(he.a,{labelId:"language2",id:"language2",value:U,onChange:function(e){return H(e.target.value)},displayEmpty:!0,children:[Object(n.jsx)(Oe.a,{value:"",children:Object(n.jsx)("em",{children:"\u4f7f\u3048\u308b\u8a00\u8a9e\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})}),Object(n.jsx)(Oe.a,{value:"\u82f1\u8a9e",children:"\u82f1\u8a9e"}),Object(n.jsx)(Oe.a,{value:"\u4e2d\u56fd\u8a9e",children:"\u4e2d\u56fd\u8a9e"}),Object(n.jsx)(Oe.a,{value:"\u30d5\u30e9\u30f3\u30b9\u8a9e",children:"\u30d5\u30e9\u30f3\u30b9\u8a9e"})]})]}),Object(n.jsxs)(le.a,{component:"fieldset",className:s.input,children:[Object(n.jsx)(pe.a,{shrink:!0,id:"language3",children:"\u8a00\u8a9e3"}),Object(n.jsxs)(he.a,{labelId:"language3",id:"language3",value:X,onChange:function(e){return $(e.target.value)},displayEmpty:!0,children:[Object(n.jsx)(Oe.a,{value:"",children:Object(n.jsx)("em",{children:"\u4f7f\u3048\u308b\u8a00\u8a9e\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})}),Object(n.jsx)(Oe.a,{value:"\u82f1\u8a9e",children:"\u82f1\u8a9e"}),Object(n.jsx)(Oe.a,{value:"\u4e2d\u56fd\u8a9e",children:"\u4e2d\u56fd\u8a9e"}),Object(n.jsx)(Oe.a,{value:"\u30d5\u30e9\u30f3\u30b9\u8a9e",children:"\u30d5\u30e9\u30f3\u30b9\u8a9e"})]})]})]}),Object(n.jsxs)("div",{className:s.area,children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",className:s.labelarea,children:"\u51fa\u767a\u5730\u70b9"}),Object(n.jsx)(le.a,{component:"fieldset",children:Object(n.jsx)(be.a,{label:"\u51fa\u767a\u5730\u70b9",value:ae,onChange:function(e){return ne(e.target.value)},required:!0,InputLabelProps:{shrink:!0}})})]}),Object(n.jsxs)("div",{className:s.area,children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",className:s.labelarea,children:"\u76ee\u7684\u5730"}),Object(n.jsx)(be.a,{label:"\u76ee\u7684\u5730",value:re,onChange:function(e){return se(e.target.value)},required:!0,InputLabelProps:{shrink:!0}})]}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:s.button,type:"submit",children:"\u30ea\u30af\u30a8\u30b9\u30c8\u9001\u4fe1"})]})}),Object(n.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:s.modal,open:ge,onClose:Ae,closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(n.jsx)(M.a,{in:ge,children:Object(n.jsx)(L,{title:"\u30ea\u30af\u30a8\u30b9\u30c8\u78ba\u8a8d",text:"\u3053\u306e\u5185\u5bb9\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3057\u307e\u3059\u304b\uff1f",buttonText:"\u30ea\u30af\u30a8\u30b9\u30c8\u3059\u308b",handleClose:Ae,onSubmit:function(){var e=C.collection("escorts").doc().id;"\u4eca\u3059\u3050"===l&&(C.collection("escorts").doc(e).set({guest_id:t,es_date:l,departure:ae,destination:re,number:W,lan_1:V,lan_2:U,lan_3:X,status:"\u52df\u96c6\u4e2d",emergency:1,guest_nickname:a,guest_pic:c,created_at:I.a.firestore.FieldValue.serverTimestamp()}),ve.map((function(t){return C.collection("notices").add({escort_id:e,user_id:t.id,icon:4,notice:"".concat(a,"\u3055\u3093\u304c\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51fa\u3057\u307e\u3057\u305f\uff01"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()})}))),"\u305d\u306e\u4ed6"===l&&C.collection("escorts").doc(e).set({guest_id:t,es_date:_,start_time:k,departure:ae,destination:re,number:W,lan_1:V,lan_2:U,lan_3:X,status:"\u52df\u96c6\u4e2d",emergency:0,guest_nickname:a,guest_pic:c,created_at:I.a.firestore.FieldValue.serverTimestamp()}),u(""),h(""),y(""),A(""),Y(""),se(""),ne(""),P(""),H(""),$(""),F(!1),_e(!1),r.push({pathname:"/guest/detail",state:{escortId:e,myId:t,mynickname:a,mypic:c}})}})})})]})},_e=a(57),ye=a.n(_e),fe=a(45),ve=a(231),ke=a(181),Ae=a(183),Ie=a(225),Ce=a(241),Ne=a(226),we=Object(_.a)((function(e){return{root:{flexGrow:1,marginBottom:8},paper:{padding:e.spacing(1),margin:"auto",maxWidth:500},large:{width:e.spacing(8),height:e.spacing(8)},avatar:{paddingRight:"10px"},list:{flexDirection:"column",padding:"0 0 0 0"},list2:{padding:"0 0 0 0",position:"relative",marginBottom:"0"},button:{boxShadow:"none",position:"absolute",right:"0",bottom:"0",pointerEvents:"none"},image:{width:"5rem",height:"5rem"},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"},rikkouho:{marginBottom:35}}})),Be=Object(o.f)((function(e){var t=e.myId,a=e.mynickname,i=e.mypic,c=e.history,r=e.id,s=e.picture,o=e.nickname,d=e.es_date,l=e.start_time,u=e.departure,m=e.destination,j=e.number,b=e.lan_1,p=e.lan_2,h=e.lan_3,O=e.status,x=e.status_2,_=e.rikkouho_id,y=e.emergency,f=we();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:f.root,children:Object(n.jsx)(ke.a,{className:f.paper,children:Object(n.jsxs)(Ae.a,{button:!0,className:f.list,onClick:function(){c.push({pathname:"/guest/detail",state:{escortId:r,myId:t,mynickname:a,mypic:i}})},children:["\u6210\u7acb\u6e08"===O&&Object(n.jsxs)(Ae.a,{className:f.list2,children:[Object(n.jsx)(Ie.a,{className:f.avatar,children:s?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ce.a,{variant:"rounded",src:s,alt:"".concat(o,"\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"),className:f.large})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ce.a,{variant:"rounded",src:F,alt:"\u753b\u50cf\u306f\u3042\u308a\u307e\u305b\u3093",className:f.large})})}),Object(n.jsx)(Ne.a,{className:f.text,primary:"\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\uff1a".concat(o,"\u3055\u3093"),secondary:Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u65e5\u6642\uff1a",1===y?"\u4eca\u3059\u3050":"".concat(d," ").concat(l,"\uff5e")]})})})]}),Object(n.jsxs)(Ae.a,{className:f.list2,children:[Object(n.jsx)(Ne.a,{secondary:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u65e5\u6642\uff1a",1===y?"\u4eca\u3059\u3050":"".concat(d," ").concat(l,"\uff5e")]}),Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u51fa\u767a\u5730\uff1a",u]}),Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u76ee\u7684\u5730\uff1a",m]}),Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u8a00\u8a9e\uff1a",b,p&&"\u3001".concat(p),h&&"\u3001".concat(h)]}),Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u4eba\u6570\uff1a",j,"\u4eba"]})]})}),"\u52df\u96c6\u4e2d"===O&&Object(n.jsxs)("div",{children:[Object(n.jsx)(g.a,{component:"span",variant:"caption",display:"block",align:"center",children:"\u7acb\u5019\u88dc"}),Object(n.jsxs)(Ce.a,{variant:"rounded",className:f.rikkouho,children:[_&&_.length,!_&&0]})]})]}),"\u52df\u96c6\u4e2d"===O&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:f.button,size:"small",children:O})}),"\u6210\u7acb\u6e08"===O&&"\u5b8c\u4e86"===x&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:f.button,size:"small",children:x})}),"\u6210\u7acb\u6e08"===O&&"\u5f85\u6a5f\u4e2d"===x&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:f.button,size:"small",children:x})}),"\u6210\u7acb\u6e08"===O&&"\u5230\u7740"===x&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"secondary",className:f.button,size:"small",children:"\u9032\u884c\u4e2d"})}),"\u6210\u7acb\u6e08"===O&&"\u5b8c\u4e86\u5831\u544a"===x&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"secondary",className:f.button,size:"small",children:"\u9032\u884c\u4e2d"})})]})})},r)})})),Se=Object(_.a)((function(e){return{box:{paddingBottom:10}}})),Fe=function(e){var t=e.history,a=e.myId,c=e.mynickname,r=e.mypic,s=Se(),o=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",volunteer_nickname:"",volunteer_pic:""}]),d=Object(p.a)(o,2),l=d[0],u=d[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("guest_id","==",a).where("status","==","\u6210\u7acb\u6e08").where("status_2","in",["\u5f85\u6a5f\u4e2d","\u5230\u7740","\u5b8c\u4e86\u5831\u544a"]).orderBy("es_date","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,volunteer_nickname:e.data().volunteer_nickname,volunteer_pic:e.data().volunteer_pic}})))}));return function(){e()}}),[]),Object(n.jsx)("div",{className:s.box,children:l&&Object(n.jsx)(n.Fragment,{children:l.map((function(e){return Object(n.jsx)(Be,{id:e.id,volunteer_id:e.volunteer_id,picture:e.volunteer_pic,nickname:e.volunteer_nickname,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,number:e.number,rikkouho_id:e.rikkouho_id,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a,mynickname:c,mypic:r},e.id)}))})})},De=Object(_.a)((function(e){return{box:{paddingBottom:10}}})),Ee=function(e){var t=e.history,a=e.myId,c=e.mynickname,r=e.mypic,s=De(),o=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:""}]),d=Object(p.a)(o,2),l=d[0],u=d[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("guest_id","==",a).where("status","==","\u52df\u96c6\u4e2d").onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency}})))}));return function(){e()}}),[]),Object(n.jsx)("div",{className:s.box,children:l&&Object(n.jsx)(n.Fragment,{children:l.map((function(e){return Object(n.jsx)(Be,{id:e.id,picture:e.picture,nickname:e.nickname,es_date:e.es_date,start_time:e.start_time,departure:e.departure,destination:e.destination,number:e.number,rikkouho_id:e.rikkouho_id,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a,mynickname:c,mypic:r},e.id)}))})})},Ge=Object(_.a)((function(e){return{box:{paddingBottom:10}}})),Te=function(e){var t=e.history,a=e.myId,c=e.mynickname,r=e.mypic,s=Ge(),o=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",volunteer_nickname:"",volunteer_pic:""}]),d=Object(p.a)(o,2),l=d[0],u=d[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("guest_id","==",a).where("status_2","==","\u5b8c\u4e86").orderBy("es_date","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,volunteer_nickname:e.data().volunteer_nickname,volunteer_pic:e.data().volunteer_pic}})))}));return function(){e()}}),[]),Object(n.jsx)("div",{className:s.box,children:l&&Object(n.jsx)(n.Fragment,{children:l.map((function(e){return Object(n.jsx)(Be,{id:e.id,volunteer_id:e.volunteer_id,picture:e.volunteer_pic,nickname:e.volunteer_nickname,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,number:e.number,rikkouho_id:e.rikkouho_id,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a,mynickname:c,mypic:r},e.id)}))})})};function ze(e){var t=e.children,a=e.value,i=e.index,c=Object(te.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(ee.a)(Object(ee.a)({role:"tabpanel",hidden:a!==i,id:"full-width-tabpanel-".concat(i),"aria-labelledby":"full-width-tab-".concat(i)},c),{},{children:a===i&&Object(n.jsx)(n.Fragment,{children:t})}))}function Me(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var We=Object(_.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},tab:{bottom:"auto",top:55},margin:{top:55,marginBottom:120}}})),Ye=function(e){var t=e.myId,a=e.mynickname,c=e.mypic,r=e.history,s=We(),o=Object(fe.a)(),d=Object(i.useState)(0),l=Object(p.a)(d,2),u=l[0],m=l[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:s.margin}),Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(y.a,{position:"fixed",color:"default",className:s.tab,children:Object(n.jsxs)(ae.a,{value:u,onChange:function(e,t){m(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(n.jsx)(ne.a,Object(ee.a)({label:"\u6210\u7acb\u6e08"},Me(0))),Object(n.jsx)(ne.a,Object(ee.a)({label:"\u52df\u96c6\u4e2d"},Me(1))),Object(n.jsx)(ne.a,Object(ee.a)({label:"\u5c65\u6b74"},Me(2)))]})}),Object(n.jsxs)(ye.a,{axis:"rtl"===o.direction?"x-reverse":"x",index:u,onChangeIndex:function(e){m(e)},children:[Object(n.jsx)(ze,{value:u,index:0,dir:o.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(Fe,{myId:t,mynickname:a,mypic:c,history:r})})}),Object(n.jsx)(ze,{value:u,index:1,dir:o.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(Ee,{myId:t,mynickname:a,mypic:c,history:r})})}),Object(n.jsx)(ze,{value:u,index:2,dir:o.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(Te,{myId:t,mynickname:a,mypic:c,history:r})})})]})]})]})},Qe=function(e){var t=e.myId,a=e.mypic,i=e.mynickname,c=e.history;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u30de\u30a4\u30ea\u30b9\u30c8",history:c}),Object(n.jsx)(Ye,{myId:t,mynickname:i,mypic:a,history:c})]})},Le=a(223),Re=Object(_.a)((function(e){return{root:{width:"100%",maxWidth:"500px",backgroundColor:e.palette.background.paper,margin:"0 auto"}}})),Ve=function(e){e.myId,e.history;var t=Re();return Object(n.jsx)("div",{children:Object(n.jsx)(Le.a,{className:t.root,children:"\u5de5\u4e8b\u4e2d"})})},Pe=function(e){e.myId,e.history;return Object(n.jsx)("div",{children:"\u5de5\u4e8b\u4e2d"})};function Ke(e){var t=e.children,a=e.value,i=e.index,c=Object(te.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(ee.a)(Object(ee.a)({role:"tabpanel",hidden:a!==i,id:"full-width-tabpanel-".concat(i),"aria-labelledby":"full-width-tab-".concat(i)},c),{},{children:a===i&&Object(n.jsx)(n.Fragment,{children:t})}))}function qe(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Ue=Object(_.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},tab:{bottom:"auto",top:55},margin:{top:55,marginBottom:120}}})),He=function(e){var t=e.myId,a=e.history,c=Ue(),r=Object(fe.a)(),s=Object(i.useState)(0),o=Object(p.a)(s,2),d=o[0],l=o[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:c.margin}),Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsx)(y.a,{position:"fixed",color:"default",className:c.tab,children:Object(n.jsxs)(ae.a,{value:d,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(n.jsx)(ne.a,Object(ee.a)({label:"\u500b\u5225\u30c1\u30e3\u30c3\u30c8"},qe(0))),Object(n.jsx)(ne.a,Object(ee.a)({label:"\u63b2\u793a\u677f"},qe(1)))]})}),Object(n.jsxs)(ye.a,{axis:"rtl"===r.direction?"x-reverse":"x",index:d,onChangeIndex:function(e){l(e)},children:[Object(n.jsx)(Ke,{value:d,index:0,dir:r.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(Ve,{myId:t,history:a})})}),Object(n.jsx)(Ke,{value:d,index:1,dir:r.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(Pe,{myId:t,history:a})})})]})]})]})},Je=function(e){var t=e.myId,a=e.history;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u30c1\u30e3\u30c3\u30c8",history:a}),Object(n.jsx)(He,{myId:t,history:a})]})},Ze=a(228),Xe=a(89),$e=a.n(Xe),et=a(90),tt=a.n(et),at=a(88),nt=a.n(at),it=a(87),ct=a.n(it),rt=a(98),st=a(97),ot=Object(_.a)((function(e){return{green:{color:"#fff",backgroundColor:rt.a[500]},blue:{color:"#fff",backgroundColor:st.a[500]},red:{color:"#fff",backgroundColor:"#f44336"},yellow:{color:"#fff",backgroundColor:"#ffc400"},black:{color:"#fff",backgroundColor:"black"}}})),dt=Object(o.f)((function(e){var t=e.id,a=e.escort_id,i=e.notice,c=e.date,r=e.already_read,s=e.icon,o=e.history,d=e.myId,l=e.mypic,u=e.mynickname,m=ot();return Object(n.jsxs)("div",{className:r,children:[Object(n.jsxs)(Ae.a,{alignItems:"center",button:!0,onClick:function(){C.collection("notices").doc(t).update({already_read:1}),o.push({pathname:"/guest/detail",state:{escortId:a,myId:d,mypic:l,mynickname:u}})},children:[0===s&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.red,children:Object(n.jsx)(ct.a,{})})}),1===s&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.black,children:Object(n.jsx)(nt.a,{})})}),2===s&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.green,children:Object(n.jsx)($e.a,{})})}),3===s&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.yellow,children:Object(n.jsx)(tt.a,{})})}),Object(n.jsx)(Ne.a,{primary:i,secondary:c})]}),Object(n.jsx)(Ze.a,{component:"li"})]},t)})),lt=Object(_.a)((function(e){return{root:{width:"100%",maxWidth:"500px",backgroundColor:e.palette.background.paper,margin:"0 auto"},margin:{marginBottom:60}}})),ut=function(e){var t=e.myId,a=e.mypic,c=e.mynickname,r=e.history,s=lt(),o=Object(i.useState)([{id:"",escort_id:"",user_id:"",icon:"",notice:"",already_read:"",created_at:null}]),d=Object(p.a)(o,2),l=d[0],u=d[1];return Object(i.useEffect)((function(){var e=C.collection("notices").where("user_id","==",t).orderBy("created_at","desc").onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,escort_id:e.data().escort_id,user_id:e.data().user_id,icon:e.data().icon,notice:e.data().notice,already_read:e.data().already_read,created_at:e.data().created_at}})))}));return function(){e()}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u304a\u77e5\u3089\u305b",history:r}),Object(n.jsx)("div",{className:s.margin}),Object(n.jsx)(Le.a,{className:s.root,children:l&&l.map((function(e){return Object(n.jsx)(dt,{id:e.id,escort_id:e.escort_id,notice:e.notice,date:e.date,already_read:0===e.already_read?"colored":"",icon:e.icon,history:r,myId:t,mypic:a,mynickname:c},e.id)}))})]})},mt=a(91),jt=a.n(mt),bt=Object(_.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",maxWidth:500,position:"relative"},revise:{position:"absolute",top:7,right:5},image:{width:"8rem",height:"8rem",marginBottom:"10px",backgroundImage:"url(".concat(F,")"),backgroundSize:"cover",cursor:"pointer",position:"relative",verticalAlign:"middle",textAlign:"center",display:"table-cell","&:hover":{backgroundColor:"rgba(128,128,128,0.3)"}},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"},inputFile:{display:"none"},imgIcon:{position:"absolute",left:50,top:52,color:"white"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},margin:{marginBottom:70},reviewarea:{backgroundColor:"#f5f5f5",width:"100%"},update:{textAlign:"right"},account:{minWidth:300},description:{minWidth:"100%"}}})),pt=function(e){var t=e.id,a=e.user_id,c=e.nickname,r=e.picture,s=e.account,o=e.description,d=e.updated_at,l=e.created_at,u=bt(),m=Object(i.useState)([{id:""}]),j=Object(p.a)(m,2),b=j[0],h=j[1];Object(i.useEffect)((function(){var e=C.collection("escorts").where("guest_id","==",a).onSnapshot((function(e){return h(e.docs.map((function(e){return{id:e.id}})))}));return function(){e()}}),[]);var _=Object(i.useState)(null),y=Object(p.a)(_,2),f=y[0],v=y[1],k=Object(i.useState)(c),A=Object(p.a)(k,2),N=A[0],B=A[1],S=Object(i.useState)(s),F=Object(p.a)(S,2),E=F[0],G=F[1],T=Object(i.useState)(o),z=Object(p.a)(T,2),M=z[0],W=z[1],Y=Object(i.useState)(!0),Q=Object(p.a)(Y,2),L=Q[0],R=Q[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:u.margin}),Object(n.jsxs)("div",{className:u.box,children:[!0===L&&Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:u.revise,onClick:function(){R(!1)},children:"\u4fee\u6b63\u3059\u308b"}),!1===L&&Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:u.revise,onClick:function(){R(!0),v(null),B(c),G(s),W(o)},children:"\u4e2d\u65ad\u3057\u3066\u5143\u306b\u623b\u3059"}),Object(n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),E||G(" "),M||W(" "),f){var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=Array.from(crypto.getRandomValues(new Uint32Array(16))).map((function(e){return a[e%a.length]})).join("")+"_"+f.name;w.ref("pictures/".concat(n)).put(f).on(I.a.storage.TaskEvent.STATE_CHANGED,(function(){}),(function(e){alert(e.message)}),Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.ref("pictures").child(n).getDownloadURL().then(function(){var e=Object(x.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.collection("profiles").doc(t).update({nickname:N,description:M,picture:a,account:E,updated_at:I.a.firestore.FieldValue.serverTimestamp()});case 2:b.map((function(e){return C.collection("escorts").doc(e.id).update({guest_nickname:N,guest_pic:a})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))))}else C.collection("profiles").doc(t).update({nickname:N,description:M,account:E,updated_at:I.a.firestore.FieldValue.serverTimestamp()}),b.map((function(e){return C.collection("escorts").doc(e.id).update({guest_nickname:N})}));R(!0),v(null),B(N),G(E),W(M)},children:[Object(n.jsx)("label",{children:Object(n.jsxs)("div",{className:u.image,children:[f&&Object(n.jsx)("img",{id:"thumbnail",src:"",alt:"\u9078\u629e\u4e2d\u306e\u753b\u50cf",className:u.img}),!f&&r&&Object(n.jsx)("img",{id:"thumbnail",src:r,alt:"\u9078\u629e\u4e2d\u306e\u753b\u50cf",className:u.img}),!1===L&&Object(n.jsx)(jt.a,{className:u.imgIcon}),Object(n.jsx)("input",{type:"file",onChange:function(e){if(e.target.files[0]){v(e.target.files[0]);var t=new FileReader;t.onload=function(e){document.getElementById("thumbnail").setAttribute("src",e.target.result)},t.readAsDataURL(e.target.files[0])}e.target.value=""},className:u.inputFile,disabled:L})]})}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u30cb\u30c3\u30af\u30cd\u30fc\u30e0"}),Object(n.jsx)(le.a,{children:Object(n.jsx)(be.a,{value:N,onChange:function(e){return B(e.target.value)},disabled:L,required:!0})}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0SNS\u30a2\u30ab\u30a6\u30f3\u30c8"}),Object(n.jsx)(le.a,{className:u.account,children:Object(n.jsx)(be.a,{value:E,onChange:function(e){return G(e.target.value)},disabled:L})}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u305d\u306e\u4ed6\uff08\u81ea\u7531\u8a18\u8ff0\uff09"}),Object(n.jsx)(le.a,{className:u.description,children:Object(n.jsx)(be.a,{value:M,multiline:!0,rows:5,variant:"outlined",margin:"normal",onChange:function(e){return W(e.target.value)},disabled:L})}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",className:u.update,children:[d&&Object(n.jsxs)(n.Fragment,{children:["\u66f4\u65b0\u65e5\uff1a",new Date(null===d||void 0===d?void 0:d.toDate()).toLocaleString()]}),!d&&Object(n.jsxs)(n.Fragment,{children:["\u4f5c\u6210\u65e5\uff1a",new Date(null===l||void 0===l?void 0:l.toDate()).toLocaleString()]})]}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",disabled:L,type:"submit",children:"\u4fee\u6b63\u767b\u9332"})]})]})]},t)},ht=function(e){var t=e.myId,a=e.history,c=Object(i.useState)([{id:"",user_id:"",nickname:"",user_flg:"",picture:"",description:"",account:"",created_at:null,updated_at:null}]),r=Object(p.a)(c,2),s=r[0],o=r[1];return Object(i.useEffect)((function(){var e=C.collection("profiles").where("user_id","==",t).onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,user_id:e.data().user_id,nickname:e.data().nickname,user_flg:e.data().user_flg,picture:e.data().picture,description:e.data().description,account:e.data().account,created_at:e.data().created_at,updated_at:e.data().updated_at}})))}));return function(){e()}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u81ea\u5df1\u7d39\u4ecb",history:a}),s.map((function(e){return Object(n.jsx)(pt,{id:e.id,nickname:e.nickname,picture:e.picture,account:e.account,description:e.description,updated_at:e.updated_at,created_at:e.created_at,user_id:e.user_id},e.id)}))]})},Ot=a(229),xt=a(92),gt=a.n(xt),_t=function(e){e.myId;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ot.a,{variant:"dot",color:"secondary",invisible:!0,children:Object(n.jsx)(gt.a,{})})})},yt=a(93),ft=a.n(yt),vt=function(e){e.myId;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ot.a,{variant:"dot",color:"secondary",invisible:!0,children:Object(n.jsx)(ft.a,{})})})};function kt(e){var t=e.children,a=e.value,i=e.index,c=Object(te.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(ee.a)(Object(ee.a)({role:"tabpanel",hidden:a!==i,id:"scrollable-prevent-tabpanel-".concat(i),"aria-labelledby":"scrollable-prevent-tab-".concat(i)},c),{},{children:a===i&&Object(n.jsx)(n.Fragment,{children:t})}))}function At(e){return{id:"scrollable-prevent-tab-".concat(e),"aria-controls":"scrollable-prevent-tabpanel-".concat(e)}}var It=Object(_.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0,paddingTop:"10px"},label:{fontSize:"8px",marginTop:"0px"},tab:{padding:"6px 9px"},icon:{marginBottom:"0px"},margin:{bottom:0,marginBottom:80}}})),Ct=function(e){var t=e.location.state.myId,a=It(),c=Object(i.useState)(0),r=Object(p.a)(c,2),s=r[0],o=r[1],d=Object(i.useState)([{id:"",nickname:"",picture:""}]),l=Object(p.a)(d,2),u=l[0],m=l[1];Object(i.useEffect)((function(){var e=C.collection("profiles").where("user_id","==",t).onSnapshot((function(e){return m(e.docs.map((function(e){return{id:e.id,nickname:e.data().nickname,picture:e.data().picture}})))}));return function(){e()}}),[]);return Object(n.jsxs)("div",{className:a.root,children:[Object(n.jsx)(kt,{value:s,index:0,children:Object(n.jsx)(ge,{myId:t,mynickname:u[0].nickname,mypic:u[0].picture,history:e.history})}),Object(n.jsx)(kt,{value:s,index:1,children:Object(n.jsx)(Qe,{myId:t,mynickname:u[0].nickname,mypic:u[0].picture,history:e.history})}),Object(n.jsx)(kt,{value:s,index:2,children:Object(n.jsx)(Je,{myId:t,mynickname:u[0].nickname,mypic:u[0].picture,history:e.history})}),Object(n.jsx)(kt,{value:s,index:3,children:Object(n.jsx)(ut,{myId:t,history:e.history,mynickname:u[0].nickname,mypic:u[0].picture})}),Object(n.jsx)(kt,{value:s,index:4,children:Object(n.jsx)(ht,{myId:t,history:e.history})}),Object(n.jsx)("div",{className:a.margin}),Object(n.jsx)(y.a,{position:"fixed",color:"inherit",className:a.appBar,children:Object(n.jsxs)(ae.a,{variant:"fullWidth",value:s,onChange:function(e,t){o(t)},textColor:"primary",children:[Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(ce.a,{}),label:Object(n.jsx)("p",{className:a.label,children:"\u30ea\u30af\u30a8\u30b9\u30c8"})},At(0)),{},{className:a.tab})),Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(se.a,{}),label:Object(n.jsx)("p",{className:a.label,children:"\u30de\u30a4\u30ea\u30b9\u30c8"})},At(1)),{},{className:a.tab})),Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(_t,{myId:t}),label:Object(n.jsx)("p",{className:a.label,children:"\u30c1\u30e3\u30c3\u30c8"})},At(2)),{},{className:a.tab})),Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(vt,{myId:t}),label:Object(n.jsx)("p",{className:a.label,children:"\u304a\u77e5\u3089\u305b"})},At(3)),{},{className:a.tab})),Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(de.a,{}),label:Object(n.jsx)("p",{className:a.label,children:"\u81ea\u5df1\u7d39\u4ecb"})},At(4)),{},{className:a.tab}))]})})]})},Nt=Object(_.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",maxWidth:500},image:{width:"8rem",height:"8rem",margin:"0 auto",marginBottom:"10px"},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},margin:{marginBottom:70},reviewarea:{backgroundColor:"#f5f5f5",width:"100%"}}})),wt=function(e){var t=e.nickname,a=e.picture,i=e.account,c=e.description,r=Nt();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:r.margin}),Object(n.jsxs)("div",{className:r.box,children:[a?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:r.image,children:Object(n.jsx)("img",{src:a,alt:"".concat(t,"\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"),className:r.img})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:r.image,children:Object(n.jsx)("img",{src:F,alt:"\u753b\u50cf\u306f\u3042\u308a\u307e\u305b\u3093",className:r.img})})}),Object(n.jsxs)(g.a,{variant:"subtitle1",display:"block",children:["\u25a0\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\uff1a",t]}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0SNS\u30a2\u30ab\u30a6\u30f3\u30c8\uff1a"}),Object(n.jsx)("a",{href:i,children:i}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u81ea\u5df1\u7d39\u4ecb\uff1a"}),c]})]})},Bt=function(e){var t=e.location.state.guestId,a=Object(i.useState)([{id:"",user_id:"",nickname:"",user_flg:"",picture:"",description:"",accout:"",created_at:null,updated_at:null}]),c=Object(p.a)(a,2),r=c[0],s=c[1];return Object(i.useEffect)((function(){var e=C.collection("profiles").where("user_id","==",t).onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,user_id:e.data().user_id,nickname:e.data().nickname,user_flg:e.data().user_flg,picture:e.data().picture,description:e.data().description,accout:e.data().accout,created_at:e.data().created_at,updated_at:e.data().updated_at}})))}));return function(){e()}}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(S,{title:"\u30b2\u30b9\u30c8\u306e\u81ea\u5df1\u7d39\u4ecb\u30da\u30fc\u30b8",history:e.history}),r.map((function(e){return Object(n.jsx)(wt,{nickname:e.nickname,picture:e.picture,account:e.account,description:e.description},e.id)}))]})},St=Object(_.a)((function(e){return{margin:{marginBottom:70}}})),Ft=function(e){var t=St(),a=e.location.state.escortId,i=e.location.state.myId;return console.log(a),console.log(i),Object(n.jsxs)("div",{children:[Object(n.jsx)(S,{title:"\u63b2\u793a\u677f",history:e.history}),Object(n.jsx)("div",{className:t.margin}),"\u3053\u3053\u306b\u63b2\u793a\u677f\u304c\u8868\u793a\u3055\u308c\u308b"]})},Dt=Object(_.a)((function(e){return{margin:{marginBottom:70}}})),Et=function(e){var t=Dt();return Object(n.jsxs)("div",{children:[Object(n.jsx)(S,{title:"\u500b\u5225\u30c1\u30e3\u30c3\u30c8",history:e.history}),Object(n.jsx)("div",{className:t.margin}),"\u3053\u3053\u306b\u30c1\u30e3\u30c3\u30c8\u304c\u5165\u308b"]})},Gt=Object(_.a)((function(e){return{title:{bottom:"auto",top:0,boxShadow:"none"},root:{flexGrow:1},text:{flexGrow:1}}})),Tt=function(e){var t=e.title,a=Gt();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:a.root,children:Object(n.jsx)(y.a,{position:"fixed",color:"primary",className:a.title,children:Object(n.jsx)(f.a,{children:Object(n.jsx)(g.a,{variant:"h6",className:a.text,children:t})})})})})},zt=Object(_.a)((function(e){return{margin:{marginBottom:150},button:{display:"block",margin:"0 auto",marginTop:20,marginBottom:10},text:{textAlign:"center"},input:{display:"block",width:260,margin:"0 auto",textAlign:"center"},link:{display:"block",width:65,margin:"0 auto",marginTop:20,textDecoration:"underline",cursor:"pointer"}}})),Mt=Object(o.f)((function(e){var t=zt(),a=Object(i.useState)(""),c=Object(p.a)(a,2),r=c[0],s=c[1],o=Object(i.useState)(""),d=Object(p.a)(o,2),l=d[0],u=d[1];Object(i.useEffect)((function(){var t=N.onAuthStateChanged((function(t){!t&&e.history.push("/")}));return function(){return t()}}),[e.history]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Tt,{title:"\u30ed\u30b0\u30a4\u30f3"}),Object(n.jsx)("div",{className:t.margin}),Object(n.jsx)(le.a,{component:"fieldset",className:t.input,children:Object(n.jsx)(be.a,{label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",type:"email",required:!0,value:r,onChange:function(e){return s(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsx)("br",{}),Object(n.jsx)(le.a,{component:"fieldset",className:t.input,children:Object(n.jsx)(be.a,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9",type:"password",required:!0,value:l,onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:t.button,onClick:Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.signInWithEmailAndPassword(r,l);case 3:e.history.push({pathname:"/userflg",state:{email:r}}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),children:"\u30ed\u30b0\u30a4\u30f3"}),Object(n.jsx)("p",{className:t.link,onClick:function(){e.history.push({pathname:"/register"})},children:"\u65b0\u898f\u767b\u9332"})]})})),Wt=Object(_.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",maxWidth:500,position:"relative"},margin:{marginBottom:70},area:{marginBottom:20},input:{display:"block",minWidth:150},modal:{display:"flex",alignItems:"center",justifyContent:"center"},button:{display:"block",margin:"0 auto",marginTop:10,marginBottom:10}}})),Yt=Object(o.f)((function(e){var t=Wt(),a=Object(i.useState)(""),c=Object(p.a)(a,2),r=c[0],s=c[1],o=Object(i.useState)(""),d=Object(p.a)(o,2),l=d[0],u=d[1],m=Object(i.useState)(""),j=Object(p.a)(m,2),b=j[0],h=j[1],g=Object(i.useState)(""),_=Object(p.a)(g,2),y=_[0],f=_[1],v=Object(i.useState)(""),k=Object(p.a)(v,2),A=k[0],w=k[1],B=Object(i.useState)(""),S=Object(p.a)(B,2),F=S[0],E=S[1],G=Object(i.useState)(!1),W=Object(p.a)(G,2),Y=W[0],Q=W[1],R=function(){Q(!1)},V=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.createUserWithEmailAndPassword(b,y);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)(Tt,{title:"\u65b0\u898f\u767b\u9332"}),Object(n.jsx)("div",{className:t.margin}),Object(n.jsx)("div",{className:t.box,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Q(!0)},children:[Object(n.jsxs)("div",{className:t.area,children:[Object(n.jsx)(le.a,{component:"fieldset",className:t.input,children:Object(n.jsx)(be.a,{label:"\u59d3",required:!0,value:r,onChange:function(e){return s(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsx)(le.a,{component:"fieldset",className:t.input,children:Object(n.jsx)(be.a,{label:"\u540d",required:!0,value:l,onChange:function(e){return u(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsx)(le.a,{component:"fieldset",className:t.input,children:Object(n.jsx)(be.a,{label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",type:"email",required:!0,value:b,onChange:function(e){return h(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsx)(le.a,{component:"fieldset",className:t.input,children:Object(n.jsx)(be.a,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9",type:"password",required:!0,value:y,onChange:function(e){return f(e.target.value)},InputLabelProps:{shrink:!0}})}),Object(n.jsxs)(le.a,{component:"fieldset",className:t.input,children:[Object(n.jsx)(pe.a,{shrink:!0,id:"userFlg",required:!0,children:"\u767b\u9332\u7a2e\u5225"}),Object(n.jsxs)(he.a,{labelId:"userFlg",id:"userFlg",value:A,onChange:function(e){return w(e.target.value)},displayEmpty:!0,children:[Object(n.jsx)(Oe.a,{value:"",children:Object(n.jsx)("em",{children:"\u30b2\u30b9\u30c8/\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2"})}),Object(n.jsx)(Oe.a,{value:"0",children:"\u30b2\u30b9\u30c8"}),Object(n.jsx)(Oe.a,{value:"1",children:"\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2"})]})]}),Object(n.jsx)(le.a,{component:"fieldset",children:Object(n.jsx)(be.a,{label:"\u30cb\u30c3\u30af\u30cd\u30fc\u30e0",value:F,onChange:function(e){return E(e.target.value)},required:!0,InputLabelProps:{shrink:!0}})})]}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",type:"submit",children:"\u767b\u9332"})]})}),Object(n.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:Y,onClose:R,closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(n.jsx)(M.a,{in:Y,children:Object(n.jsx)(L,{title:"\u767b\u9332\u78ba\u8a8d",text:"\u3053\u306e\u5185\u5bb9\u3067\u767b\u9332\u3057\u307e\u3059\u304b\uff1f",buttonText:"\u767b\u9332\u3059\u308b",handleClose:R,onSubmit:function(){V();var t=C.collection("users").doc().id;C.collection("users").doc(t).set({first_name:l,last_name:r,email:b,password:y,user_flg:A,created_at:I.a.firestore.FieldValue.serverTimestamp()}),C.collection("profiles").add({user_id:t,nickname:F,created_at:I.a.firestore.FieldValue.serverTimestamp()}),e.history.push({pathname:"/"})}})})})]})})),Qt=function(e){var t=e.location.state.email,a=Object(i.useState)([{id:"",user_flg:""}]),c=Object(p.a)(a,2),r=c[0],s=c[1];return Object(i.useEffect)((function(){var e=C.collection("users").where("email","==",t).onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,user_flg:e.data().user_flg}})))}));return function(){e()}}),[]),Object(n.jsxs)(n.Fragment,{children:["0"===r[0].user_flg&&e.history.push({pathname:"/guest",state:{myId:r[0].id}}),"1"===r[0].user_flg&&e.history.push({pathname:"/volunteer",state:{myId:r[0].id}})]})},Lt=Object(_.a)((function(e){return{root:{flexGrow:1,marginBottom:8},paper:{padding:e.spacing(1),margin:"auto",maxWidth:500},large:{width:e.spacing(8),height:e.spacing(8)},avatar:{paddingRight:"10px"},list:{flexDirection:"column",padding:"0 0 0 0"},list2:{padding:"0 0 0 0",position:"relative",marginBottom:"0"},button:{boxShadow:"none",position:"absolute",right:"0",bottom:"0",pointerEvents:"none"},image:{width:"5rem",height:"5rem"},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"}}})),Rt=Object(o.f)((function(e){var t=e.myId,a=e.mynickname,i=e.mypic,c=e.history,r=e.id,s=e.volunteer_id,o=e.picture,d=e.nickname,l=e.es_date,u=e.start_time,m=e.departure,j=e.destination,b=e.number,p=e.lan_1,h=e.lan_2,O=e.lan_3,x=e.status,_=e.status_2,y=e.rikkouho_id,f=e.emergency,v=Lt(),k="";y&&(k=y.includes(t)),y||(k=!1);var A=null;return"\u6210\u7acb\u6e08"===x&&s===t&&(A=!1),"\u6210\u7acb\u6e08"===x&&s!==t&&(A=!0),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:v.root,children:Object(n.jsx)(ke.a,{className:v.paper,children:Object(n.jsxs)(Ae.a,{button:!0,className:v.list,onClick:function(){c.push({pathname:"/volunteer/detail",state:{escortId:r,myId:t,mynickname:a,mypic:i}})},disabled:A,children:[Object(n.jsxs)(Ae.a,{className:v.list2,children:[Object(n.jsx)(Ie.a,{className:v.avatar,children:o?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ce.a,{variant:"rounded",src:o,alt:"".concat(d,"\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"),className:v.large})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ce.a,{variant:"rounded",src:F,alt:"\u753b\u50cf\u306f\u3042\u308a\u307e\u305b\u3093",className:v.large})})}),Object(n.jsx)(Ne.a,{className:v.text,primary:"".concat(d,"\u3055\u3093\u306e\u30ea\u30af\u30a8\u30b9\u30c8"),secondary:Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u65e5\u6642\uff1a",1===f?"\u4eca\u3059\u3050":"".concat(l," ").concat(u,"\uff5e")]})})})]}),Object(n.jsx)(Ae.a,{className:v.list2,children:Object(n.jsx)(Ne.a,{secondary:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u51fa\u767a\u5730\uff1a",m]}),Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u76ee\u7684\u5730\uff1a",j]}),Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u8a00\u8a9e\uff1a",p,h&&"\u3001".concat(h),O&&"\u3001".concat(O)]}),Object(n.jsxs)(g.a,{component:"span",variant:"body2",display:"block",children:["\u25a0\u4eba\u6570\uff1a",b,"\u4eba"]})]})})}),"\u52df\u96c6\u4e2d"===x&&!1===k&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:v.button,size:"small",children:x})}),"\u52df\u96c6\u4e2d"===x&&!0===k&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:v.button,size:"small",children:"\u7acb\u5019\u88dc\u6e08"})}),"\u6210\u7acb\u6e08"===x&&"\u5b8c\u4e86"===_&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:v.button,size:"small",children:_})}),"\u6210\u7acb\u6e08"===x&&"\u5f85\u6a5f\u4e2d"===_&&!1===A&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"secondary",className:v.button,size:"small",children:_})}),"\u6210\u7acb\u6e08"===x&&"\u5230\u7740"===_&&!1===A&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"secondary",className:v.button,size:"small",children:"\u9032\u884c\u4e2d"})}),"\u6210\u7acb\u6e08"===x&&"\u5b8c\u4e86\u5831\u544a"===_&&!1===A&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"secondary",className:v.button,size:"small",children:"\u9032\u884c\u4e2d"})}),"\u6210\u7acb\u6e08"===x&&"\u5b8c\u4e86"!==_&&!0===A&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:v.button,size:"small",children:x})})]})})},r)})})),Vt=Object(_.a)((function(e){return{box:{paddingBottom:10}}})),Pt=function(e){var t=e.history,a=e.myId,c=e.mynickname,r=e.mypic,s=Vt(),o=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",volunteer_pic:"",volunteer_nickname:"",guest_pic:"",guest_nickname:""}]),d=Object(p.a)(o,2),l=d[0],u=d[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("emergency","==",1).where("status","==","\u52df\u96c6\u4e2d").orderBy("created_at","desc").limit(3).onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,guest_nickname:e.data().guest_nickname,guest_pic:e.data().guest_pic}})))}));return function(){e()}}),[]),Object(n.jsx)("div",{className:s.box,children:l&&Object(n.jsx)(n.Fragment,{children:l.map((function(e){return Object(n.jsx)(Rt,{id:e.id,volunteer_id:e.volunteer_id,picture:e.guest_pic,rikkouho_id:e.rikkouho_id,nickname:e.guest_nickname,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,number:e.number,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a,mynickname:c,mypic:r},e.id)}))})})},Kt=function(e){var t=e.history,a=e.myId,c=e.mynickname,r=e.mypic,s=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",volunteer_pic:"",volunteer_nickname:"",guest_pic:"",guest_nickname:""}]),o=Object(p.a)(s,2),d=o[0],l=o[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("emergency","==",0).where("status","==","\u52df\u96c6\u4e2d").orderBy("es_date","asc").limit(3).onSnapshot((function(e){return l(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,guest_nickname:e.data().guest_nickname,guest_pic:e.data().guest_pic}})))}));return function(){e()}}),[]),Object(n.jsx)("div",{children:d&&Object(n.jsx)(n.Fragment,{children:d.map((function(e){return Object(n.jsx)(Rt,{id:e.id,volunteer_id:e.volunteer_id,picture:e.guest_pic,nickname:e.guest_nickname,rikkouho_id:e.rikkouho_id,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,number:e.number,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a,mynickname:c,mypic:r},e.id)}))})})},qt=function(e){var t=e.history,a=e.myId,c=e.mynickname,r=e.mypic,s=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",volunteer_pic:"",volunteer_nickname:"",guest_pic:"",guest_nickname:""}]),o=Object(p.a)(s,2),d=o[0],l=o[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").orderBy("es_date","asc").onSnapshot((function(e){return l(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,guest_nickname:e.data().guest_nickname,guest_pic:e.data().guest_pic}})))}));return function(){e()}}),[]),Object(n.jsx)(n.Fragment,{children:d&&Object(n.jsx)(n.Fragment,{children:d.map((function(e){return Object(n.jsx)(Rt,{id:e.id,picture:e.guest_pic,nickname:e.guest_nickname,volunteer_id:e.volunteer_id,rikkouho_id:e.rikkouho_id,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,number:e.number,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a,mynickname:c,mypic:r},e.id)}))})})},Ut=function(e){var t=e.myId,a=e.history,c=e.mynickname,r=e.mypic,s=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",volunteer_pic:"",volunteer_nickname:"",guest_pic:"",guest_nickname:""}]),o=Object(p.a)(s,2),d=o[0],l=o[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("status","==","\u52df\u96c6\u4e2d").orderBy("es_date","asc").onSnapshot((function(e){return l(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,guest_nickname:e.data().guest_nickname,guest_pic:e.data().guest_pic}})))}));return function(){e()}}),[]),Object(n.jsx)(n.Fragment,{children:d&&Object(n.jsx)(n.Fragment,{children:d.map((function(e){return Object(n.jsx)(Rt,{id:e.id,volunteer_id:e.volunteer_id,picture:e.guest_pic,nickname:e.guest_nickname,rikkouho_id:e.rikkouho_id,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,number:e.number,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:a,myId:t,mynickname:c,mypic:r},e.id)}))})})},Ht=Object(_.a)((function(e){return{image:{width:"600",height:"100",paddingTop:10},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},subtitle:{paddingTop:8},text:{margin:"0 auto",maxWidth:"600px"}}})),Jt=function(e){var t=e.title,a=e.text,i=e.src,c=e.alt,r=e.color,s=Ht();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:s.text,children:[Object(n.jsx)(g.a,{variant:"h6",className:s.subtitle,children:t}),Object(n.jsx)("div",{className:r}),Object(n.jsx)(g.a,{variant:"body2",children:a})]}),Object(n.jsx)("div",{className:s.image,children:Object(n.jsx)("img",{src:i,alt:c,className:s.img})})]})},Zt=a.p+"static/media/realtime.003c699d.jpg",Xt=a.p+"static/media/pretime.d57eca61.jpg";function $t(e){var t=e.children,a=e.value,i=e.index,c=Object(te.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(ee.a)(Object(ee.a)({role:"tabpanel",hidden:a!==i,id:"full-width-tabpanel-".concat(i),"aria-labelledby":"full-width-tab-".concat(i)},c),{},{children:a===i&&Object(n.jsx)(n.Fragment,{children:t})}))}function ea(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var ta=Object(_.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},tab:{bottom:"auto",top:55},margin:{top:55,marginBottom:120}}})),aa=function(e){var t=e.myId,a=e.mynickname,c=e.mypic,r=e.history,s=ta(),o=Object(fe.a)(),d=Object(i.useState)(0),l=Object(p.a)(d,2),u=l[0],m=l[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:s.margin}),Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(y.a,{position:"fixed",color:"default",className:s.tab,children:Object(n.jsxs)(ae.a,{value:u,onChange:function(e,t){m(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(n.jsx)(ne.a,Object(ee.a)({label:"\u30c8\u30c3\u30d7"},ea(0))),Object(n.jsx)(ne.a,Object(ee.a)({label:"\u3059\u3079\u3066"},ea(1))),Object(n.jsx)(ne.a,Object(ee.a)({label:"\u52df\u96c6\u4e2d"},ea(2)))]})}),Object(n.jsxs)(ye.a,{axis:"rtl"===o.direction?"x-reverse":"x",index:u,onChangeIndex:function(e){m(e)},children:[Object(n.jsxs)($t,{value:u,index:0,dir:o.direction,children:[Object(n.jsx)(Jt,{title:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30ea\u30af\u30a8\u30b9\u30c8",text:"\u4eca\u3059\u3050\u3042\u306a\u305f\u3092\u5fc5\u8981\u3068\u3057\u3066\u3044\u308b\u30b2\u30b9\u30c8\u3055\u3093\u304c\u3044\u307e\u3059\u3002\u65e9\u901f\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u78ba\u8a8d\u3057\u3066\u307f\u307e\u3057\u3087\u3046\uff01",src:Zt,color:"borderRed",alt:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30ab\u30d0\u30fc\u753b\u50cf"}),Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(Pt,{myId:t,mynickname:a,mypic:c,history:r})}),Object(n.jsx)(Jt,{title:"\u4e8b\u524d\u30ea\u30af\u30a8\u30b9\u30c8",text:"\u5b9f\u65bd\u65e5\u304c\u8fd1\u3065\u3044\u3066\u3044\u308b\u4e8b\u524d\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u3042\u308a\u307e\u3059\u3002",src:Xt,color:"borderYellow",alt:"\u4e8b\u524d\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30ab\u30d0\u30fc\u753b\u50cf"}),Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(Kt,{myId:t,mynickname:a,mypic:c,history:r})})]}),Object(n.jsx)($t,{value:u,index:1,dir:o.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(qt,{myId:t,mynickname:a,mypic:c,history:r})})}),Object(n.jsx)($t,{value:u,index:2,dir:o.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(Ut,{myId:t,mynickname:a,mypic:c,history:r})})})]})]})]})},na=function(e){var t=e.myId,a=e.mynickname,i=e.mypic,c=e.history;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u30ea\u30af\u30a8\u30b9\u30c8",history:c}),Object(n.jsx)(aa,{myId:t,mynickname:a,mypic:i,history:c})]})},ia=Object(_.a)((function(e){return{box:{paddingBottom:10}}})),ca=function(e){var t=e.history,a=e.myId,c=e.mypic,r=e.mynickname,s=ia(),o=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",guest_nickname:"",guest_pic:""}]),d=Object(p.a)(o,2),l=d[0],u=d[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("volunteer_id","==",a).where("status","==","\u6210\u7acb\u6e08").orderBy("es_date","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,guest_nickname:e.data().guest_nickname,guest_pic:e.data().guest_pic}})))}));return function(){e()}}),[]),Object(n.jsx)("div",{className:s.box,children:l&&Object(n.jsx)(n.Fragment,{children:l.map((function(e){return Object(n.jsx)(Rt,{id:e.id,volunteer_id:e.volunteer_id,picture:e.guest_pic,nickname:e.guest_nickname,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,rikkouho_id:e.rikkouho_id,number:e.number,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a,mypic:c,mynickname:r},e.id)}))})})},ra=Object(_.a)((function(e){return{box:{paddingBottom:10}}})),sa=function(e){var t=e.history,a=e.myId,c=e.mypic,r=e.mynickname,s=ra(),o=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",guest_nickname:"",guest_pic:""}]),d=Object(p.a)(o,2),l=d[0],u=d[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("rikkouho_id","array-contains",a).where("status","==","\u52df\u96c6\u4e2d").orderBy("es_date","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,guest_nickname:e.data().guest_nickname,guest_pic:e.data().guest_pic}})))}));return function(){e()}}),[]),Object(n.jsx)("div",{className:s.box,children:l&&Object(n.jsx)(n.Fragment,{children:l.map((function(e){return Object(n.jsx)(Rt,{id:e.id,volunteer_id:e.volunteer_id,picture:e.guest_pic,nickname:e.guest_nickname,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,rikkouho_id:e.rikkouho_id,number:e.number,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a,mypic:c,mynickname:r},e.id)}))})})},oa=Object(_.a)((function(e){return{box:{paddingBottom:10}}})),da=function(e){var t=e.history,a=e.myId,c=(e.mypic,e.mynickname,oa()),r=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",guest_nickname:"",guest_pic:""}]),s=Object(p.a)(r,2),o=s[0],d=s[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").where("volunteer_id","==",a).where("status_2","==","\u5b8c\u4e86").orderBy("es_date","asc").onSnapshot((function(e){return d(e.docs.map((function(e){return{id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,guest_nickname:e.data().guest_nickname,guest_pic:e.data().guest_pic}})))}));return function(){e()}}),[]),Object(n.jsx)("div",{className:c.box,children:o&&Object(n.jsx)(n.Fragment,{children:o.map((function(e){return Object(n.jsx)(Rt,{id:e.id,volunteer_id:e.volunteer_id,picture:e.guest_pic,nickname:e.guest_nickname,rikkouho_id:e.rikkouho_id,es_date:e.es_date,start_time:e.start_time,end_time:e.end_time,departure:e.departure,destination:e.destination,number:e.number,lan_1:e.lan_1,lan_2:e.lan_2,lan_3:e.lan_3,status:e.status,status_2:e.status_2,emergency:e.emergency,history:t,myId:a},e.id)}))})})};function la(e){var t=e.children,a=e.value,i=e.index,c=Object(te.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(ee.a)(Object(ee.a)({role:"tabpanel",hidden:a!==i,id:"full-width-tabpanel-".concat(i),"aria-labelledby":"full-width-tab-".concat(i)},c),{},{children:a===i&&Object(n.jsx)(n.Fragment,{children:t})}))}function ua(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var ma=Object(_.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},tab:{bottom:"auto",top:55},margin:{top:55,marginBottom:120}}})),ja=function(e){var t=e.myId,a=e.mypic,c=e.mynickname,r=e.history,s=ma(),o=Object(fe.a)(),d=Object(i.useState)(0),l=Object(p.a)(d,2),u=l[0],m=l[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:s.margin}),Object(n.jsxs)("div",{className:s.root,children:[Object(n.jsx)(y.a,{position:"fixed",color:"default",className:s.tab,children:Object(n.jsxs)(ae.a,{value:u,onChange:function(e,t){m(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(n.jsx)(ne.a,Object(ee.a)({label:"\u6210\u7acb\u6e08"},ua(0))),Object(n.jsx)(ne.a,Object(ee.a)({label:"\u627f\u8a8d\u5f85\u3061"},ua(1))),Object(n.jsx)(ne.a,Object(ee.a)({label:"\u5c65\u6b74"},ua(2)))]})}),Object(n.jsxs)(ye.a,{axis:"rtl"===o.direction?"x-reverse":"x",index:u,onChangeIndex:function(e){m(e)},children:[Object(n.jsx)(la,{value:u,index:0,dir:o.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(ca,{myId:t,mypic:a,mynickname:c,history:r})})}),Object(n.jsx)(la,{value:u,index:1,dir:o.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(sa,{myId:t,mypic:a,mynickname:c,history:r})})}),Object(n.jsx)(la,{value:u,index:2,dir:o.direction,children:Object(n.jsx)(ve.a,{p:1,children:Object(n.jsx)(da,{myId:t,mypic:a,mynickname:c,history:r})})})]})]})]})},ba=function(e){var t=e.myId,a=e.mypic,i=e.mynickname,c=e.history;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u30de\u30a4\u30ea\u30b9\u30c8",history:c}),Object(n.jsx)(ja,{myId:t,mypic:a,mynickname:i,history:c})]})},pa=a(123),ha=a.n(pa),Oa=Object(_.a)((function(e){return{green:{color:"#fff",backgroundColor:rt.a[500]},blue:{color:"#fff",backgroundColor:st.a[500]},red:{color:"#fff",backgroundColor:"#f44336"},yellow:{color:"#fff",backgroundColor:"#ffc400"},black:{color:"#fff",backgroundColor:"black"}}})),xa=Object(o.f)((function(e){var t=e.id,a=e.mypic,i=e.mynickname,c=e.escort_id,r=e.notice,s=e.date,o=e.already_read,d=e.icon,l=e.history,u=e.myId,m=Oa();return Object(n.jsxs)("div",{className:o,children:[Object(n.jsxs)(Ae.a,{alignItems:"center",button:!0,onClick:function(){C.collection("notices").doc(t).update({already_read:1}),l.push({pathname:"/volunteer/detail",state:{escortId:c,myId:u,mypic:a,mynickname:i}})},children:[0===d&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.red,children:Object(n.jsx)(ct.a,{})})}),1===d&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.black,children:Object(n.jsx)(nt.a,{})})}),2===d&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.green,children:Object(n.jsx)($e.a,{})})}),3===d&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.yellow,children:Object(n.jsx)(tt.a,{})})}),4===d&&Object(n.jsx)(Ie.a,{children:Object(n.jsx)(Ce.a,{className:m.blue,children:Object(n.jsx)(ha.a,{})})}),Object(n.jsx)(Ne.a,{primary:r,secondary:s})]}),Object(n.jsx)(Ze.a,{component:"li"})]},t)})),ga=Object(_.a)((function(e){return{root:{width:"100%",maxWidth:"500px",backgroundColor:e.palette.background.paper,margin:"0 auto"},margin:{marginBottom:60}}})),_a=function(e){var t=e.myId,a=(e.mypic,e.mynickname,e.history),c=ga(),r=Object(i.useState)([{id:"",escort_id:"",user_id:"",icon:"",notice:"",already_read:"",created_at:null}]),s=Object(p.a)(r,2),o=s[0],d=s[1];return Object(i.useEffect)((function(){var e=C.collection("notices").where("user_id","==",t).orderBy("created_at","desc").onSnapshot((function(e){return d(e.docs.map((function(e){return{id:e.id,escort_id:e.data().escort_id,user_id:e.data().user_id,icon:e.data().icon,notice:e.data().notice,already_read:e.data().already_read,created_at:e.data().created_at}})))}));return function(){e()}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u304a\u77e5\u3089\u305b",history:a}),Object(n.jsx)("div",{className:c.margin}),Object(n.jsx)(Le.a,{className:c.root,children:o&&o.map((function(e){return Object(n.jsx)(xa,{id:e.id,escort_id:e.escort_id,notice:e.notice,date:e.date,already_read:0===e.already_read?"colored":"",icon:e.icon,history:a,myId:t},e.id)}))})]})},ya=Object(_.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",maxWidth:500,position:"relative"},revise:{position:"absolute",top:7,right:5},image:{width:"8rem",height:"8rem",marginBottom:"10px",backgroundImage:"url(".concat(F,")"),backgroundSize:"cover",cursor:"pointer",position:"relative",verticalAlign:"middle",textAlign:"center",display:"table-cell","&:hover":{backgroundColor:"rgba(128,128,128,0.3)"}},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"},inputFile:{display:"none"},imgIcon:{position:"absolute",left:50,top:52,color:"white"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},margin:{marginBottom:70},reviewarea:{backgroundColor:"#f5f5f5",width:"100%"},update:{textAlign:"right"},account:{minWidth:300},description:{minWidth:"100%"}}})),fa=function(e){var t=e.id,a=e.user_id,c=e.nickname,r=e.picture,s=e.account,o=e.description,d=e.updated_at,l=e.created_at,u=ya(),m=Object(i.useState)([{id:""}]),j=Object(p.a)(m,2),b=j[0],h=j[1];Object(i.useEffect)((function(){var e=C.collection("escorts").where("volunteer_id","==",a).onSnapshot((function(e){return h(e.docs.map((function(e){return{id:e.id}})))}));return function(){e()}}),[]);var _=Object(i.useState)(null),y=Object(p.a)(_,2),f=y[0],v=y[1],k=Object(i.useState)(c),A=Object(p.a)(k,2),N=A[0],B=A[1],S=Object(i.useState)(s),F=Object(p.a)(S,2),E=F[0],G=F[1],T=Object(i.useState)(o),z=Object(p.a)(T,2),M=z[0],W=z[1],Y=Object(i.useState)(!0),Q=Object(p.a)(Y,2),L=Q[0],R=Q[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:u.margin}),Object(n.jsxs)("div",{className:u.box,children:[!0===L&&Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:u.revise,onClick:function(){R(!1)},children:"\u4fee\u6b63\u3059\u308b"}),!1===L&&Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:u.revise,onClick:function(){R(!0),v(null),B(c),G(s),W(o)},children:"\u4e2d\u65ad\u3057\u3066\u5143\u306b\u623b\u3059"}),Object(n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),E||G(" "),M||W(" "),f){var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=Array.from(crypto.getRandomValues(new Uint32Array(16))).map((function(e){return a[e%a.length]})).join("")+"_"+f.name;w.ref("pictures/".concat(n)).put(f).on(I.a.storage.TaskEvent.STATE_CHANGED,(function(){}),(function(e){alert(e.message)}),Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.ref("pictures").child(n).getDownloadURL().then(function(){var e=Object(x.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.collection("profiles").doc(t).update({nickname:N,description:M,picture:a,account:E,updated_at:I.a.firestore.FieldValue.serverTimestamp()});case 2:b.map((function(e){return C.collection("escorts").doc(e.id).update({volunteer_nickname:N,volunteer_pic:a})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))))}else C.collection("profiles").doc(t).update({nickname:N,description:M,account:E,updated_at:I.a.firestore.FieldValue.serverTimestamp()}),b.map((function(e){return C.collection("escorts").doc(e.id).update({volunteer_nickname:N})}));R(!0),v(null),B(N),G(E),W(M)},children:[Object(n.jsx)("label",{children:Object(n.jsxs)("div",{className:u.image,children:[f&&Object(n.jsx)("img",{id:"thumbnail",src:"",alt:"\u9078\u629e\u4e2d\u306e\u753b\u50cf",className:u.img}),!f&&r&&Object(n.jsx)("img",{id:"thumbnail",src:r,alt:"\u9078\u629e\u4e2d\u306e\u753b\u50cf",className:u.img}),!1===L&&Object(n.jsx)(jt.a,{className:u.imgIcon}),Object(n.jsx)("input",{type:"file",onChange:function(e){if(e.target.files[0]){v(e.target.files[0]);var t=new FileReader;t.onload=function(e){document.getElementById("thumbnail").setAttribute("src",e.target.result)},t.readAsDataURL(e.target.files[0])}e.target.value=""},className:u.inputFile,disabled:L})]})}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u30cb\u30c3\u30af\u30cd\u30fc\u30e0"}),Object(n.jsx)(le.a,{required:!0,children:Object(n.jsx)(be.a,{value:N,onChange:function(e){return B(e.target.value)},disabled:L})}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0SNS\u30a2\u30ab\u30a6\u30f3\u30c8"}),Object(n.jsx)(le.a,{className:u.account,children:Object(n.jsx)(be.a,{value:E,onChange:function(e){return G(e.target.value)},disabled:L})}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u305d\u306e\u4ed6\uff08\u81ea\u7531\u8a18\u8ff0\uff09"}),Object(n.jsx)(le.a,{className:u.description,children:Object(n.jsx)(be.a,{value:M,multiline:!0,rows:5,variant:"outlined",margin:"normal",onChange:function(e){return W(e.target.value)},disabled:L})}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",className:u.update,children:[d&&Object(n.jsxs)(n.Fragment,{children:["\u66f4\u65b0\u65e5\uff1a",new Date(null===d||void 0===d?void 0:d.toDate()).toLocaleString()]}),!d&&Object(n.jsxs)(n.Fragment,{children:["\u4f5c\u6210\u65e5\uff1a",new Date(null===l||void 0===l?void 0:l.toDate()).toLocaleString()]})]}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",disabled:L,type:"submit",children:"\u4fee\u6b63\u767b\u9332"})]})]})]},t)},va=Object(_.a)((function(e){return{line:{borderBottom:"solid 0.5px black"}}})),ka=function(e){var t=e.id,a=e.evaluate,i=e.comment,c=e.created_at,r=va();return Object(n.jsxs)("div",{children:[Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u8a55\u4fa1\uff1a",a,Object(n.jsx)("br",{}),"\u30b3\u30e1\u30f3\u30c8\uff1a",i,Object(n.jsx)("br",{}),"(\u6295\u7a3f\u65e5\uff1a",new Date(null===c||void 0===c?void 0:c.toDate()).toLocaleString(),")"]}),Object(n.jsx)("div",{className:r.line})]},t)},Aa=function(e){var t=e.myId,a=Object(i.useState)([{id:"",escort_id:"",volunteer_id:"",guest_id:"",evaluate:"",comment:"",created_at:null}]),c=Object(p.a)(a,2),r=c[0],s=c[1];return Object(i.useEffect)((function(){var e=C.collection("evaluates").where("volunteer_id","==",t).orderBy("created_at","asc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,escort_id:e.data().escort_id,volunteer_id:e.data().volunteer_id,guest_id:e.data().guest_id,evaluate:e.data().evaluate,comment:e.data().comment,created_at:e.data().created_at}})))}));return function(){e()}}),[]),Object(n.jsx)(n.Fragment,{children:r&&r.map((function(e){return Object(n.jsx)(ka,{id:e.id,evaluate:e.evaluate,comment:e.comment,created_at:e.created_at},e.id)}))})},Ia=Object(_.a)((function(e){return{reviewarea:{backgroundColor:"#f5f5f5",width:"100%"},box:{padding:e.spacing(1),margin:"auto",maxWidth:500}}})),Ca=function(e){var t=e.myId,a=e.history,c=Ia(),r=Object(i.useState)([{id:"",user_id:"",nickname:"",user_flg:"",picture:"",description:"",account:"",created_at:null,updated_at:null}]),s=Object(p.a)(r,2),o=s[0],d=s[1];return Object(i.useEffect)((function(){var e=C.collection("profiles").where("user_id","==",t).onSnapshot((function(e){return d(e.docs.map((function(e){return{id:e.id,user_id:e.data().user_id,nickname:e.data().nickname,user_flg:e.data().user_flg,picture:e.data().picture,description:e.data().description,account:e.data().account,created_at:e.data().created_at,updated_at:e.data().updated_at}})))}));return function(){e()}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u81ea\u5df1\u7d39\u4ecb",history:a}),o.map((function(e){return Object(n.jsx)(fa,{id:e.id,nickname:e.nickname,picture:e.picture,account:e.account,description:e.description,updated_at:e.updated_at,created_at:e.created_at,user_id:e.user_id},e.id)})),Object(n.jsx)("div",{className:c.reviewarea,children:Object(n.jsxs)("div",{className:c.box,children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u30ec\u30d3\u30e5\u30fc"}),Object(n.jsx)(Aa,{myId:t})]})})]})},Na=function(e){e.myId;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ot.a,{variant:"dot",color:"secondary",invisible:!0,children:Object(n.jsx)(gt.a,{})})})},wa=function(e){e.myId;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ot.a,{variant:"dot",color:"secondary",invisible:!0,children:Object(n.jsx)(ft.a,{})})})};function Ba(e){var t=e.children,a=e.value,i=e.index,c=Object(te.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(ee.a)(Object(ee.a)({role:"tabpanel",hidden:a!==i,id:"scrollable-prevent-tabpanel-".concat(i),"aria-labelledby":"scrollable-prevent-tab-".concat(i)},c),{},{children:a===i&&Object(n.jsx)(n.Fragment,{children:t})}))}function Sa(e){return{id:"scrollable-prevent-tab-".concat(e),"aria-controls":"scrollable-prevent-tabpanel-".concat(e)}}var Fa=Object(_.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0,paddingTop:"10px"},label:{fontSize:"8px",marginTop:"0px"},tab:{padding:"6px 9px"},icon:{marginBottom:"0px"},margin:{bottom:0,marginBottom:80}}})),Da=function(e){var t=Fa(),a=Object(i.useState)(0),c=Object(p.a)(a,2),r=c[0],s=c[1],o=e.location.state.myId,d=Object(i.useState)([{id:"",nickname:"",picture:""}]),l=Object(p.a)(d,2),u=l[0],m=l[1];Object(i.useEffect)((function(){var e=C.collection("profiles").where("user_id","==",o).onSnapshot((function(e){return m(e.docs.map((function(e){return{id:e.id,nickname:e.data().nickname,picture:e.data().picture}})))}));return function(){e()}}),[]);return Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(Ba,{value:r,index:0,children:Object(n.jsx)(na,{myId:o,mynickname:u[0].nickname,mypic:u[0].picture,history:e.history})}),Object(n.jsx)(Ba,{value:r,index:1,children:Object(n.jsx)(ba,{myId:o,history:e.history})}),Object(n.jsx)(Ba,{value:r,index:2,children:Object(n.jsx)(Je,{myId:o,mynickname:u[0].nickname,mypic:u[0].picture,history:e.history})}),Object(n.jsx)(Ba,{value:r,index:3,children:Object(n.jsx)(_a,{myId:o,mynickname:u[0].nickname,mypic:u[0].picture,history:e.history})}),Object(n.jsx)(Ba,{value:r,index:4,children:Object(n.jsx)(Ca,{myId:o,history:e.history})}),Object(n.jsx)("div",{className:t.margin}),Object(n.jsx)(y.a,{position:"fixed",color:"inherit",className:t.appBar,children:Object(n.jsxs)(ae.a,{variant:"fullWidth",value:r,onChange:function(e,t){s(t)},textColor:"primary",children:[Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(ce.a,{}),label:Object(n.jsx)("p",{className:t.label,children:"\u30ea\u30af\u30a8\u30b9\u30c8"})},Sa(0)),{},{className:t.tab})),Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(se.a,{}),label:Object(n.jsx)("p",{className:t.label,children:"\u30de\u30a4\u30ea\u30b9\u30c8"})},Sa(1)),{},{className:t.tab})),Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(Na,{myId:o}),label:Object(n.jsx)("p",{className:t.label,children:"\u30c1\u30e3\u30c3\u30c8"})},Sa(2)),{},{className:t.tab})),Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(wa,{myId:o}),label:Object(n.jsx)("p",{className:t.label,children:"\u304a\u77e5\u3089\u305b"})},Sa(3)),{},{className:t.tab})),Object(n.jsx)(ne.a,Object(ee.a)(Object(ee.a)({icon:Object(n.jsx)(de.a,{}),label:Object(n.jsx)("p",{className:t.label,children:"\u81ea\u5df1\u7d39\u4ecb"})},Sa(4)),{},{className:t.tab}))]})})]})},Ea=Object(_.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},button:{display:"block",margin:"0 auto",marginBottom:10,marginTop:10},input:{display:"block",minWidth:150}}})),Ga=new Date,Ta=Ga.getFullYear()+"/"+("0"+(Ga.getMonth()+1)).slice(-2)+"/"+("0"+Ga.getDate()).slice(-2),za=function(e){var t=e.id,a=e.volunteer_id,c=e.myId,r=e.mynickname,s=(e.mypic,e.es_date),o=e.disabled,d=Ea(),l=Object(i.useState)(""),u=Object(p.a)(l,2),m=u[0],j=u[1],b=Object(i.useState)(""),h=Object(p.a)(b,2),O=h[0],x=h[1],_=Object(i.useState)(!1),y=Object(p.a)(_,2),f=y[0],v=y[1],k=function(){v(!1)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",disabled:o,onClick:function(){v(!0)},className:d.button,children:"\u5b8c\u4e86\u78ba\u8a8d\u30fb\u8a55\u4fa1"}),Object(n.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:d.modal,open:f,onClose:k,closeAfterTransition:!0,BackdropComponent:z.a,BackdropProps:{timeout:500},children:Object(n.jsx)(M.a,{in:f,children:Object(n.jsx)(L,{title:"\u5b8c\u4e86\u78ba\u8a8d\u30fb\u8a55\u4fa1",text:Object(n.jsxs)("div",{children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u8a55\u4fa1"}),Object(n.jsx)(le.a,{component:"fieldset",className:d.input,children:Object(n.jsxs)(he.a,{labelId:"evaluate",id:"evaluate",value:m,onChange:function(e){return j(e.target.value)},displayEmpty:!0,required:!0,children:[Object(n.jsx)(Oe.a,{value:"",children:Object(n.jsx)("em",{children:"\u8a55\u4fa1"})}),Object(n.jsx)(Oe.a,{value:"1",children:"1(\u6700\u4f4e)"}),Object(n.jsx)(Oe.a,{value:"2",children:"2"}),Object(n.jsx)(Oe.a,{value:"3",children:"3"}),Object(n.jsx)(Oe.a,{value:"4",children:"4"}),Object(n.jsx)(Oe.a,{value:"5",children:"5(\u6700\u5927)"})]})}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u30b3\u30e1\u30f3\u30c8"}),Object(n.jsx)(le.a,{children:Object(n.jsx)(be.a,{value:O,multiline:!0,rows:5,variant:"outlined",margin:"normal",onChange:function(e){return x(e.target.value)}})})]}),buttonText:"\u9001\u4fe1",handleClose:k,onSubmit:function(){"\u4eca\u3059\u3050"===s&&C.collection("escorts").doc(t).update({status_2:"\u5b8c\u4e86",es_date:Ta}),"\u4eca\u3059\u3050"!==s&&C.collection("escorts").doc(t).update({status_2:"\u5b8c\u4e86"}),C.collection("notices").add({escort_id:t,user_id:a,icon:3,notice:"".concat(r,"\u3055\u3093\u304c\u3042\u306a\u305f\u306e\u5b8c\u4e86\u5831\u544a\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()}),C.collection("evaluates").add({escort_id:t,volunteer_id:a,guest_id:c,evaluate:m,comment:O,created_at:I.a.firestore.FieldValue.serverTimestamp()}),v(!1)}})})})]})},Ma=a(106),Wa=a.n(Ma),Ya=a(126),Qa=a(7),La=Object(_.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",maxWidth:500,position:"relative"},button:{position:"absolute",top:0,right:5},image:{width:"6rem",height:"6rem"},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"},volList:{display:"flex"},volInfo:{paddingLeft:"10px"},vol:{paddingTop:10,paddingBottom:10},button2:{marginLeft:10},margin:{marginBottom:70},margin2:{marginBottom:10}}})),Ra=Object(Qa.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(n.jsx)(Ya.a,Object(ee.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Va=Object(Qa.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(Oe.a),Pa=Object(o.f)((function(e){var t=e.id,a=e.picture,c=e.nickname,r=e.volunteer_id,s=e.rikkouho_id,o=e.es_date,d=e.start_time,l=e.departure,u=e.departure_lat,m=e.departure_lon,j=e.destination,b=e.destination_lat,h=e.destination_lon,O=e.number,x=e.lan_1,_=e.lan_2,y=e.lan_3,f=e.status,v=e.status_2,k=e.emergency,A=e.history,N=e.myId,w=e.mynickname,B=e.mypic,S=La(),E=Object(i.useState)(null),T=Object(p.a)(E,2),z=T[0],M=T[1],W=function(e){M(e.currentTarget)};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:S.margin}),Object(n.jsxs)("div",{className:S.box,children:["\u52df\u96c6\u4e2d"===f&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"contained",color:"primary",className:S.button,size:"large",endIcon:Object(n.jsx)(Wa.a,{}),onClick:W,children:f})}),"\u6210\u7acb\u6e08"===f&&"\u5b8c\u4e86"!==v&&Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:S.button,size:"large",endIcon:Object(n.jsx)(Wa.a,{}),onClick:W,children:f})}),"\u5b8c\u4e86"===v&&Object(n.jsx)(D.a,{variant:"outlined",color:"primary",className:S.button,size:"large",children:v}),Object(n.jsxs)(Ra,{id:"customized-menu",anchorEl:z,keepMounted:!0,open:Boolean(z),onClose:function(){M(null)},children:[Object(n.jsx)(Va,{onClick:function(){C.collection("escorts").doc(t).update({status:"\u52df\u96c6\u4e2d",status_2:"",volunteer_id:"",volunteer_pic:"",volunteer_nickname:"",rikkouho_id:""}),(f="\u6210\u7acb\u6e08")&&C.collection("notices").add({escort_id:t,user_id:r,icon:1,notice:"".concat(w,"\u3055\u3093\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u3084\u308a\u76f4\u3057\u307e\u3057\u305f\u3002"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()})},children:Object(n.jsx)(Ne.a,{primary:"\u540c\u3058\u5185\u5bb9\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u3084\u308a\u76f4\u3059"})}),Object(n.jsx)(Va,{onClick:function(){C.collection("escorts").doc(t).delete(),(f="\u6210\u7acb\u6e08")&&C.collection("notices").add({escort_id:t,user_id:r,icon:1,notice:"".concat(w,"\u3055\u3093\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u30ad\u30e3\u30f3\u30bb\u30eb\u3057\u307e\u3057\u305f\u3002"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()}),A.goBack()({state:{myId:N,mynickname:w,mypic:B}})},children:Object(n.jsx)(Ne.a,{primary:"\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u524a\u9664\u3059\u308b"})})]}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\uff1c\u57fa\u672c\u60c5\u5831\uff1e"}),Object(n.jsxs)(g.a,{variant:"subtitle2",display:"block",children:["\u25a0\u65e5\u6642\uff1a",1===k?"\u4eca\u3059\u3050":"".concat(o," ").concat(d,"\uff5e")]}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u8a00\u8a9e\uff1a",x,_&&"\u3001".concat(_),y&&"\u3001".concat(y)]}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u4eba\u6570\uff1a",O,"\u4eba"]}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\uff1c\u30b3\u30fc\u30b9\uff1e"}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u51fa\u767a\u5730\uff1a",l]}),Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u76ee\u7684\u5730\uff1a",j]}),Object(n.jsx)(G,{departure_lat:u,departure_lon:m,destination_lat:b,destination_lon:h}),Object(n.jsxs)("div",{className:S.vol,children:["\u52df\u96c6\u4e2d"===f&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{variant:"contained",onClick:function(){A.push({pathname:"/guest/volunteerselect",state:{rikkouho_id:s,escortId:t,mynickname:w}})},children:"\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u9078\u629e"}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",size:"small",onClick:function(){A.push({pathname:"/forum",state:{escortId:t,myId:N}})},className:S.button2,children:"\u63b2\u793a\u677f"})]}),"\u6210\u7acb\u6e08"===f&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\uff1c\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u60c5\u5831\uff1e"}),Object(n.jsxs)("div",{className:S.volList,children:[Object(n.jsx)("div",{children:a?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:S.image,children:Object(n.jsx)("img",{src:a,alt:"".concat(c,"\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"),className:S.img})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:S.image,children:Object(n.jsx)("img",{src:F,alt:"\u753b\u50cf\u306f\u3042\u308a\u307e\u305b\u3093",className:S.img})})})}),Object(n.jsxs)("div",{className:S.volInfo,children:[Object(n.jsxs)(g.a,{variant:"body2",display:"block",children:["\u25a0\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\uff1a",c]}),Object(n.jsx)("div",{className:S.margin2}),Object(n.jsx)(D.a,{variant:"outlined",color:"primary",size:"small",onClick:function(){A.push({pathname:"/guest/volunteerprofile",state:{volunteerId:r}})},children:"\u7d39\u4ecb\u30da\u30fc\u30b8"}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",size:"small",onClick:function(){A.push({pathname:"/chat",state:{escortId:t,myId:N}})},className:S.button2,children:"\u30c1\u30e3\u30c3\u30c8"})]})]})]})]}),"\u6210\u7acb\u6e08"===f&&"\u5b8c\u4e86\u5831\u544a"!==v&&"\u5b8c\u4e86"!==v&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(za,{id:t,volunteer_id:r,myId:N,mynickname:w,mypic:B,disabled:!0,es_date:o}),Object(n.jsx)(g.a,{variant:"caption",display:"block",children:"\u203b\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u304c\u5b9f\u65bd\u5f8c\u306b\u5b8c\u4e86\u5831\u544a\u3059\u308b\u3068\u3001\u5b8c\u4e86\u78ba\u8a8d\u30fb\u8a55\u4fa1\u304c\u3067\u304d\u307e\u3059\u3002"})]}),"\u6210\u7acb\u6e08"===f&&"\u5b8c\u4e86\u5831\u544a"===v&&Object(n.jsx)(za,{id:t,volunteer_id:r,myId:N,mynickname:w,mypic:B,disabled:!1,es_date:o})]}),"\u5b8c\u4e86"===v&&Object(n.jsx)(g.a,{variant:"caption",display:"block",children:"\u203b\u5b8c\u4e86\u6e08\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3067\u3059\u3002"})]},t)})),Ka=function(e){var t=e.location.state.myId,a=e.location.state.mynickname,c=e.location.state.mypic,r=e.location.state.escortId,s=Object(i.useState)([{id:"",guest_id:"",volunteer_id:"",rikkouho_id:"",es_date:"",start_time:"",departure:"",destination:"",number:"",lan_1:"",lan_2:"",lan_3:"",status:"",status_2:"",emergency:"",picture:"",nickname:""}]),o=Object(p.a)(s,2),d=o[0],l=o[1];return Object(i.useEffect)((function(){var e=C.collection("escorts").doc(r).onSnapshot((function(e){return l({id:e.id,guest_id:e.data().guest_id,volunteer_id:e.data().volunteer_id,rikkouho_id:e.data().rikkouho_id,es_date:e.data().es_date,start_time:e.data().start_time,departure:e.data().departure,destination:e.data().destination,number:e.data().number,lan_1:e.data().lan_1,lan_2:e.data().lan_2,lan_3:e.data().lan_3,status:e.data().status,status_2:e.data().status_2,emergency:e.data().emergency,picture:e.data().volunteer_pic,nickname:e.data().volunteer_nickname})}));return console.log(d),function(){e()}}),[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(S,{title:"\u8a73\u7d30",history:e.history}),Object(n.jsx)(Pa,{id:d.id,picture:d.picture,nickname:d.nickname,rikkouho_id:d.rikkouho_id,guest_id:d.guest_id,volunteer_id:d.volunteer_id,es_date:d.es_date,start_time:d.start_time,departure:d.departure,departure_lat:d.departure_lat,departure_lon:d.departure_lon,destination:d.destination,destination_lat:d.destination_lat,destination_lon:d.destination_lon,number:d.number,lan_1:d.lan_1,lan_2:d.lan_2,lan_3:d.lan_3,status:d.status,status_2:d.status_2,emergency:d.emergency,history:e.history,myId:t,mynickname:a,mypic:c},d.id)]})},qa=Object(_.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",maxWidth:500},image:{width:"8rem",height:"8rem",margin:"0 auto",marginBottom:"10px"},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},margin:{marginBottom:70},reviewarea:{backgroundColor:"#f5f5f5",width:"100%"},update:{textAlign:"right"}}})),Ua=function(e){var t=e.id,a=e.nickname,i=e.picture,c=e.account,r=e.description,s=e.created_at,o=e.updated_at,d=qa();return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:d.margin}),Object(n.jsxs)("div",{className:d.box,children:[i?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:d.image,children:Object(n.jsx)("img",{src:i,alt:"".concat(a,"\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"),className:d.img})})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:d.image,children:Object(n.jsx)("img",{src:F,alt:"\u753b\u50cf\u306f\u3042\u308a\u307e\u305b\u3093",className:d.img})})}),Object(n.jsxs)(g.a,{variant:"subtitle1",display:"block",children:["\u25a0\u30cb\u30c3\u30af\u30cd\u30fc\u30e0\uff1a",a]}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0SNS\u30a2\u30ab\u30a6\u30f3\u30c8\uff1a"}),Object(n.jsx)("a",{href:c,children:c}),Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u81ea\u5df1\u7d39\u4ecb\uff1a"}),r,Object(n.jsxs)(g.a,{variant:"body2",display:"block",className:d.update,children:[o&&Object(n.jsxs)(n.Fragment,{children:["\u66f4\u65b0\u65e5\uff1a",new Date(null===o||void 0===o?void 0:o.toDate()).toLocaleString()]}),!o&&Object(n.jsxs)(n.Fragment,{children:["\u4f5c\u6210\u65e5\uff1a",new Date(null===s||void 0===s?void 0:s.toDate()).toLocaleString()]})]})]})]},t)},Ha=Object(_.a)((function(e){return{reviewarea:{backgroundColor:"#f5f5f5",width:"100%"},box:{padding:e.spacing(1),margin:"auto",maxWidth:500}}})),Ja=function(e){var t=Ha(),a=e.location.state.volunteerId,c=Object(i.useState)([{id:"",user_id:"",nickname:"",user_flg:"",picture:"",description:"",accout:"",created_at:null,updated_at:null}]),r=Object(p.a)(c,2),s=r[0],o=r[1];return Object(i.useEffect)((function(){var e=C.collection("profiles").where("user_id","==",a).onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,user_id:e.data().user_id,nickname:e.data().nickname,user_flg:e.data().user_flg,picture:e.data().picture,description:e.data().description,accout:e.data().accout,created_at:e.data().created_at,updated_at:e.data().updated_at}})))}));return function(){e()}}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(S,{title:"\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u306e\u81ea\u5df1\u7d39\u4ecb\u30da\u30fc\u30b8",history:e.history}),s.map((function(e){return Object(n.jsx)(Ua,{id:e.id,nickname:e.nickname,picture:e.picture,account:e.account,description:e.description,created_at:e.created_at,updated_at:e.updated_at},e.id)})),Object(n.jsx)("div",{className:t.reviewarea,children:Object(n.jsxs)("div",{className:t.box,children:[Object(n.jsx)(g.a,{variant:"subtitle1",display:"block",children:"\u25a0\u30ec\u30d3\u30e5\u30fc"}),Object(n.jsx)(Aa,{myId:a})]})})]})},Za=Object(_.a)((function(e){return{root:{flexGrow:1,marginBottom:8},paper:{padding:e.spacing(1),margin:"auto",maxWidth:500},large:{width:e.spacing(8),height:e.spacing(8)},avatar:{paddingRight:"10px"},list:{flexDirection:"column",padding:"0 0 0 0",alignItems:"start"},image:{width:"5rem",height:"5rem"},img:{margin:"auto",display:"block",width:"100%",height:"100%",objectFit:"cover"},flex:{display:"flex"},button:{marginRight:10}}})),Xa=Object(o.f)((function(e){var t=e.id,a=e.picture,i=e.user_id,c=e.nickname,r=e.history,s=e.escortId,o=e.mynickname,d=Za();console.log(a);var l="";a||(l=""),a&&(l=a);return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:d.root,children:Object(n.jsx)(ke.a,{className:d.paper,children:Object(n.jsxs)("div",{className:d.flex,children:[Object(n.jsx)(Ie.a,{className:d.avatar,children:a?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ce.a,{variant:"rounded",src:a,alt:"".concat(c,"\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"),className:d.large})}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ce.a,{variant:"rounded",src:F,alt:"\u753b\u50cf\u306f\u3042\u308a\u307e\u305b\u3093",className:d.large})})}),Object(n.jsxs)(Ae.a,{className:d.list,children:[Object(n.jsx)(Ne.a,{primary:"".concat(c,"\u3055\u3093")}),Object(n.jsx)(Ne.a,{secondary:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.a,{variant:"outlined",color:"primary",size:"small",className:d.button,onClick:function(){r.push({pathname:"/guest/volunteerprofile",state:{volunteerId:i}})},children:"\u7d39\u4ecb\u30da\u30fc\u30b8"}),Object(n.jsx)(D.a,{variant:"contained",color:"primary",size:"small",onClick:function(){C.collection("escorts").doc(s).update({status:"\u6210\u7acb\u6e08",status_2:"\u5f85\u6a5f\u4e2d",volunteer_id:i,volunteer_pic:l,volunteer_nickname:c,rikkouho_id:null}),C.collection("notices").add({escort_id:s,user_id:i,icon:0,notice:"".concat(o,"\u3055\u3093\u304c\u3042\u306a\u305f\u3092\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u306b\u9078\u3073\u307e\u3057\u305f\uff01"),already_read:0,created_at:I.a.firestore.FieldValue.serverTimestamp()}),r.goBack()},children:"\u3053\u306e\u4eba\u306b\u6c7a\u5b9a"})]})})]})]})})})},t)})),$a=Object(_.a)((function(e){return{margin:{marginBottom:70}}})),en=function(e){var t=$a(),a=e.location.state.escortId,c=e.location.state.rikkouho_id,r=e.location.state.mynickname,s=Object(i.useState)([{id:"",user_id:"",nickname:"",user_flg:"",picture:"",description:"",accout:"",created_at:null,updated_at:null}]),o=Object(p.a)(s,2),d=o[0],l=o[1];return Object(i.useEffect)((function(){var e=C.collection("profiles").where("user_id","in",c).onSnapshot((function(e){return l(e.docs.map((function(e){return{id:e.id,user_id:e.data().user_id,nickname:e.data().nickname,user_flg:e.data().user_flg,picture:e.data().picture,description:e.data().description,accout:e.data().accout,created_at:e.data().created_at,updated_at:e.data().updated_at}})))}));return function(){e()}}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(S,{title:"\u30dc\u30e9\u30f3\u30c6\u30a3\u30a2\u9078\u629e",history:e.history}),Object(n.jsx)("div",{className:t.margin}),d&&d.map((function(t){return Object(n.jsx)(Xa,{id:t.id,picture:t.picture,nickname:t.nickname,user_id:t.user_id,history:e.history,escortId:a,mynickname:r},t.id)}))]})},tn=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(s.a,{children:Object(n.jsx)(b,{children:Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{exact:!0,path:"/",component:Mt}),Object(n.jsx)(o.a,{exact:!0,path:"/register",component:Yt}),Object(n.jsx)(o.a,{exact:!0,path:"/userflg",component:Qt}),Object(n.jsx)(o.a,{exact:!0,path:"/volunteer",component:Da}),Object(n.jsx)(o.a,{exact:!0,path:"/volunteer/detail",component:$}),Object(n.jsx)(o.a,{exact:!0,path:"/volunteer/guestprofile",component:Bt}),Object(n.jsx)(o.a,{exact:!0,path:"/guest",component:Ct}),Object(n.jsx)(o.a,{exact:!0,path:"/guest/detail",component:Ka}),Object(n.jsx)(o.a,{exact:!0,path:"/guest/volunteerprofile",component:Ja}),Object(n.jsx)(o.a,{exact:!0,path:"/guest/volunteerselect",component:en}),Object(n.jsx)(o.a,{exact:!0,path:"/forum",component:Ft}),Object(n.jsx)(o.a,{exact:!0,path:"/chat",component:Et})]})})})})},an=a(124),nn=a(230),cn=Object(an.a)({palette:{primary:{light:"#f6685e",main:"#f44336",dark:"#aa2e25",contrastText:"#fff"},secondary:{light:"#ffcf33",main:"#ffc400",dark:"#b28900",contrastText:"#000"}}});r.a.render(Object(n.jsx)(nn.a,{theme:cn,children:Object(n.jsx)(tn,{})}),document.getElementById("root"))},51:function(e,t,a){}},[[176,1,2]]]);
//# sourceMappingURL=main.f7e5ddd6.chunk.js.map